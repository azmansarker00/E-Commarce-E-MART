function $C(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function FC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tg={exports:{}},Bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function BC(){if(J1)return Bu;J1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Bu.Fragment=e,Bu.jsx=n,Bu.jsxs=n,Bu}var eE;function HC(){return eE||(eE=1,Tg.exports=BC()),Tg.exports}var v=HC(),xg={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function qC(){if(tE)return Oe;tE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function b($){return $===null||typeof $!="object"?null:($=E&&$[E]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function C($,ee,fe){this.props=$,this.context=ee,this.refs=D,this.updater=fe||T}C.prototype.isReactComponent={},C.prototype.setState=function($,ee){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ee,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function P(){}P.prototype=C.prototype;function L($,ee,fe){this.props=$,this.context=ee,this.refs=D,this.updater=fe||T}var I=L.prototype=new P;I.constructor=L,A(I,C.prototype),I.isPureReactComponent=!0;var z=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},te=Object.prototype.hasOwnProperty;function O($,ee,fe,oe,be,Ne){return fe=Ne.ref,{$$typeof:t,type:$,key:ee,ref:fe!==void 0?fe:null,props:Ne}}function N($,ee){return O($.type,ee,void 0,void 0,void 0,$.props)}function M($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function V($){var ee={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(fe){return ee[fe]})}var U=/\/+/g;function B($,ee){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):ee.toString(36)}function j(){}function he($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(j,j):($.status="pending",$.then(function(ee){$.status==="pending"&&($.status="fulfilled",$.value=ee)},function(ee){$.status==="pending"&&($.status="rejected",$.reason=ee)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ve($,ee,fe,oe,be){var Ne=typeof $;(Ne==="undefined"||Ne==="boolean")&&($=null);var Ae=!1;if($===null)Ae=!0;else switch(Ne){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch($.$$typeof){case t:case e:Ae=!0;break;case y:return Ae=$._init,ve(Ae($._payload),ee,fe,oe,be)}}if(Ae)return be=be($),Ae=oe===""?"."+B($,0):oe,z(be)?(fe="",Ae!=null&&(fe=Ae.replace(U,"$&/")+"/"),ve(be,ee,fe,"",function(tn){return tn})):be!=null&&(M(be)&&(be=N(be,fe+(be.key==null||$&&$.key===be.key?"":(""+be.key).replace(U,"$&/")+"/")+Ae)),ee.push(be)),1;Ae=0;var ht=oe===""?".":oe+":";if(z($))for(var Ge=0;Ge<$.length;Ge++)oe=$[Ge],Ne=ht+B(oe,Ge),Ae+=ve(oe,ee,fe,Ne,be);else if(Ge=b($),typeof Ge=="function")for($=Ge.call($),Ge=0;!(oe=$.next()).done;)oe=oe.value,Ne=ht+B(oe,Ge++),Ae+=ve(oe,ee,fe,Ne,be);else if(Ne==="object"){if(typeof $.then=="function")return ve(he($),ee,fe,oe,be);throw ee=String($),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function K($,ee,fe){if($==null)return $;var oe=[],be=0;return ve($,oe,"","",function(Ne){return ee.call(fe,Ne,be++)}),oe}function ie($){if($._status===-1){var ee=$._result;ee=ee(),ee.then(function(fe){($._status===0||$._status===-1)&&($._status=1,$._result=fe)},function(fe){($._status===0||$._status===-1)&&($._status=2,$._result=fe)}),$._status===-1&&($._status=0,$._result=ee)}if($._status===1)return $._result.default;throw $._result}var ue=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function ce(){}return Oe.Children={map:K,forEach:function($,ee,fe){K($,function(){ee.apply(this,arguments)},fe)},count:function($){var ee=0;return K($,function(){ee++}),ee},toArray:function($){return K($,function(ee){return ee})||[]},only:function($){if(!M($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Oe.Component=C,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=L,Oe.StrictMode=i,Oe.Suspense=h,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Oe.__COMPILER_RUNTIME={__proto__:null,c:function($){return q.H.useMemoCache($)}},Oe.cache=function($){return function(){return $.apply(null,arguments)}},Oe.cloneElement=function($,ee,fe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var oe=A({},$.props),be=$.key,Ne=void 0;if(ee!=null)for(Ae in ee.ref!==void 0&&(Ne=void 0),ee.key!==void 0&&(be=""+ee.key),ee)!te.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(oe[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=fe;else if(1<Ae){for(var ht=Array(Ae),Ge=0;Ge<Ae;Ge++)ht[Ge]=arguments[Ge+2];oe.children=ht}return O($.type,be,void 0,void 0,Ne,oe)},Oe.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},Oe.createElement=function($,ee,fe){var oe,be={},Ne=null;if(ee!=null)for(oe in ee.key!==void 0&&(Ne=""+ee.key),ee)te.call(ee,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(be[oe]=ee[oe]);var Ae=arguments.length-2;if(Ae===1)be.children=fe;else if(1<Ae){for(var ht=Array(Ae),Ge=0;Ge<Ae;Ge++)ht[Ge]=arguments[Ge+2];be.children=ht}if($&&$.defaultProps)for(oe in Ae=$.defaultProps,Ae)be[oe]===void 0&&(be[oe]=Ae[oe]);return O($,Ne,void 0,void 0,null,be)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function($){return{$$typeof:f,render:$}},Oe.isValidElement=M,Oe.lazy=function($){return{$$typeof:y,_payload:{_status:-1,_result:$},_init:ie}},Oe.memo=function($,ee){return{$$typeof:p,type:$,compare:ee===void 0?null:ee}},Oe.startTransition=function($){var ee=q.T,fe={};q.T=fe;try{var oe=$(),be=q.S;be!==null&&be(fe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ce,ue)}catch(Ne){ue(Ne)}finally{q.T=ee}},Oe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Oe.use=function($){return q.H.use($)},Oe.useActionState=function($,ee,fe){return q.H.useActionState($,ee,fe)},Oe.useCallback=function($,ee){return q.H.useCallback($,ee)},Oe.useContext=function($){return q.H.useContext($)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function($,ee){return q.H.useDeferredValue($,ee)},Oe.useEffect=function($,ee,fe){var oe=q.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect($,ee)},Oe.useId=function(){return q.H.useId()},Oe.useImperativeHandle=function($,ee,fe){return q.H.useImperativeHandle($,ee,fe)},Oe.useInsertionEffect=function($,ee){return q.H.useInsertionEffect($,ee)},Oe.useLayoutEffect=function($,ee){return q.H.useLayoutEffect($,ee)},Oe.useMemo=function($,ee){return q.H.useMemo($,ee)},Oe.useOptimistic=function($,ee){return q.H.useOptimistic($,ee)},Oe.useReducer=function($,ee,fe){return q.H.useReducer($,ee,fe)},Oe.useRef=function($){return q.H.useRef($)},Oe.useState=function($){return q.H.useState($)},Oe.useSyncExternalStore=function($,ee,fe){return q.H.useSyncExternalStore($,ee,fe)},Oe.useTransition=function(){return q.H.useTransition()},Oe.version="19.1.0",Oe}var nE;function Ih(){return nE||(nE=1,xg.exports=qC()),xg.exports}var w=Ih();const de=FC(w),fy=$C({__proto__:null,default:de},[w]);var Sg={exports:{}},Hu={},Ag={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function GC(){return rE||(rE=1,function(t){function e(K,ie){var ue=K.length;K.push(ie);e:for(;0<ue;){var ce=ue-1>>>1,$=K[ce];if(0<a($,ie))K[ce]=ie,K[ue]=$,ue=ce;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ie=K[0],ue=K.pop();if(ue!==ie){K[0]=ue;e:for(var ce=0,$=K.length,ee=$>>>1;ce<ee;){var fe=2*(ce+1)-1,oe=K[fe],be=fe+1,Ne=K[be];if(0>a(oe,ue))be<$&&0>a(Ne,oe)?(K[ce]=Ne,K[be]=ue,ce=be):(K[ce]=oe,K[fe]=ue,ce=fe);else if(be<$&&0>a(Ne,ue))K[ce]=Ne,K[be]=ue,ce=be;else break e}}return ie}function a(K,ie){var ue=K.sortIndex-ie.sortIndex;return ue!==0?ue:K.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var h=[],p=[],y=1,E=null,b=3,T=!1,A=!1,D=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function z(K){for(var ie=n(p);ie!==null;){if(ie.callback===null)i(p);else if(ie.startTime<=K)i(p),ie.sortIndex=ie.expirationTime,e(h,ie);else break;ie=n(p)}}function q(K){if(D=!1,z(K),!A)if(n(h)!==null)A=!0,te||(te=!0,B());else{var ie=n(p);ie!==null&&ve(q,ie.startTime-K)}}var te=!1,O=-1,N=5,M=-1;function V(){return C?!0:!(t.unstable_now()-M<N)}function U(){if(C=!1,te){var K=t.unstable_now();M=K;var ie=!0;try{e:{A=!1,D&&(D=!1,L(O),O=-1),T=!0;var ue=b;try{t:{for(z(K),E=n(h);E!==null&&!(E.expirationTime>K&&V());){var ce=E.callback;if(typeof ce=="function"){E.callback=null,b=E.priorityLevel;var $=ce(E.expirationTime<=K);if(K=t.unstable_now(),typeof $=="function"){E.callback=$,z(K),ie=!0;break t}E===n(h)&&i(h),z(K)}else i(h);E=n(h)}if(E!==null)ie=!0;else{var ee=n(p);ee!==null&&ve(q,ee.startTime-K),ie=!1}}break e}finally{E=null,b=ue,T=!1}ie=void 0}}finally{ie?B():te=!1}}}var B;if(typeof I=="function")B=function(){I(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,he=j.port2;j.port1.onmessage=U,B=function(){he.postMessage(null)}}else B=function(){P(U,0)};function ve(K,ie){O=P(function(){K(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var ue=b;b=ie;try{return K()}finally{b=ue}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ue=b;b=K;try{return ie()}finally{b=ue}},t.unstable_scheduleCallback=function(K,ie,ue){var ce=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ce+ue:ce):ue=ce,K){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ue+$,K={id:y++,callback:ie,priorityLevel:K,startTime:ue,expirationTime:$,sortIndex:-1},ue>ce?(K.sortIndex=ue,e(p,K),n(h)===null&&K===n(p)&&(D?(L(O),O=-1):D=!0,ve(q,ue-ce))):(K.sortIndex=$,e(h,K),A||T||(A=!0,te||(te=!0,B()))),K},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(K){var ie=b;return function(){var ue=b;b=ie;try{return K.apply(this,arguments)}finally{b=ue}}}}(Rg)),Rg}var iE;function KC(){return iE||(iE=1,Ag.exports=GC()),Ag.exports}var Cg={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function QC(){if(sE)return sn;sE=1;var t=Ih();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,p,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:h,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(h,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(h,p,null,y)},sn.flushSync=function(h){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=p,i.p=y,i.d.f()}},sn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},sn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},sn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var y=p.as,E=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:T}):y==="script"&&i.d.X(h,{crossOrigin:E,integrity:b,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},sn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,E=f(y,p.crossOrigin);i.d.L(h,y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(h,p){if(typeof h=="string")if(p){var y=f(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},sn.requestFormReset=function(h){i.d.r(h)},sn.unstable_batchedUpdates=function(h,p){return h(p)},sn.useFormState=function(h,p,y){return c.H.useFormState(h,p,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var aE;function $T(){if(aE)return Cg.exports;aE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cg.exports=QC(),Cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function YC(){if(oE)return Hu;oE=1;var t=KC(),e=Ih(),n=$T();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function h(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return f(m),r;if(g===u)return f(m),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=g;else{for(var S=!1,R=m.child;R;){if(R===o){S=!0,o=m,u=g;break}if(R===u){S=!0,u=m,o=g;break}R=R.sibling}if(!S){for(R=g.child;R;){if(R===o){S=!0,o=g,u=m;break}if(R===u){S=!0,u=g,o=m;break}R=R.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),I=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var j=Symbol.for("react.client.reference");function he(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===j?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case C:return"Profiler";case D:return"StrictMode";case q:return"Suspense";case te:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case T:return"Portal";case I:return(r.displayName||"Context")+".Provider";case L:return(r._context.displayName||"Context")+".Consumer";case z:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:he(r.type)||"Memo";case N:s=r._payload,r=r._init;try{return he(r(s))}catch{}}return null}var ve=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ce=[],$=-1;function ee(r){return{current:r}}function fe(r){0>$||(r.current=ce[$],ce[$]=null,$--)}function oe(r,s){$++,ce[$]=r.current,r.current=s}var be=ee(null),Ne=ee(null),Ae=ee(null),ht=ee(null);function Ge(r,s){switch(oe(Ae,s),oe(Ne,r),oe(be,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?R1(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=R1(s),r=C1(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}fe(be),oe(be,r)}function tn(){fe(be),fe(Ne),fe(Ae)}function ji(r){r.memoizedState!==null&&oe(ht,r);var s=be.current,o=C1(s,r.type);s!==o&&(oe(Ne,r),oe(be,o))}function Yr(r){Ne.current===r&&(fe(be),fe(Ne)),ht.current===r&&(fe(ht),Vu._currentValue=ue)}var Fs=Object.prototype.hasOwnProperty,Bs=t.unstable_scheduleCallback,Hs=t.unstable_cancelCallback,Ml=t.unstable_shouldYield,Kc=t.unstable_requestPaint,Fn=t.unstable_now,Tm=t.unstable_getCurrentPriorityLevel,Ll=t.unstable_ImmediatePriority,eo=t.unstable_UserBlockingPriority,qs=t.unstable_NormalPriority,xm=t.unstable_LowPriority,to=t.unstable_IdlePriority,jl=t.log,Qc=t.unstable_setDisableYieldValue,mt=null,We=null;function In(r){if(typeof jl=="function"&&Qc(r),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(mt,r)}catch{}}var nn=Math.clz32?Math.clz32:Gs,Yc=Math.log,Sm=Math.LN2;function Gs(r){return r>>>=0,r===0?32:31-(Yc(r)/Sm|0)|0}var Ks=256,Qs=4194304;function rr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function no(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var m=0,g=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var R=u&134217727;return R!==0?(u=R&~g,u!==0?m=rr(u):(S&=R,S!==0?m=rr(S):o||(o=R&~r,o!==0&&(m=rr(o))))):(R=u&~g,R!==0?m=rr(R):S!==0?m=rr(S):o||(o=u&~r,o!==0&&(m=rr(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function Ys(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Vl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ul(){var r=Ks;return Ks<<=1,(Ks&4194048)===0&&(Ks=256),r}function zl(){var r=Qs;return Qs<<=1,(Qs&62914560)===0&&(Qs=4194304),r}function Wr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Xr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function $l(r,s,o,u,m,g){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,F=r.expirationTimes,W=r.hiddenUpdates;for(o=S&~o;0<o;){var ne=31-nn(o),se=1<<ne;R[ne]=0,F[ne]=-1;var X=W[ne];if(X!==null)for(W[ne]=null,ne=0;ne<X.length;ne++){var Z=X[ne];Z!==null&&(Z.lane&=-536870913)}o&=~se}u!==0&&br(r,u,0),g!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=g&~(S&~s))}function br(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-nn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Fl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-nn(o),m=1<<u;m&s|r[u]&s&&(r[u]|=s),o&=~m}}function Vi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ro(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ui(){var r=ie.p;return r!==0?r:(r=window.event,r===void 0?32:K1(r.type))}function Wc(r,s){var o=ie.p;try{return ie.p=r,s()}finally{ie.p=o}}var lt=Math.random().toString(36).slice(2),Nt="__reactFiber$"+lt,Tt="__reactProps$"+lt,Bn="__reactContainer$"+lt,Bl="__reactEvents$"+lt,Am="__reactListeners$"+lt,zi="__reactHandles$"+lt,Xc="__reactResources$"+lt,Ws="__reactMarker$"+lt;function $i(r){delete r[Nt],delete r[Tt],delete r[Bl],delete r[Am],delete r[zi]}function Zr(r){var s=r[Nt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Bn]||o[Nt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=k1(r);r!==null;){if(o=r[Nt])return o;r=k1(r)}return s}r=o,o=r.parentNode}return null}function Er(r){if(r=r[Nt]||r[Bn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function wr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function hn(r){var s=r[Xc];return s||(s=r[Xc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vt(r){r[Ws]=!0}var Hl=new Set,io={};function ir(r,s){Jr(r,s),Jr(r+"Capture",s)}function Jr(r,s){for(io[r]=s,r=0;r<s.length;r++)Hl.add(s[r])}var Zc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jc={},Xs={};function ef(r){return Fs.call(Xs,r)?!0:Fs.call(Jc,r)?!1:Zc.test(r)?Xs[r]=!0:(Jc[r]=!0,!1)}function Fi(r,s,o){if(ef(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Tr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function qt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Zs,tf;function ei(r){if(Zs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Zs=s&&s[1]||"",tf=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+r+tf}var so=!1;function ao(r,s){if(!r||so)return"";so=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var X=Z}Reflect.construct(r,[],se)}else{try{se.call()}catch(Z){X=Z}r.call(se.prototype)}}else{try{throw Error()}catch(Z){X=Z}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],R=g[1];if(S&&R){var F=S.split(`
`),W=R.split(`
`);for(m=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(u===F.length||m===W.length)for(u=F.length-1,m=W.length-1;1<=u&&0<=m&&F[u]!==W[m];)m--;for(;1<=u&&0<=m;u--,m--)if(F[u]!==W[m]){if(u!==1||m!==1)do if(u--,m--,0>m||F[u]!==W[m]){var ne=`
`+F[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=m);break}}}finally{so=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ei(o):""}function ql(r){switch(r.tag){case 26:case 27:case 5:return ei(r.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return ao(r.type,!1);case 11:return ao(r.type.render,!1);case 1:return ao(r.type,!0);case 31:return ei("Activity");default:return""}}function oo(r){try{var s="";do s+=ql(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function mn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Gl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Rm(r){var s=Gl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){u=""+S,g.call(this,S)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function lo(r){r._valueTracker||(r._valueTracker=Rm(r))}function Kl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Gl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Js(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Cm=/[\n"\\]/g;function xt(r){return r.replace(Cm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Nn(r,s,o,u,m,g,S,R){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),s!=null?S==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+mn(s)):r.value!==""+mn(s)&&(r.value=""+mn(s)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),s!=null?Bi(r,S,mn(s)):o!=null?Bi(r,S,mn(o)):u!=null&&r.removeAttribute("value"),m==null&&g!=null&&(r.defaultChecked=!!g),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+mn(R):r.removeAttribute("name")}function ea(r,s,o,u,m,g,S,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+mn(o):"",s=s!=null?""+mn(s):o,R||s===r.value||(r.value=s),r.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=R?r.checked:!!u,r.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Bi(r,s,o){s==="number"&&Js(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ti(r,s,o,u){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&u&&(r[o].defaultSelected=!0)}else{for(o=""+mn(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,u&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function Je(r,s,o){if(s!=null&&(s=""+mn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+mn(o):""}function ta(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(ve(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=mn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Hn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nf(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||na.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Ql(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&nf(r,m,u)}else for(var g in s)s.hasOwnProperty(g)&&nf(r,g,s[g])}function Yl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(r){return Nm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ni=null;function qn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ri=null,ii=null;function Wl(r){var s=Er(r);if(s&&(r=s.stateNode)){var o=r[Tt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Nn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var m=u[Tt]||null;if(!m)throw Error(i(90));Nn(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Kl(u)}break e;case"textarea":Je(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ti(r,!!o.multiple,s,!1)}}}var xr=!1;function rf(r,s,o){if(xr)return r(s,o);xr=!0;try{var u=r(s);return u}finally{if(xr=!1,(ri!==null||ii!==null)&&(Xf(),ri&&(s=ri,r=ii,ii=ri=null,Wl(s),r)))for(s=0;s<r.length;s++)Wl(r[s])}}function ra(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Tt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(sr)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{Gn=!1}var Sr=null,Hi=null,si=null;function Xl(){if(si)return si;var r,s=Hi,o=s.length,u,m="value"in Sr?Sr.value:Sr.textContent,g=m.length;for(r=0;r<o&&s[r]===m[r];r++);var S=o-r;for(u=1;u<=S&&s[o-u]===m[g-u];u++);return si=m.slice(r,1<u?1-u:void 0)}function Ar(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Rr(){return!0}function Zl(){return!1}function Vt(r){function s(o,u,m,g,S){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Rr:Zl,this.isPropagationStopped=Zl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),s}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=Vt(Qe),sa=y({},Qe,{view:0,detail:0}),sf=Vt(sa),fo,ho,Cr,aa=y({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Cr&&(Cr&&r.type==="mousemove"?(fo=r.screenX-Cr.screenX,ho=r.screenY-Cr.screenY):ho=fo=0,Cr=r),fo)},movementY:function(r){return"movementY"in r?r.movementY:ho}}),Kn=Vt(aa),af=y({},aa,{dataTransfer:0}),Dm=Vt(af),oa=y({},sa,{relatedTarget:0}),mo=Vt(oa),Jl=y({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),po=Vt(Jl),of=y({},Qe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),go=Vt(of),km=y({},Qe,{data:0}),eu=Vt(km),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=uf[r])?!!s[r]:!1}function ua(){return tu}var cf=y({},sa,{key:function(r){if(r.key){var s=la[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ar(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?lf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(r){return r.type==="keypress"?Ar(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ar(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),yo=Vt(cf),ff=y({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=Vt(ff),ai=y({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),df=Vt(ai),hf=y({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),mf=Vt(hf),pf=y({},aa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vo=Vt(pf),pn=y({},Qe,{newState:0,oldState:0}),gf=Vt(pn),yf=[9,13,27,32],Ir=sr&&"CompositionEvent"in window,d=null;sr&&"documentMode"in document&&(d=document.documentMode);var _=sr&&"TextEvent"in window&&!d,x=sr&&(!Ir||d&&8<d&&11>=d),k=" ",Q=!1;function J(r,s){switch(r){case"keyup":return yf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $e=!1;function Dt(r,s){switch(r){case"compositionend":return me(s);case"keypress":return s.which!==32?null:(Q=!0,k);case"textInput":return r=s.data,r===k&&Q?null:r;default:return null}}function Fe(r,s){if($e)return r==="compositionend"||!Ir&&J(r,s)?(r=Xl(),si=Hi=Sr=null,$e=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return x&&s.locale!=="ko"?null:s.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ut[r.type]:s==="textarea"}function oi(r,s,o,u){ri?ii?ii.push(u):ii=[u]:ri=u,s=rd(s,"onChange"),0<s.length&&(o=new co("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Gt=null,Nr=null;function ru(r){w1(r,0)}function vf(r){var s=wr(r);if(Kl(s))return r}function Bv(r,s){if(r==="change")return s}var Hv=!1;if(sr){var Om;if(sr){var Pm="oninput"in document;if(!Pm){var qv=document.createElement("div");qv.setAttribute("oninput","return;"),Pm=typeof qv.oninput=="function"}Om=Pm}else Om=!1;Hv=Om&&(!document.documentMode||9<document.documentMode)}function Gv(){Gt&&(Gt.detachEvent("onpropertychange",Kv),Nr=Gt=null)}function Kv(r){if(r.propertyName==="value"&&vf(Nr)){var s=[];oi(s,Nr,r,qn(r)),rf(ru,s)}}function yR(r,s,o){r==="focusin"?(Gv(),Gt=s,Nr=o,Gt.attachEvent("onpropertychange",Kv)):r==="focusout"&&Gv()}function vR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return vf(Nr)}function _R(r,s){if(r==="click")return vf(s)}function bR(r,s){if(r==="input"||r==="change")return vf(s)}function ER(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Dn=typeof Object.is=="function"?Object.is:ER;function iu(r,s){if(Dn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Fs.call(s,m)||!Dn(r[m],s[m]))return!1}return!0}function Qv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Yv(r,s){var o=Qv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Qv(o)}}function Wv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Wv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Xv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Js(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Js(r.document)}return s}function Mm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var wR=sr&&"documentMode"in document&&11>=document.documentMode,_o=null,Lm=null,su=null,jm=!1;function Zv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jm||_o==null||_o!==Js(u)||(u=_o,"selectionStart"in u&&Mm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),su&&iu(su,u)||(su=u,u=rd(Lm,"onSelect"),0<u.length&&(s=new co("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=_o)))}function ca(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var bo={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},Vm={},Jv={};sr&&(Jv=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function fa(r){if(Vm[r])return Vm[r];if(!bo[r])return r;var s=bo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Jv)return Vm[r]=s[o];return r}var e_=fa("animationend"),t_=fa("animationiteration"),n_=fa("animationstart"),TR=fa("transitionrun"),xR=fa("transitionstart"),SR=fa("transitioncancel"),r_=fa("transitionend"),i_=new Map,Um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Um.push("scrollEnd");function ar(r,s){i_.set(r,s),ir(s,[r])}var s_=new WeakMap;function Qn(r,s){if(typeof r=="object"&&r!==null){var o=s_.get(r);return o!==void 0?o:(s={value:r,source:s,stack:oo(s)},s_.set(r,s),s)}return{value:r,source:s,stack:oo(s)}}var Yn=[],Eo=0,zm=0;function _f(){for(var r=Eo,s=zm=Eo=0;s<r;){var o=Yn[s];Yn[s++]=null;var u=Yn[s];Yn[s++]=null;var m=Yn[s];Yn[s++]=null;var g=Yn[s];if(Yn[s++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}g!==0&&a_(o,m,g)}}function bf(r,s,o,u){Yn[Eo++]=r,Yn[Eo++]=s,Yn[Eo++]=o,Yn[Eo++]=u,zm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function $m(r,s,o,u){return bf(r,s,o,u),Ef(r)}function wo(r,s){return bf(r,null,null,s),Ef(r)}function a_(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(m=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,m&&s!==null&&(m=31-nn(o),r=g.hiddenUpdates,u=r[m],u===null?r[m]=[s]:u.push(s),s.lane=o|536870912),g):null}function Ef(r){if(50<Nu)throw Nu=0,Kp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var To={};function AR(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,s,o,u){return new AR(r,s,o,u)}function Fm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function li(r,s){var o=r.alternate;return o===null?(o=kn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function o_(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function wf(r,s,o,u,m,g){var S=0;if(u=r,typeof r=="function")Fm(r)&&(S=1);else if(typeof r=="string")S=CC(r,o,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=kn(31,o,s,m),r.elementType=M,r.lanes=g,r;case A:return da(o.children,m,g,s);case D:S=8,m|=24;break;case C:return r=kn(12,o,s,m|2),r.elementType=C,r.lanes=g,r;case q:return r=kn(13,o,s,m),r.elementType=q,r.lanes=g,r;case te:return r=kn(19,o,s,m),r.elementType=te,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:case I:S=10;break e;case L:S=9;break e;case z:S=11;break e;case O:S=14;break e;case N:S=16,u=null;break e}S=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=kn(S,o,s,m),s.elementType=r,s.type=u,s.lanes=g,s}function da(r,s,o,u){return r=kn(7,r,u,s),r.lanes=o,r}function Bm(r,s,o){return r=kn(6,r,null,s),r.lanes=o,r}function Hm(r,s,o){return s=kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var xo=[],So=0,Tf=null,xf=0,Wn=[],Xn=0,ha=null,ui=1,ci="";function ma(r,s){xo[So++]=xf,xo[So++]=Tf,Tf=r,xf=s}function l_(r,s,o){Wn[Xn++]=ui,Wn[Xn++]=ci,Wn[Xn++]=ha,ha=r;var u=ui;r=ci;var m=32-nn(u)-1;u&=~(1<<m),o+=1;var g=32-nn(s)+m;if(30<g){var S=m-m%5;g=(u&(1<<S)-1).toString(32),u>>=S,m-=S,ui=1<<32-nn(s)+m|o<<m|u,ci=g+r}else ui=1<<g|o<<m|u,ci=r}function qm(r){r.return!==null&&(ma(r,1),l_(r,1,0))}function Gm(r){for(;r===Tf;)Tf=xo[--So],xo[So]=null,xf=xo[--So],xo[So]=null;for(;r===ha;)ha=Wn[--Xn],Wn[Xn]=null,ci=Wn[--Xn],Wn[Xn]=null,ui=Wn[--Xn],Wn[Xn]=null}var gn=null,pt=null,Ke=!1,pa=null,Dr=!1,Km=Error(i(519));function ga(r){var s=Error(i(418,""));throw lu(Qn(s,r)),Km}function u_(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Nt]=r,s[Tt]=u,o){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(o=0;o<ku.length;o++)Ve(ku[o],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),ea(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),lo(s);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),ta(s,u.value,u.defaultValue,u.children),lo(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||A1(s.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),u.onScroll!=null&&Ve("scroll",s),u.onScrollEnd!=null&&Ve("scrollend",s),u.onClick!=null&&(s.onclick=id),s=!0):s=!1,s||ga(r)}function c_(r){for(gn=r.return;gn;)switch(gn.tag){case 5:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:gn=gn.return}}function au(r){if(r!==gn)return!1;if(!Ke)return c_(r),Ke=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||ug(r.type,r.memoizedProps)),o=!o),o&&pt&&ga(r),c_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){pt=lr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}pt=null}}else s===27?(s=pt,as(r.type)?(r=hg,hg=null,pt=r):pt=s):pt=gn?lr(r.stateNode.nextSibling):null;return!0}function ou(){pt=gn=null,Ke=!1}function f_(){var r=pa;return r!==null&&(Tn===null?Tn=r:Tn.push.apply(Tn,r),pa=null),r}function lu(r){pa===null?pa=[r]:pa.push(r)}var Qm=ee(null),ya=null,fi=null;function qi(r,s,o){oe(Qm,s._currentValue),s._currentValue=o}function di(r){r._currentValue=Qm.current,fe(Qm)}function Ym(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Wm(r,s,o,u){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var g=m.dependencies;if(g!==null){var S=m.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=m;for(var F=0;F<s.length;F++)if(R.context===s[F]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),Ym(g.return,o,r),u||(S=null);break e}g=R.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),Ym(S,o,r),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function uu(r,s,o,u){r=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var R=m.type;Dn(m.pendingProps.value,S.value)||(r!==null?r.push(R):r=[R])}}else if(m===ht.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Vu):r=[Vu])}m=m.return}r!==null&&Wm(s,r,o,u),s.flags|=262144}function Sf(r){for(r=r.firstContext;r!==null;){if(!Dn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function va(r){ya=r,fi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function rn(r){return d_(ya,r)}function Af(r,s){return ya===null&&va(r),d_(r,s)}function d_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},fi===null){if(r===null)throw Error(i(308));fi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else fi=fi.next=s;return o}var RR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},CR=t.unstable_scheduleCallback,IR=t.unstable_NormalPriority,Ot={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xm(){return{controller:new RR,data:new Map,refCount:0}}function cu(r){r.refCount--,r.refCount===0&&CR(IR,function(){r.controller.abort()})}var fu=null,Zm=0,Ao=0,Ro=null;function NR(r,s){if(fu===null){var o=fu=[];Zm=0,Ao=eg(),Ro={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Zm++,s.then(h_,h_),s}function h_(){if(--Zm===0&&fu!==null){Ro!==null&&(Ro.status="fulfilled");var r=fu;fu=null,Ao=0,Ro=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function DR(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var m_=K.S;K.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&NR(r,s),m_!==null&&m_(r,s)};var _a=ee(null);function Jm(){var r=_a.current;return r!==null?r:st.pooledCache}function Rf(r,s){s===null?oe(_a,_a.current):oe(_a,s.pool)}function p_(){var r=Jm();return r===null?null:{parent:Ot._currentValue,pool:r}}var du=Error(i(460)),g_=Error(i(474)),Cf=Error(i(542)),ep={then:function(){}};function y_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function If(){}function v_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(If,If),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,b_(r),r;default:if(typeof s.status=="string")s.then(If,If);else{if(r=st,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,b_(r),r}throw hu=s,du}}var hu=null;function __(){if(hu===null)throw Error(i(459));var r=hu;return hu=null,r}function b_(r){if(r===du||r===Cf)throw Error(i(483))}var Gi=!1;function tp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function np(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ki(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Qi(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Ef(r),a_(r,null,o),s}return bf(r,u,s,o),Ef(r)}function mu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Fl(r,o)}}function rp(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var ip=!1;function pu(){if(ip){var r=Ro;if(r!==null)throw r}}function gu(r,s,o,u){ip=!1;var m=r.updateQueue;Gi=!1;var g=m.firstBaseUpdate,S=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var F=R,W=F.next;F.next=null,S===null?g=W:S.next=W,S=F;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==S&&(R===null?ne.firstBaseUpdate=W:R.next=W,ne.lastBaseUpdate=F))}if(g!==null){var se=m.baseState;S=0,ne=W=F=null,R=g;do{var X=R.lane&-536870913,Z=X!==R.lane;if(Z?(Be&X)===X:(u&X)===X){X!==0&&X===Ao&&(ip=!0),ne!==null&&(ne=ne.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Re=r,Te=R;X=s;var nt=o;switch(Te.tag){case 1:if(Re=Te.payload,typeof Re=="function"){se=Re.call(nt,se,X);break e}se=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Te.payload,X=typeof Re=="function"?Re.call(nt,se,X):Re,X==null)break e;se=y({},se,X);break e;case 2:Gi=!0}}X=R.callback,X!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(W=ne=Z,F=se):ne=ne.next=Z,S|=X;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);ne===null&&(F=se),m.baseState=F,m.firstBaseUpdate=W,m.lastBaseUpdate=ne,g===null&&(m.shared.lanes=0),ns|=S,r.lanes=S,r.memoizedState=se}}function E_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function w_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)E_(o[r],s)}var Co=ee(null),Nf=ee(0);function T_(r,s){r=_i,oe(Nf,r),oe(Co,s),_i=r|s.baseLanes}function sp(){oe(Nf,_i),oe(Co,Co.current)}function ap(){_i=Nf.current,fe(Co),fe(Nf)}var Yi=0,Pe=null,et=null,St=null,Df=!1,Io=!1,ba=!1,kf=0,yu=0,No=null,kR=0;function _t(){throw Error(i(321))}function op(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Dn(r[o],s[o]))return!1;return!0}function lp(r,s,o,u,m,g){return Yi=g,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=r===null||r.memoizedState===null?ab:ob,ba=!1,g=o(u,m),ba=!1,Io&&(g=S_(s,o,u,m)),x_(r),g}function x_(r){K.H=Vf;var s=et!==null&&et.next!==null;if(Yi=0,St=et=Pe=null,Df=!1,yu=0,No=null,s)throw Error(i(300));r===null||zt||(r=r.dependencies,r!==null&&Sf(r)&&(zt=!0))}function S_(r,s,o,u){Pe=r;var m=0;do{if(Io&&(No=null),yu=0,Io=!1,25<=m)throw Error(i(301));if(m+=1,St=et=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}K.H=UR,g=s(o,u)}while(Io);return g}function OR(){var r=K.H,s=r.useState()[0];return s=typeof s.then=="function"?vu(s):s,r=r.useState()[0],(et!==null?et.memoizedState:null)!==r&&(Pe.flags|=1024),s}function up(){var r=kf!==0;return kf=0,r}function cp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function fp(r){if(Df){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Df=!1}Yi=0,St=et=Pe=null,Io=!1,yu=kf=0,No=null}function En(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Pe.memoizedState=St=r:St=St.next=r,St}function At(){if(et===null){var r=Pe.alternate;r=r!==null?r.memoizedState:null}else r=et.next;var s=St===null?Pe.memoizedState:St.next;if(s!==null)St=s,et=r;else{if(r===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));et=r,r={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},St===null?Pe.memoizedState=St=r:St=St.next=r}return St}function dp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vu(r){var s=yu;return yu+=1,No===null&&(No=[]),r=v_(No,r,s),s=Pe,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?ab:ob),r}function Of(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return vu(r);if(r.$$typeof===I)return rn(r)}throw Error(i(438,String(r)))}function hp(r){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=dp(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=V;return s.index++,o}function hi(r,s){return typeof s=="function"?s(r):s}function Pf(r){var s=At();return mp(s,et,r)}function mp(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=r.baseQueue,g=u.pending;if(g!==null){if(m!==null){var S=m.next;m.next=g.next,g.next=S}s.baseQueue=m=g,u.pending=null}if(g=r.baseState,m===null)r.memoizedState=g;else{s=m.next;var R=S=null,F=null,W=s,ne=!1;do{var se=W.lane&-536870913;if(se!==W.lane?(Be&se)===se:(Yi&se)===se){var X=W.revertLane;if(X===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),se===Ao&&(ne=!0);else if((Yi&X)===X){W=W.next,X===Ao&&(ne=!0);continue}else se={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(R=F=se,S=g):F=F.next=se,Pe.lanes|=X,ns|=X;se=W.action,ba&&o(g,se),g=W.hasEagerState?W.eagerState:o(g,se)}else X={lane:se,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(R=F=X,S=g):F=F.next=X,Pe.lanes|=se,ns|=se;W=W.next}while(W!==null&&W!==s);if(F===null?S=g:F.next=R,!Dn(g,r.memoizedState)&&(zt=!0,ne&&(o=Ro,o!==null)))throw o;r.memoizedState=g,r.baseState=S,r.baseQueue=F,u.lastRenderedState=g}return m===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function pp(r){var s=At(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do g=r(g,S.action),S=S.next;while(S!==m);Dn(g,s.memoizedState)||(zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function A_(r,s,o){var u=Pe,m=At(),g=Ke;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var S=!Dn((et||m).memoizedState,o);S&&(m.memoizedState=o,zt=!0),m=m.queue;var R=I_.bind(null,u,m,r);if(_u(2048,8,R,[r]),m.getSnapshot!==s||S||St!==null&&St.memoizedState.tag&1){if(u.flags|=2048,Do(9,Mf(),C_.bind(null,u,m,o,s),null),st===null)throw Error(i(349));g||(Yi&124)!==0||R_(u,s,o)}return o}function R_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=dp(),Pe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function C_(r,s,o,u){s.value=o,s.getSnapshot=u,N_(s)&&D_(r)}function I_(r,s,o){return o(function(){N_(s)&&D_(r)})}function N_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Dn(r,o)}catch{return!0}}function D_(r){var s=wo(r,2);s!==null&&jn(s,r,2)}function gp(r){var s=En();if(typeof r=="function"){var o=r;if(r=o(),ba){In(!0);try{o()}finally{In(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:r},s}function k_(r,s,o,u){return r.baseState=o,mp(r,et,typeof u=="function"?u:hi)}function PR(r,s,o,u,m){if(jf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};K.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,O_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function O_(r,s){var o=s.action,u=s.payload,m=r.state;if(s.isTransition){var g=K.T,S={};K.T=S;try{var R=o(m,u),F=K.S;F!==null&&F(S,R),P_(r,s,R)}catch(W){yp(r,s,W)}finally{K.T=g}}else try{g=o(m,u),P_(r,s,g)}catch(W){yp(r,s,W)}}function P_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){M_(r,s,u)},function(u){return yp(r,s,u)}):M_(r,s,o)}function M_(r,s,o){s.status="fulfilled",s.value=o,L_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,O_(r,o)))}function yp(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,L_(s),s=s.next;while(s!==u)}r.action=null}function L_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function j_(r,s){return s}function V_(r,s){if(Ke){var o=st.formState;if(o!==null){e:{var u=Pe;if(Ke){if(pt){t:{for(var m=pt,g=Dr;m.nodeType!==8;){if(!g){m=null;break t}if(m=lr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){pt=lr(m.nextSibling),u=m.data==="F!";break e}}ga(u)}u=!1}u&&(s=o[0])}}return o=En(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j_,lastRenderedState:s},o.queue=u,o=rb.bind(null,Pe,u),u.dispatch=o,u=gp(!1),g=wp.bind(null,Pe,!1,u.queue),u=En(),m={state:s,dispatch:null,action:r,pending:null},u.queue=m,o=PR.bind(null,Pe,m,g,o),m.dispatch=o,u.memoizedState=r,[s,o,!1]}function U_(r){var s=At();return z_(s,et,r)}function z_(r,s,o){if(s=mp(r,s,j_)[0],r=Pf(hi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=vu(s)}catch(S){throw S===du?Cf:S}else u=s;s=At();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,Do(9,Mf(),MR.bind(null,m,o),null)),[u,g,r]}function MR(r,s){r.action=s}function $_(r){var s=At(),o=et;if(o!==null)return z_(s,o,r);At(),s=s.memoizedState,o=At();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Do(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=dp(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Mf(){return{destroy:void 0,resource:void 0}}function F_(){return At().memoizedState}function Lf(r,s,o,u){var m=En();u=u===void 0?null:u,Pe.flags|=r,m.memoizedState=Do(1|s,Mf(),o,u)}function _u(r,s,o,u){var m=At();u=u===void 0?null:u;var g=m.memoizedState.inst;et!==null&&u!==null&&op(u,et.memoizedState.deps)?m.memoizedState=Do(s,g,o,u):(Pe.flags|=r,m.memoizedState=Do(1|s,g,o,u))}function B_(r,s){Lf(8390656,8,r,s)}function H_(r,s){_u(2048,8,r,s)}function q_(r,s){return _u(4,2,r,s)}function G_(r,s){return _u(4,4,r,s)}function K_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Q_(r,s,o){o=o!=null?o.concat([r]):null,_u(4,4,K_.bind(null,s,r),o)}function vp(){}function Y_(r,s){var o=At();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&op(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function W_(r,s){var o=At();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&op(s,u[1]))return u[0];if(u=r(),ba){In(!0);try{r()}finally{In(!1)}}return o.memoizedState=[u,s],u}function _p(r,s,o){return o===void 0||(Yi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Jb(),Pe.lanes|=r,ns|=r,o)}function X_(r,s,o,u){return Dn(o,s)?o:Co.current!==null?(r=_p(r,o,u),Dn(r,s)||(zt=!0),r):(Yi&42)===0?(zt=!0,r.memoizedState=o):(r=Jb(),Pe.lanes|=r,ns|=r,s)}function Z_(r,s,o,u,m){var g=ie.p;ie.p=g!==0&&8>g?g:8;var S=K.T,R={};K.T=R,wp(r,!1,s,o);try{var F=m(),W=K.S;if(W!==null&&W(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ne=DR(F,u);bu(r,s,ne,Ln(r))}else bu(r,s,u,Ln(r))}catch(se){bu(r,s,{then:function(){},status:"rejected",reason:se},Ln())}finally{ie.p=g,K.T=S}}function LR(){}function bp(r,s,o,u){if(r.tag!==5)throw Error(i(476));var m=J_(r).queue;Z_(r,m,s,ue,o===null?LR:function(){return eb(r),o(u)})}function J_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:ue},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function eb(r){var s=J_(r).next.queue;bu(r,s,{},Ln())}function Ep(){return rn(Vu)}function tb(){return At().memoizedState}function nb(){return At().memoizedState}function jR(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Ln();r=Ki(o);var u=Qi(s,r,o);u!==null&&(jn(u,s,o),mu(u,s,o)),s={cache:Xm()},r.payload=s;return}s=s.return}}function VR(r,s,o){var u=Ln();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},jf(r)?ib(s,o):(o=$m(r,s,o,u),o!==null&&(jn(o,r,u),sb(o,s,u)))}function rb(r,s,o){var u=Ln();bu(r,s,o,u)}function bu(r,s,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(jf(r))ib(s,m);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,R=g(S,o);if(m.hasEagerState=!0,m.eagerState=R,Dn(R,S))return bf(r,s,m,0),st===null&&_f(),!1}catch{}finally{}if(o=$m(r,s,m,u),o!==null)return jn(o,r,u),sb(o,s,u),!0}return!1}function wp(r,s,o,u){if(u={lane:2,revertLane:eg(),action:u,hasEagerState:!1,eagerState:null,next:null},jf(r)){if(s)throw Error(i(479))}else s=$m(r,o,u,2),s!==null&&jn(s,r,2)}function jf(r){var s=r.alternate;return r===Pe||s!==null&&s===Pe}function ib(r,s){Io=Df=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function sb(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Fl(r,o)}}var Vf={readContext:rn,use:Of,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},ab={readContext:rn,use:Of,useCallback:function(r,s){return En().memoizedState=[r,s===void 0?null:s],r},useContext:rn,useEffect:B_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Lf(4194308,4,K_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Lf(4194308,4,r,s)},useInsertionEffect:function(r,s){Lf(4,2,r,s)},useMemo:function(r,s){var o=En();s=s===void 0?null:s;var u=r();if(ba){In(!0);try{r()}finally{In(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=En();if(o!==void 0){var m=o(s);if(ba){In(!0);try{o(s)}finally{In(!1)}}}else m=s;return u.memoizedState=u.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},u.queue=r,r=r.dispatch=VR.bind(null,Pe,r),[u.memoizedState,r]},useRef:function(r){var s=En();return r={current:r},s.memoizedState=r},useState:function(r){r=gp(r);var s=r.queue,o=rb.bind(null,Pe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:vp,useDeferredValue:function(r,s){var o=En();return _p(o,r,s)},useTransition:function(){var r=gp(!1);return r=Z_.bind(null,Pe,r.queue,!0,!1),En().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Pe,m=En();if(Ke){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),st===null)throw Error(i(349));(Be&124)!==0||R_(u,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,B_(I_.bind(null,u,g,r),[r]),u.flags|=2048,Do(9,Mf(),C_.bind(null,u,g,o,s),null),o},useId:function(){var r=En(),s=st.identifierPrefix;if(Ke){var o=ci,u=ui;o=(u&~(1<<32-nn(u)-1)).toString(32)+o,s=""+s+"R"+o,o=kf++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=kR++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Ep,useFormState:V_,useActionState:V_,useOptimistic:function(r){var s=En();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=wp.bind(null,Pe,!0,o),o.dispatch=s,[r,s]},useMemoCache:hp,useCacheRefresh:function(){return En().memoizedState=jR.bind(null,Pe)}},ob={readContext:rn,use:Of,useCallback:Y_,useContext:rn,useEffect:H_,useImperativeHandle:Q_,useInsertionEffect:q_,useLayoutEffect:G_,useMemo:W_,useReducer:Pf,useRef:F_,useState:function(){return Pf(hi)},useDebugValue:vp,useDeferredValue:function(r,s){var o=At();return X_(o,et.memoizedState,r,s)},useTransition:function(){var r=Pf(hi)[0],s=At().memoizedState;return[typeof r=="boolean"?r:vu(r),s]},useSyncExternalStore:A_,useId:tb,useHostTransitionStatus:Ep,useFormState:U_,useActionState:U_,useOptimistic:function(r,s){var o=At();return k_(o,et,r,s)},useMemoCache:hp,useCacheRefresh:nb},UR={readContext:rn,use:Of,useCallback:Y_,useContext:rn,useEffect:H_,useImperativeHandle:Q_,useInsertionEffect:q_,useLayoutEffect:G_,useMemo:W_,useReducer:pp,useRef:F_,useState:function(){return pp(hi)},useDebugValue:vp,useDeferredValue:function(r,s){var o=At();return et===null?_p(o,r,s):X_(o,et.memoizedState,r,s)},useTransition:function(){var r=pp(hi)[0],s=At().memoizedState;return[typeof r=="boolean"?r:vu(r),s]},useSyncExternalStore:A_,useId:tb,useHostTransitionStatus:Ep,useFormState:$_,useActionState:$_,useOptimistic:function(r,s){var o=At();return et!==null?k_(o,et,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:hp,useCacheRefresh:nb},ko=null,Eu=0;function Uf(r){var s=Eu;return Eu+=1,ko===null&&(ko=[]),v_(ko,r,s)}function wu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function zf(r,s){throw s.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function lb(r){var s=r._init;return s(r._payload)}function ub(r){function s(G,H){if(r){var Y=G.deletions;Y===null?(G.deletions=[H],G.flags|=16):Y.push(H)}}function o(G,H){if(!r)return null;for(;H!==null;)s(G,H),H=H.sibling;return null}function u(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function m(G,H){return G=li(G,H),G.index=0,G.sibling=null,G}function g(G,H,Y){return G.index=Y,r?(Y=G.alternate,Y!==null?(Y=Y.index,Y<H?(G.flags|=67108866,H):Y):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function S(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function R(G,H,Y,re){return H===null||H.tag!==6?(H=Bm(Y,G.mode,re),H.return=G,H):(H=m(H,Y),H.return=G,H)}function F(G,H,Y,re){var ye=Y.type;return ye===A?ne(G,H,Y.props.children,re,Y.key):H!==null&&(H.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&lb(ye)===H.type)?(H=m(H,Y.props),wu(H,Y),H.return=G,H):(H=wf(Y.type,Y.key,Y.props,null,G.mode,re),wu(H,Y),H.return=G,H)}function W(G,H,Y,re){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=Hm(Y,G.mode,re),H.return=G,H):(H=m(H,Y.children||[]),H.return=G,H)}function ne(G,H,Y,re,ye){return H===null||H.tag!==7?(H=da(Y,G.mode,re,ye),H.return=G,H):(H=m(H,Y),H.return=G,H)}function se(G,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Bm(""+H,G.mode,Y),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return Y=wf(H.type,H.key,H.props,null,G.mode,Y),wu(Y,H),Y.return=G,Y;case T:return H=Hm(H,G.mode,Y),H.return=G,H;case N:var re=H._init;return H=re(H._payload),se(G,H,Y)}if(ve(H)||B(H))return H=da(H,G.mode,Y,null),H.return=G,H;if(typeof H.then=="function")return se(G,Uf(H),Y);if(H.$$typeof===I)return se(G,Af(G,H),Y);zf(G,H)}return null}function X(G,H,Y,re){var ye=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ye!==null?null:R(G,H,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return Y.key===ye?F(G,H,Y,re):null;case T:return Y.key===ye?W(G,H,Y,re):null;case N:return ye=Y._init,Y=ye(Y._payload),X(G,H,Y,re)}if(ve(Y)||B(Y))return ye!==null?null:ne(G,H,Y,re,null);if(typeof Y.then=="function")return X(G,H,Uf(Y),re);if(Y.$$typeof===I)return X(G,H,Af(G,Y),re);zf(G,Y)}return null}function Z(G,H,Y,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(Y)||null,R(H,G,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return G=G.get(re.key===null?Y:re.key)||null,F(H,G,re,ye);case T:return G=G.get(re.key===null?Y:re.key)||null,W(H,G,re,ye);case N:var Le=re._init;return re=Le(re._payload),Z(G,H,Y,re,ye)}if(ve(re)||B(re))return G=G.get(Y)||null,ne(H,G,re,ye,null);if(typeof re.then=="function")return Z(G,H,Y,Uf(re),ye);if(re.$$typeof===I)return Z(G,H,Y,Af(H,re),ye);zf(H,re)}return null}function Re(G,H,Y,re){for(var ye=null,Le=null,_e=H,xe=H=0,Ft=null;_e!==null&&xe<Y.length;xe++){_e.index>xe?(Ft=_e,_e=null):Ft=_e.sibling;var qe=X(G,_e,Y[xe],re);if(qe===null){_e===null&&(_e=Ft);break}r&&_e&&qe.alternate===null&&s(G,_e),H=g(qe,H,xe),Le===null?ye=qe:Le.sibling=qe,Le=qe,_e=Ft}if(xe===Y.length)return o(G,_e),Ke&&ma(G,xe),ye;if(_e===null){for(;xe<Y.length;xe++)_e=se(G,Y[xe],re),_e!==null&&(H=g(_e,H,xe),Le===null?ye=_e:Le.sibling=_e,Le=_e);return Ke&&ma(G,xe),ye}for(_e=u(_e);xe<Y.length;xe++)Ft=Z(_e,G,xe,Y[xe],re),Ft!==null&&(r&&Ft.alternate!==null&&_e.delete(Ft.key===null?xe:Ft.key),H=g(Ft,H,xe),Le===null?ye=Ft:Le.sibling=Ft,Le=Ft);return r&&_e.forEach(function(fs){return s(G,fs)}),Ke&&ma(G,xe),ye}function Te(G,H,Y,re){if(Y==null)throw Error(i(151));for(var ye=null,Le=null,_e=H,xe=H=0,Ft=null,qe=Y.next();_e!==null&&!qe.done;xe++,qe=Y.next()){_e.index>xe?(Ft=_e,_e=null):Ft=_e.sibling;var fs=X(G,_e,qe.value,re);if(fs===null){_e===null&&(_e=Ft);break}r&&_e&&fs.alternate===null&&s(G,_e),H=g(fs,H,xe),Le===null?ye=fs:Le.sibling=fs,Le=fs,_e=Ft}if(qe.done)return o(G,_e),Ke&&ma(G,xe),ye;if(_e===null){for(;!qe.done;xe++,qe=Y.next())qe=se(G,qe.value,re),qe!==null&&(H=g(qe,H,xe),Le===null?ye=qe:Le.sibling=qe,Le=qe);return Ke&&ma(G,xe),ye}for(_e=u(_e);!qe.done;xe++,qe=Y.next())qe=Z(_e,G,xe,qe.value,re),qe!==null&&(r&&qe.alternate!==null&&_e.delete(qe.key===null?xe:qe.key),H=g(qe,H,xe),Le===null?ye=qe:Le.sibling=qe,Le=qe);return r&&_e.forEach(function(zC){return s(G,zC)}),Ke&&ma(G,xe),ye}function nt(G,H,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:e:{for(var ye=Y.key;H!==null;){if(H.key===ye){if(ye=Y.type,ye===A){if(H.tag===7){o(G,H.sibling),re=m(H,Y.props.children),re.return=G,G=re;break e}}else if(H.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&lb(ye)===H.type){o(G,H.sibling),re=m(H,Y.props),wu(re,Y),re.return=G,G=re;break e}o(G,H);break}else s(G,H);H=H.sibling}Y.type===A?(re=da(Y.props.children,G.mode,re,Y.key),re.return=G,G=re):(re=wf(Y.type,Y.key,Y.props,null,G.mode,re),wu(re,Y),re.return=G,G=re)}return S(G);case T:e:{for(ye=Y.key;H!==null;){if(H.key===ye)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){o(G,H.sibling),re=m(H,Y.children||[]),re.return=G,G=re;break e}else{o(G,H);break}else s(G,H);H=H.sibling}re=Hm(Y,G.mode,re),re.return=G,G=re}return S(G);case N:return ye=Y._init,Y=ye(Y._payload),nt(G,H,Y,re)}if(ve(Y))return Re(G,H,Y,re);if(B(Y)){if(ye=B(Y),typeof ye!="function")throw Error(i(150));return Y=ye.call(Y),Te(G,H,Y,re)}if(typeof Y.then=="function")return nt(G,H,Uf(Y),re);if(Y.$$typeof===I)return nt(G,H,Af(G,Y),re);zf(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,H!==null&&H.tag===6?(o(G,H.sibling),re=m(H,Y),re.return=G,G=re):(o(G,H),re=Bm(Y,G.mode,re),re.return=G,G=re),S(G)):o(G,H)}return function(G,H,Y,re){try{Eu=0;var ye=nt(G,H,Y,re);return ko=null,ye}catch(_e){if(_e===du||_e===Cf)throw _e;var Le=kn(29,_e,null,G.mode);return Le.lanes=re,Le.return=G,Le}finally{}}}var Oo=ub(!0),cb=ub(!1),Zn=ee(null),kr=null;function Wi(r){var s=r.alternate;oe(Pt,Pt.current&1),oe(Zn,r),kr===null&&(s===null||Co.current!==null||s.memoizedState!==null)&&(kr=r)}function fb(r){if(r.tag===22){if(oe(Pt,Pt.current),oe(Zn,r),kr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(kr=r)}}else Xi()}function Xi(){oe(Pt,Pt.current),oe(Zn,Zn.current)}function mi(r){fe(Zn),kr===r&&(kr=null),fe(Pt)}var Pt=ee(0);function $f(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||dg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Tp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var xp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Ln(),m=Ki(u);m.payload=s,o!=null&&(m.callback=o),s=Qi(r,m,u),s!==null&&(jn(s,r,u),mu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Ln(),m=Ki(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Qi(r,m,u),s!==null&&(jn(s,r,u),mu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Ln(),u=Ki(o);u.tag=2,s!=null&&(u.callback=s),s=Qi(r,u,o),s!==null&&(jn(s,r,o),mu(s,r,o))}};function db(r,s,o,u,m,g,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,S):s.prototype&&s.prototype.isPureReactComponent?!iu(o,u)||!iu(m,g):!0}function hb(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&xp.enqueueReplaceState(s,s.state,null)}function Ea(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var Ff=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function mb(r){Ff(r)}function pb(r){console.error(r)}function gb(r){Ff(r)}function Bf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function yb(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Sp(r,s,o){return o=Ki(o),o.tag=3,o.payload={element:null},o.callback=function(){Bf(r,s)},o}function vb(r){return r=Ki(r),r.tag=3,r}function _b(r,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;r.payload=function(){return m(g)},r.callback=function(){yb(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){yb(s,o,u),typeof m!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function zR(r,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&uu(s,o,m,!0),o=Zn.current,o!==null){switch(o.tag){case 13:return kr===null?Yp():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===ep?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Xp(r,u,m)),!1;case 22:return o.flags|=65536,u===ep?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Xp(r,u,m)),!1}throw Error(i(435,o.tag))}return Xp(r,u,m),Yp(),!1}if(Ke)return s=Zn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Km&&(r=Error(i(422),{cause:u}),lu(Qn(r,o)))):(u!==Km&&(s=Error(i(423),{cause:u}),lu(Qn(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,u=Qn(u,o),m=Sp(r.stateNode,u,m),rp(r,m),gt!==4&&(gt=2)),!1;var g=Error(i(520),{cause:u});if(g=Qn(g,o),Iu===null?Iu=[g]:Iu.push(g),gt!==4&&(gt=2),s===null)return!0;u=Qn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=Sp(o.stateNode,u,r),rp(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rs===null||!rs.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=vb(m),_b(m,r,o,u),rp(o,m),!1}o=o.return}while(o!==null);return!1}var bb=Error(i(461)),zt=!1;function Kt(r,s,o,u){s.child=r===null?cb(s,null,o,u):Oo(s,r.child,o,u)}function Eb(r,s,o,u,m){o=o.render;var g=s.ref;if("ref"in u){var S={};for(var R in u)R!=="ref"&&(S[R]=u[R])}else S=u;return va(s),u=lp(r,s,o,S,g,m),R=up(),r!==null&&!zt?(cp(r,s,m),pi(r,s,m)):(Ke&&R&&qm(s),s.flags|=1,Kt(r,s,u,m),s.child)}function wb(r,s,o,u,m){if(r===null){var g=o.type;return typeof g=="function"&&!Fm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Tb(r,s,g,u,m)):(r=wf(o.type,null,u,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Op(r,m)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:iu,o(S,u)&&r.ref===s.ref)return pi(r,s,m)}return s.flags|=1,r=li(g,u),r.ref=s.ref,r.return=s,s.child=r}function Tb(r,s,o,u,m){if(r!==null){var g=r.memoizedProps;if(iu(g,u)&&r.ref===s.ref)if(zt=!1,s.pendingProps=u=g,Op(r,m))(r.flags&131072)!==0&&(zt=!0);else return s.lanes=r.lanes,pi(r,s,m)}return Ap(r,s,o,u,m)}function xb(r,s,o){var u=s.pendingProps,m=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(m=s.child=r.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return Sb(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Rf(s,g!==null?g.cachePool:null),g!==null?T_(s,g):sp(),fb(s);else return s.lanes=s.childLanes=536870912,Sb(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Rf(s,g.cachePool),T_(s,g),Xi(),s.memoizedState=null):(r!==null&&Rf(s,null),sp(),Xi());return Kt(r,s,m,o),s.child}function Sb(r,s,o,u){var m=Jm();return m=m===null?null:{parent:Ot._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},r!==null&&Rf(s,null),sp(),fb(s),r!==null&&uu(r,s,u,!0),null}function Hf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Ap(r,s,o,u,m){return va(s),o=lp(r,s,o,u,void 0,m),u=up(),r!==null&&!zt?(cp(r,s,m),pi(r,s,m)):(Ke&&u&&qm(s),s.flags|=1,Kt(r,s,o,m),s.child)}function Ab(r,s,o,u,m,g){return va(s),s.updateQueue=null,o=S_(s,u,o,m),x_(r),u=up(),r!==null&&!zt?(cp(r,s,g),pi(r,s,g)):(Ke&&u&&qm(s),s.flags|=1,Kt(r,s,o,g),s.child)}function Rb(r,s,o,u,m){if(va(s),s.stateNode===null){var g=To,S=o.contextType;typeof S=="object"&&S!==null&&(g=rn(S)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=xp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},tp(s),S=o.contextType,g.context=typeof S=="object"&&S!==null?rn(S):To,g.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Tp(s,o,S,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&xp.enqueueReplaceState(g,g.state,null),gu(s,u,g,m),pu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var R=s.memoizedProps,F=Ea(o,R);g.props=F;var W=g.context,ne=o.contextType;S=To,typeof ne=="object"&&ne!==null&&(S=rn(ne));var se=o.getDerivedStateFromProps;ne=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||W!==S)&&hb(s,g,u,S),Gi=!1;var X=s.memoizedState;g.state=X,gu(s,u,g,m),pu(),W=s.memoizedState,R||X!==W||Gi?(typeof se=="function"&&(Tp(s,o,se,u),W=s.memoizedState),(F=Gi||db(s,o,F,u,X,W,S))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=W),g.props=u,g.state=W,g.context=S,u=F):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,np(r,s),S=s.memoizedProps,ne=Ea(o,S),g.props=ne,se=s.pendingProps,X=g.context,W=o.contextType,F=To,typeof W=="object"&&W!==null&&(F=rn(W)),R=o.getDerivedStateFromProps,(W=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==se||X!==F)&&hb(s,g,u,F),Gi=!1,X=s.memoizedState,g.state=X,gu(s,u,g,m),pu();var Z=s.memoizedState;S!==se||X!==Z||Gi||r!==null&&r.dependencies!==null&&Sf(r.dependencies)?(typeof R=="function"&&(Tp(s,o,R,u),Z=s.memoizedState),(ne=Gi||db(s,o,ne,u,X,Z,F)||r!==null&&r.dependencies!==null&&Sf(r.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,F),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,F)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=F,u=ne):(typeof g.componentDidUpdate!="function"||S===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Hf(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=Oo(s,r.child,null,m),s.child=Oo(s,null,o,m)):Kt(r,s,o,m),s.memoizedState=g.state,r=s.child):r=pi(r,s,m),r}function Cb(r,s,o,u){return ou(),s.flags|=256,Kt(r,s,o,u),s.child}var Rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cp(r){return{baseLanes:r,cachePool:p_()}}function Ip(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Jn),r}function Ib(r,s,o){var u=s.pendingProps,m=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=r!==null&&r.memoizedState===null?!1:(Pt.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ke){if(m?Wi(s):Xi(),Ke){var R=pt,F;if(F=R){e:{for(F=R,R=Dr;F.nodeType!==8;){if(!R){R=null;break e}if(F=lr(F.nextSibling),F===null){R=null;break e}}R=F}R!==null?(s.memoizedState={dehydrated:R,treeContext:ha!==null?{id:ui,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},F=kn(18,null,null,0),F.stateNode=R,F.return=s,s.child=F,gn=s,pt=null,F=!0):F=!1}F||ga(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return dg(R)?s.lanes=32:s.lanes=536870912,null;mi(s)}return R=u.children,u=u.fallback,m?(Xi(),m=s.mode,R=qf({mode:"hidden",children:R},m),u=da(u,m,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,m=s.child,m.memoizedState=Cp(o),m.childLanes=Ip(r,S,o),s.memoizedState=Rp,u):(Wi(s),Np(s,R))}if(F=r.memoizedState,F!==null&&(R=F.dehydrated,R!==null)){if(g)s.flags&256?(Wi(s),s.flags&=-257,s=Dp(r,s,o)):s.memoizedState!==null?(Xi(),s.child=r.child,s.flags|=128,s=null):(Xi(),m=u.fallback,R=s.mode,u=qf({mode:"visible",children:u.children},R),m=da(m,R,o,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,Oo(s,r.child,null,o),u=s.child,u.memoizedState=Cp(o),u.childLanes=Ip(r,S,o),s.memoizedState=Rp,s=m);else if(Wi(s),dg(R)){if(S=R.nextSibling&&R.nextSibling.dataset,S)var W=S.dgst;S=W,u=Error(i(419)),u.stack="",u.digest=S,lu({value:u,source:null,stack:null}),s=Dp(r,s,o)}else if(zt||uu(r,s,o,!1),S=(o&r.childLanes)!==0,zt||S){if(S=st,S!==null&&(u=o&-o,u=(u&42)!==0?1:Vi(u),u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==F.retryLane))throw F.retryLane=u,wo(r,u),jn(S,r,u),bb;R.data==="$?"||Yp(),s=Dp(r,s,o)}else R.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=F.treeContext,pt=lr(R.nextSibling),gn=s,Ke=!0,pa=null,Dr=!1,r!==null&&(Wn[Xn++]=ui,Wn[Xn++]=ci,Wn[Xn++]=ha,ui=r.id,ci=r.overflow,ha=s),s=Np(s,u.children),s.flags|=4096);return s}return m?(Xi(),m=u.fallback,R=s.mode,F=r.child,W=F.sibling,u=li(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,W!==null?m=li(W,m):(m=da(m,R,o,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,R=r.child.memoizedState,R===null?R=Cp(o):(F=R.cachePool,F!==null?(W=Ot._currentValue,F=F.parent!==W?{parent:W,pool:W}:F):F=p_(),R={baseLanes:R.baseLanes|o,cachePool:F}),m.memoizedState=R,m.childLanes=Ip(r,S,o),s.memoizedState=Rp,u):(Wi(s),o=r.child,r=o.sibling,o=li(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(S=s.deletions,S===null?(s.deletions=[r],s.flags|=16):S.push(r)),s.child=o,s.memoizedState=null,o)}function Np(r,s){return s=qf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function qf(r,s){return r=kn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Dp(r,s,o){return Oo(s,r.child,null,o),r=Np(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Nb(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Ym(r.return,s,o)}function kp(r,s,o,u,m){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=m)}function Db(r,s,o){var u=s.pendingProps,m=u.revealOrder,g=u.tail;if(Kt(r,s,u.children,o),u=Pt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Nb(r,o,s);else if(r.tag===19)Nb(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(oe(Pt,u),m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&$f(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),kp(s,!1,m,o,g);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&$f(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}kp(s,!0,o,null,g);break;case"together":kp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function pi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ns|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(uu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=li(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=li(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Op(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Sf(r)))}function $R(r,s,o){switch(s.tag){case 3:Ge(s,s.stateNode.containerInfo),qi(s,Ot,r.memoizedState.cache),ou();break;case 27:case 5:ji(s);break;case 4:Ge(s,s.stateNode.containerInfo);break;case 10:qi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Wi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Ib(r,s,o):(Wi(s),r=pi(r,s,o),r!==null?r.sibling:null);Wi(s);break;case 19:var m=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(uu(r,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return Db(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),oe(Pt,Pt.current),u)break;return null;case 22:case 23:return s.lanes=0,xb(r,s,o);case 24:qi(s,Ot,r.memoizedState.cache)}return pi(r,s,o)}function kb(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)zt=!0;else{if(!Op(r,o)&&(s.flags&128)===0)return zt=!1,$R(r,s,o);zt=(r.flags&131072)!==0}else zt=!1,Ke&&(s.flags&1048576)!==0&&l_(s,xf,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")Fm(u)?(r=Ea(u,r),s.tag=1,s=Rb(null,s,u,r,o)):(s.tag=0,s=Ap(null,s,u,r,o));else{if(u!=null){if(m=u.$$typeof,m===z){s.tag=11,s=Eb(null,s,u,r,o);break e}else if(m===O){s.tag=14,s=wb(null,s,u,r,o);break e}}throw s=he(u)||u,Error(i(306,s,""))}}return s;case 0:return Ap(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=Ea(u,s.pendingProps),Rb(r,s,u,m,o);case 3:e:{if(Ge(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;m=g.element,np(r,s),gu(s,u,null,o);var S=s.memoizedState;if(u=S.cache,qi(s,Ot,u),u!==g.cache&&Wm(s,[Ot],o,!0),pu(),u=S.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Cb(r,s,u,o);break e}else if(u!==m){m=Qn(Error(i(424)),s),lu(m),s=Cb(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(pt=lr(r.firstChild),gn=s,Ke=!0,pa=null,Dr=!0,o=cb(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ou(),u===m){s=pi(r,s,o);break e}Kt(r,s,u,o)}s=s.child}return s;case 26:return Hf(r,s),r===null?(o=L1(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ke||(o=s.type,r=s.pendingProps,u=sd(Ae.current).createElement(o),u[Nt]=s,u[Tt]=r,Yt(u,o,r),vt(u),s.stateNode=u):s.memoizedState=L1(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ji(s),r===null&&Ke&&(u=s.stateNode=O1(s.type,s.pendingProps,Ae.current),gn=s,Dr=!0,m=pt,as(s.type)?(hg=m,pt=lr(u.firstChild)):pt=m),Kt(r,s,s.pendingProps.children,o),Hf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ke&&((m=u=pt)&&(u=pC(u,s.type,s.pendingProps,Dr),u!==null?(s.stateNode=u,gn=s,pt=lr(u.firstChild),Dr=!1,m=!0):m=!1),m||ga(s)),ji(s),m=s.type,g=s.pendingProps,S=r!==null?r.memoizedProps:null,u=g.children,ug(m,g)?u=null:S!==null&&ug(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=lp(r,s,OR,null,null,o),Vu._currentValue=m),Hf(r,s),Kt(r,s,u,o),s.child;case 6:return r===null&&Ke&&((r=o=pt)&&(o=gC(o,s.pendingProps,Dr),o!==null?(s.stateNode=o,gn=s,pt=null,r=!0):r=!1),r||ga(s)),null;case 13:return Ib(r,s,o);case 4:return Ge(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Oo(s,null,u,o):Kt(r,s,u,o),s.child;case 11:return Eb(r,s,s.type,s.pendingProps,o);case 7:return Kt(r,s,s.pendingProps,o),s.child;case 8:return Kt(r,s,s.pendingProps.children,o),s.child;case 12:return Kt(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,qi(s,s.type,u.value),Kt(r,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,va(s),m=rn(m),u=u(m),s.flags|=1,Kt(r,s,u,o),s.child;case 14:return wb(r,s,s.type,s.pendingProps,o);case 15:return Tb(r,s,s.type,s.pendingProps,o);case 19:return Db(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=qf(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=li(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return xb(r,s,o);case 24:return va(s),u=rn(Ot),r===null?(m=Jm(),m===null&&(m=st,g=Xm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:u,cache:m},tp(s),qi(s,Ot,m)):((r.lanes&o)!==0&&(np(r,s),gu(s,null,null,o),pu()),m=r.memoizedState,g=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),qi(s,Ot,u)):(u=g.cache,qi(s,Ot,u),u!==m.cache&&Wm(s,[Ot],o,!0))),Kt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function gi(r){r.flags|=4}function Ob(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!$1(s)){if(s=Zn.current,s!==null&&((Be&4194048)===Be?kr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||s!==kr))throw hu=ep,g_;r.flags|=8192}}function Gf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?zl():536870912,r.lanes|=s,jo|=s)}function Tu(r,s){if(!Ke)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function FR(r,s,o){var u=s.pendingProps;switch(Gm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return ft(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),di(Ot),tn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(au(s)?gi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,f_())),ft(s),null;case 26:return o=s.memoizedState,r===null?(gi(s),o!==null?(ft(s),Ob(s,o)):(ft(s),s.flags&=-16777217)):o?o!==r.memoizedState?(gi(s),ft(s),Ob(s,o)):(ft(s),s.flags&=-16777217):(r.memoizedProps!==u&&gi(s),ft(s),s.flags&=-16777217),null;case 27:Yr(s),o=Ae.current;var m=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&gi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ft(s),null}r=be.current,au(s)?u_(s):(r=O1(m,u,o),s.stateNode=r,gi(s))}return ft(s),null;case 5:if(Yr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&gi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ft(s),null}if(r=be.current,au(s))u_(s);else{switch(m=sd(Ae.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}r[Nt]=s,r[Tt]=u;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=r;e:switch(Yt(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&gi(s)}}return ft(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&gi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ae.current,au(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,m=gn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}r[Nt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||A1(r.nodeValue,o)),r||ga(s)}else r=sd(r).createTextNode(u),r[Nt]=s,s.stateNode=r}return ft(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=au(s),u!==null&&u.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Nt]=s}else ou(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),m=!1}else m=f_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(mi(s),s):(mi(s),null)}if(mi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Gf(s,s.updateQueue),ft(s),null;case 4:return tn(),r===null&&ig(s.stateNode.containerInfo),ft(s),null;case 10:return di(s.type),ft(s),null;case 19:if(fe(Pt),m=s.memoizedState,m===null)return ft(s),null;if(u=(s.flags&128)!==0,g=m.rendering,g===null)if(u)Tu(m,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=$f(r),g!==null){for(s.flags|=128,Tu(m,!1),r=g.updateQueue,s.updateQueue=r,Gf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)o_(o,r),o=o.sibling;return oe(Pt,Pt.current&1|2),s.child}r=r.sibling}m.tail!==null&&Fn()>Yf&&(s.flags|=128,u=!0,Tu(m,!1),s.lanes=4194304)}else{if(!u)if(r=$f(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Gf(s,r),Tu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!Ke)return ft(s),null}else 2*Fn()-m.renderingStartTime>Yf&&o!==536870912&&(s.flags|=128,u=!0,Tu(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(r=m.last,r!==null?r.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Fn(),s.sibling=null,r=Pt.current,oe(Pt,u?r&1|2:r&1),s):(ft(s),null);case 22:case 23:return mi(s),ap(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),o=s.updateQueue,o!==null&&Gf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&fe(_a),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),di(Ot),ft(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function BR(r,s){switch(Gm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return di(Ot),tn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Yr(s),null;case 13:if(mi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ou()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return fe(Pt),null;case 4:return tn(),null;case 10:return di(s.type),null;case 22:case 23:return mi(s),ap(),r!==null&&fe(_a),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return di(Ot),null;case 25:return null;default:return null}}function Pb(r,s){switch(Gm(s),s.tag){case 3:di(Ot),tn();break;case 26:case 27:case 5:Yr(s);break;case 4:tn();break;case 13:mi(s);break;case 19:fe(Pt);break;case 10:di(s.type);break;case 22:case 23:mi(s),ap(),r!==null&&fe(_a);break;case 24:di(Ot)}}function xu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&r)===r){u=void 0;var g=o.create,S=o.inst;u=g(),S.destroy=u}o=o.next}while(o!==m)}}catch(R){rt(s,s.return,R)}}function Zi(r,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&r)===r){var S=u.inst,R=S.destroy;if(R!==void 0){S.destroy=void 0,m=s;var F=o,W=R;try{W()}catch(ne){rt(m,F,ne)}}}u=u.next}while(u!==g)}}catch(ne){rt(s,s.return,ne)}}function Mb(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{w_(s,o)}catch(u){rt(r,r.return,u)}}}function Lb(r,s,o){o.props=Ea(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){rt(r,s,u)}}function Su(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(m){rt(r,s,m)}}function Or(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){rt(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){rt(r,s,m)}else o.current=null}function jb(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){rt(r,r.return,m)}}function Pp(r,s,o){try{var u=r.stateNode;cC(u,r.type,o,s),u[Tt]=s}catch(m){rt(r,r.return,m)}}function Vb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&as(r.type)||r.tag===4}function Mp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Vb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&as(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Lp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=id));else if(u!==4&&(u===27&&as(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Lp(r,s,o),r=r.sibling;r!==null;)Lp(r,s,o),r=r.sibling}function Kf(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&as(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Kf(r,s,o),r=r.sibling;r!==null;)Kf(r,s,o),r=r.sibling}function Ub(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Yt(s,u,o),s[Nt]=r,s[Tt]=o}catch(g){rt(r,r.return,g)}}var yi=!1,bt=!1,jp=!1,zb=typeof WeakSet=="function"?WeakSet:Set,$t=null;function HR(r,s){if(r=r.containerInfo,og=fd,r=Xv(r),Mm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,R=-1,F=-1,W=0,ne=0,se=r,X=null;t:for(;;){for(var Z;se!==o||m!==0&&se.nodeType!==3||(R=S+m),se!==g||u!==0&&se.nodeType!==3||(F=S+u),se.nodeType===3&&(S+=se.nodeValue.length),(Z=se.firstChild)!==null;)X=se,se=Z;for(;;){if(se===r)break t;if(X===o&&++W===m&&(R=S),X===g&&++ne===u&&(F=S),(Z=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=Z}o=R===-1||F===-1?null:{start:R,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(lg={focusedElem:r,selectionRange:o},fd=!1,$t=s;$t!==null;)if(s=$t,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,$t=r;else for(;$t!==null;){switch(s=$t,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Re=Ea(o.type,m,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Re,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Te){rt(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)fg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,$t=r;break}$t=s.return}}function $b(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ji(r,o),u&4&&xu(5,o);break;case 1:if(Ji(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(S){rt(o,o.return,S)}else{var m=Ea(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(S){rt(o,o.return,S)}}u&64&&Mb(o),u&512&&Su(o,o.return);break;case 3:if(Ji(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{w_(r,s)}catch(S){rt(o,o.return,S)}}break;case 27:s===null&&u&4&&Ub(o);case 26:case 5:Ji(r,o),s===null&&u&4&&jb(o),u&512&&Su(o,o.return);break;case 12:Ji(r,o);break;case 13:Ji(r,o),u&4&&Hb(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=JR.bind(null,o),yC(r,o))));break;case 22:if(u=o.memoizedState!==null||yi,!u){s=s!==null&&s.memoizedState!==null||bt,m=yi;var g=bt;yi=u,(bt=s)&&!g?es(r,o,(o.subtreeFlags&8772)!==0):Ji(r,o),yi=m,bt=g}break;case 30:break;default:Ji(r,o)}}function Fb(r){var s=r.alternate;s!==null&&(r.alternate=null,Fb(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&$i(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ut=null,wn=!1;function vi(r,s,o){for(o=o.child;o!==null;)Bb(r,s,o),o=o.sibling}function Bb(r,s,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(mt,o)}catch{}switch(o.tag){case 26:bt||Or(o,s),vi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bt||Or(o,s);var u=ut,m=wn;as(o.type)&&(ut=o.stateNode,wn=!1),vi(r,s,o),Pu(o.stateNode),ut=u,wn=m;break;case 5:bt||Or(o,s);case 6:if(u=ut,m=wn,ut=null,vi(r,s,o),ut=u,wn=m,ut!==null)if(wn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(o.stateNode)}catch(g){rt(o,s,g)}else try{ut.removeChild(o.stateNode)}catch(g){rt(o,s,g)}break;case 18:ut!==null&&(wn?(r=ut,D1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Fu(r)):D1(ut,o.stateNode));break;case 4:u=ut,m=wn,ut=o.stateNode.containerInfo,wn=!0,vi(r,s,o),ut=u,wn=m;break;case 0:case 11:case 14:case 15:bt||Zi(2,o,s),bt||Zi(4,o,s),vi(r,s,o);break;case 1:bt||(Or(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Lb(o,s,u)),vi(r,s,o);break;case 21:vi(r,s,o);break;case 22:bt=(u=bt)||o.memoizedState!==null,vi(r,s,o),bt=u;break;default:vi(r,s,o)}}function Hb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Fu(r)}catch(o){rt(s,s.return,o)}}function qR(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new zb),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new zb),s;default:throw Error(i(435,r.tag))}}function Vp(r,s){var o=qR(r);s.forEach(function(u){var m=eC.bind(null,r,u);o.has(u)||(o.add(u),u.then(m,m))})}function On(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=r,S=s,R=S;e:for(;R!==null;){switch(R.tag){case 27:if(as(R.type)){ut=R.stateNode,wn=!1;break e}break;case 5:ut=R.stateNode,wn=!1;break e;case 3:case 4:ut=R.stateNode.containerInfo,wn=!0;break e}R=R.return}if(ut===null)throw Error(i(160));Bb(g,S,m),ut=null,wn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)qb(s,r),s=s.sibling}var or=null;function qb(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:On(s,r),Pn(r),u&4&&(Zi(3,r,r.return),xu(3,r),Zi(5,r,r.return));break;case 1:On(s,r),Pn(r),u&512&&(bt||o===null||Or(o,o.return)),u&64&&yi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=or;if(On(s,r),Pn(r),u&512&&(bt||o===null||Or(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ws]||g[Nt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),Yt(g,u,o),g[Nt]=r,vt(g),u=g;break e;case"link":var S=U1("link","href",m).get(u+(o.href||""));if(S){for(var R=0;R<S.length;R++)if(g=S[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(R,1);break t}}g=m.createElement(u),Yt(g,u,o),m.head.appendChild(g);break;case"meta":if(S=U1("meta","content",m).get(u+(o.content||""))){for(R=0;R<S.length;R++)if(g=S[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(R,1);break t}}g=m.createElement(u),Yt(g,u,o),m.head.appendChild(g);break;default:throw Error(i(468,u))}g[Nt]=r,vt(g),u=g}r.stateNode=u}else z1(m,r.type,r.stateNode);else r.stateNode=V1(m,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?z1(m,r.type,r.stateNode):V1(m,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Pp(r,r.memoizedProps,o.memoizedProps)}break;case 27:On(s,r),Pn(r),u&512&&(bt||o===null||Or(o,o.return)),o!==null&&u&4&&Pp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(On(s,r),Pn(r),u&512&&(bt||o===null||Or(o,o.return)),r.flags&32){m=r.stateNode;try{Hn(m,"")}catch(Z){rt(r,r.return,Z)}}u&4&&r.stateNode!=null&&(m=r.memoizedProps,Pp(r,m,o!==null?o.memoizedProps:m)),u&1024&&(jp=!0);break;case 6:if(On(s,r),Pn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Z){rt(r,r.return,Z)}}break;case 3:if(ld=null,m=or,or=ad(s.containerInfo),On(s,r),or=m,Pn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Fu(s.containerInfo)}catch(Z){rt(r,r.return,Z)}jp&&(jp=!1,Gb(r));break;case 4:u=or,or=ad(r.stateNode.containerInfo),On(s,r),Pn(r),or=u;break;case 12:On(s,r),Pn(r);break;case 13:On(s,r),Pn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hp=Fn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Vp(r,u)));break;case 22:m=r.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,W=yi,ne=bt;if(yi=W||m,bt=ne||F,On(s,r),bt=ne,yi=W,Pn(r),u&8192)e:for(s=r.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||F||yi||bt||wa(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){F=o=s;try{if(g=F.stateNode,m)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{R=F.stateNode;var se=F.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;R.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Z){rt(F,F.return,Z)}}}else if(s.tag===6){if(o===null){F=s;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(Z){rt(F,F.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Vp(r,o))));break;case 19:On(s,r),Pn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Vp(r,u)));break;case 30:break;case 21:break;default:On(s,r),Pn(r)}}function Pn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(Vb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,g=Mp(r);Kf(r,g,m);break;case 5:var S=o.stateNode;o.flags&32&&(Hn(S,""),o.flags&=-33);var R=Mp(r);Kf(r,R,S);break;case 3:case 4:var F=o.stateNode.containerInfo,W=Mp(r);Lp(r,W,F);break;default:throw Error(i(161))}}catch(ne){rt(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Gb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Gb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ji(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)$b(r,s.alternate,s),s=s.sibling}function wa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Zi(4,s,s.return),wa(s);break;case 1:Or(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Lb(s,s.return,o),wa(s);break;case 27:Pu(s.stateNode);case 26:case 5:Or(s,s.return),wa(s);break;case 22:s.memoizedState===null&&wa(s);break;case 30:wa(s);break;default:wa(s)}r=r.sibling}}function es(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=r,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:es(m,g,o),xu(4,g);break;case 1:if(es(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){rt(u,u.return,W)}if(u=g,m=u.updateQueue,m!==null){var R=u.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)E_(F[m],R)}catch(W){rt(u,u.return,W)}}o&&S&64&&Mb(g),Su(g,g.return);break;case 27:Ub(g);case 26:case 5:es(m,g,o),o&&u===null&&S&4&&jb(g),Su(g,g.return);break;case 12:es(m,g,o);break;case 13:es(m,g,o),o&&S&4&&Hb(m,g);break;case 22:g.memoizedState===null&&es(m,g,o),Su(g,g.return);break;case 30:break;default:es(m,g,o)}s=s.sibling}}function Up(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&cu(o))}function zp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&cu(r))}function Pr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Kb(r,s,o,u),s=s.sibling}function Kb(r,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Pr(r,s,o,u),m&2048&&xu(9,s);break;case 1:Pr(r,s,o,u);break;case 3:Pr(r,s,o,u),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&cu(r)));break;case 12:if(m&2048){Pr(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,S=g.id,R=g.onPostCommit;typeof R=="function"&&R(S,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){rt(s,s.return,F)}}else Pr(r,s,o,u);break;case 13:Pr(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,S=s.alternate,s.memoizedState!==null?g._visibility&2?Pr(r,s,o,u):Au(r,s):g._visibility&2?Pr(r,s,o,u):(g._visibility|=2,Po(r,s,o,u,(s.subtreeFlags&10256)!==0)),m&2048&&Up(S,s);break;case 24:Pr(r,s,o,u),m&2048&&zp(s.alternate,s);break;default:Pr(r,s,o,u)}}function Po(r,s,o,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,S=s,R=o,F=u,W=S.flags;switch(S.tag){case 0:case 11:case 15:Po(g,S,R,F,m),xu(8,S);break;case 23:break;case 22:var ne=S.stateNode;S.memoizedState!==null?ne._visibility&2?Po(g,S,R,F,m):Au(g,S):(ne._visibility|=2,Po(g,S,R,F,m)),m&&W&2048&&Up(S.alternate,S);break;case 24:Po(g,S,R,F,m),m&&W&2048&&zp(S.alternate,S);break;default:Po(g,S,R,F,m)}s=s.sibling}}function Au(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,m=u.flags;switch(u.tag){case 22:Au(o,u),m&2048&&Up(u.alternate,u);break;case 24:Au(o,u),m&2048&&zp(u.alternate,u);break;default:Au(o,u)}s=s.sibling}}var Ru=8192;function Mo(r){if(r.subtreeFlags&Ru)for(r=r.child;r!==null;)Qb(r),r=r.sibling}function Qb(r){switch(r.tag){case 26:Mo(r),r.flags&Ru&&r.memoizedState!==null&&NC(or,r.memoizedState,r.memoizedProps);break;case 5:Mo(r);break;case 3:case 4:var s=or;or=ad(r.stateNode.containerInfo),Mo(r),or=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ru,Ru=16777216,Mo(r),Ru=s):Mo(r));break;default:Mo(r)}}function Yb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Cu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];$t=u,Xb(u,r)}Yb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Wb(r),r=r.sibling}function Wb(r){switch(r.tag){case 0:case 11:case 15:Cu(r),r.flags&2048&&Zi(9,r,r.return);break;case 3:Cu(r);break;case 12:Cu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Qf(r)):Cu(r);break;default:Cu(r)}}function Qf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];$t=u,Xb(u,r)}Yb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Zi(8,s,s.return),Qf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Qf(s));break;default:Qf(s)}r=r.sibling}}function Xb(r,s){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:Zi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:cu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,$t=u;else e:for(o=r;$t!==null;){u=$t;var m=u.sibling,g=u.return;if(Fb(u),u===o){$t=null;break e}if(m!==null){m.return=g,$t=m;break e}$t=g}}}var GR={getCacheForType:function(r){var s=rn(Ot),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},KR=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,je=null,Be=0,Ze=0,Mn=null,ts=!1,Lo=!1,$p=!1,_i=0,gt=0,ns=0,Ta=0,Fp=0,Jn=0,jo=0,Iu=null,Tn=null,Bp=!1,Hp=0,Yf=1/0,Wf=null,rs=null,Qt=0,is=null,Vo=null,Uo=0,qp=0,Gp=null,Zb=null,Nu=0,Kp=null;function Ln(){if((Xe&2)!==0&&Be!==0)return Be&-Be;if(K.T!==null){var r=Ao;return r!==0?r:eg()}return Ui()}function Jb(){Jn===0&&(Jn=(Be&536870912)===0||Ke?Ul():536870912);var r=Zn.current;return r!==null&&(r.flags|=32),Jn}function jn(r,s,o){(r===st&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)&&(zo(r,0),ss(r,Be,Jn,!1)),Xr(r,o),((Xe&2)===0||r!==st)&&(r===st&&((Xe&2)===0&&(Ta|=o),gt===4&&ss(r,Be,Jn,!1)),Mr(r))}function e1(r,s,o){if((Xe&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Ys(r,s),m=u?WR(r,s):Wp(r,s,!0),g=u;do{if(m===0){Lo&&!u&&ss(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!QR(o)){m=Wp(r,s,!1),g=!1;continue}if(m===2){if(g=s,r.errorRecoveryDisabledLanes&g)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var R=r;m=Iu;var F=R.current.memoizedState.isDehydrated;if(F&&(zo(R,S).flags|=256),S=Wp(R,S,!1),S!==2){if($p&&!F){R.errorRecoveryDisabledLanes|=g,Ta|=g,m=4;break e}g=Tn,Tn=m,g!==null&&(Tn===null?Tn=g:Tn.push.apply(Tn,g))}m=S}if(g=!1,m!==2)continue}}if(m===1){zo(r,0),ss(r,s,0,!0);break}e:{switch(u=r,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ss(u,s,Jn,!ts);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=Hp+300-Fn(),10<m)){if(ss(u,s,Jn,!ts),no(u,0,!0)!==0)break e;u.timeoutHandle=I1(t1.bind(null,u,o,Tn,Wf,Bp,s,Jn,Ta,jo,ts,g,2,-0,0),m);break e}t1(u,o,Tn,Wf,Bp,s,Jn,Ta,jo,ts,g,0,-0,0)}}break}while(!0);Mr(r)}function t1(r,s,o,u,m,g,S,R,F,W,ne,se,X,Z){if(r.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(ju={stylesheets:null,count:0,unsuspend:IC},Qb(s),se=DC(),se!==null)){r.cancelPendingCommit=se(l1.bind(null,r,s,g,o,u,m,S,R,F,ne,1,X,Z)),ss(r,g,S,!W);return}l1(r,s,g,o,u,m,S,R,F)}function QR(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!Dn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ss(r,s,o,u){s&=~Fp,s&=~Ta,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var m=s;0<m;){var g=31-nn(m),S=1<<g;u[g]=-1,m&=~S}o!==0&&br(r,o,s)}function Xf(){return(Xe&6)===0?(Du(0),!1):!0}function Qp(){if(je!==null){if(Ze===0)var r=je.return;else r=je,fi=ya=null,fp(r),ko=null,Eu=0,r=je;for(;r!==null;)Pb(r.alternate,r),r=r.return;je=null}}function zo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,dC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Qp(),st=r,je=o=li(r.current,null),Be=s,Ze=0,Mn=null,ts=!1,Lo=Ys(r,s),$p=!1,jo=Jn=Fp=Ta=ns=gt=0,Tn=Iu=null,Bp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var m=31-nn(u),g=1<<m;s|=r[m],u&=~g}return _i=s,_f(),o}function n1(r,s){Pe=null,K.H=Vf,s===du||s===Cf?(s=__(),Ze=3):s===g_?(s=__(),Ze=4):Ze=s===bb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Mn=s,je===null&&(gt=1,Bf(r,Qn(s,r.current)))}function r1(){var r=K.H;return K.H=Vf,r===null?Vf:r}function i1(){var r=K.A;return K.A=GR,r}function Yp(){gt=4,ts||(Be&4194048)!==Be&&Zn.current!==null||(Lo=!0),(ns&134217727)===0&&(Ta&134217727)===0||st===null||ss(st,Be,Jn,!1)}function Wp(r,s,o){var u=Xe;Xe|=2;var m=r1(),g=i1();(st!==r||Be!==s)&&(Wf=null,zo(r,s)),s=!1;var S=gt;e:do try{if(Ze!==0&&je!==null){var R=je,F=Mn;switch(Ze){case 8:Qp(),S=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(s=!0);var W=Ze;if(Ze=0,Mn=null,$o(r,R,F,W),o&&Lo){S=0;break e}break;default:W=Ze,Ze=0,Mn=null,$o(r,R,F,W)}}YR(),S=gt;break}catch(ne){n1(r,ne)}while(!0);return s&&r.shellSuspendCounter++,fi=ya=null,Xe=u,K.H=m,K.A=g,je===null&&(st=null,Be=0,_f()),S}function YR(){for(;je!==null;)s1(je)}function WR(r,s){var o=Xe;Xe|=2;var u=r1(),m=i1();st!==r||Be!==s?(Wf=null,Yf=Fn()+500,zo(r,s)):Lo=Ys(r,s);e:do try{if(Ze!==0&&je!==null){s=je;var g=Mn;t:switch(Ze){case 1:Ze=0,Mn=null,$o(r,s,g,1);break;case 2:case 9:if(y_(g)){Ze=0,Mn=null,a1(s);break}s=function(){Ze!==2&&Ze!==9||st!==r||(Ze=7),Mr(r)},g.then(s,s);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:y_(g)?(Ze=0,Mn=null,a1(s)):(Ze=0,Mn=null,$o(r,s,g,7));break;case 5:var S=null;switch(je.tag){case 26:S=je.memoizedState;case 5:case 27:var R=je;if(!S||$1(S)){Ze=0,Mn=null;var F=R.sibling;if(F!==null)je=F;else{var W=R.return;W!==null?(je=W,Zf(W)):je=null}break t}}Ze=0,Mn=null,$o(r,s,g,5);break;case 6:Ze=0,Mn=null,$o(r,s,g,6);break;case 8:Qp(),gt=6;break e;default:throw Error(i(462))}}XR();break}catch(ne){n1(r,ne)}while(!0);return fi=ya=null,K.H=u,K.A=m,Xe=o,je!==null?0:(st=null,Be=0,_f(),gt)}function XR(){for(;je!==null&&!Ml();)s1(je)}function s1(r){var s=kb(r.alternate,r,_i);r.memoizedProps=r.pendingProps,s===null?Zf(r):je=s}function a1(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Ab(o,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=Ab(o,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:fp(s);default:Pb(o,s),s=je=o_(s,_i),s=kb(o,s,_i)}r.memoizedProps=r.pendingProps,s===null?Zf(r):je=s}function $o(r,s,o,u){fi=ya=null,fp(s),ko=null,Eu=0;var m=s.return;try{if(zR(r,m,s,o,Be)){gt=1,Bf(r,Qn(o,r.current)),je=null;return}}catch(g){if(m!==null)throw je=m,g;gt=1,Bf(r,Qn(o,r.current)),je=null;return}s.flags&32768?(Ke||u===1?r=!0:Lo||(Be&536870912)!==0?r=!1:(ts=r=!0,(u===2||u===9||u===3||u===6)&&(u=Zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),o1(s,r)):Zf(s)}function Zf(r){var s=r;do{if((s.flags&32768)!==0){o1(s,ts);return}r=s.return;var o=FR(s.alternate,s,_i);if(o!==null){je=o;return}if(s=s.sibling,s!==null){je=s;return}je=s=r}while(s!==null);gt===0&&(gt=5)}function o1(r,s){do{var o=BR(r.alternate,r);if(o!==null){o.flags&=32767,je=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){je=r;return}je=r=o}while(r!==null);gt=6,je=null}function l1(r,s,o,u,m,g,S,R,F){r.cancelPendingCommit=null;do Jf();while(Qt!==0);if((Xe&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=zm,$l(r,o,g,S,R,F),r===st&&(je=st=null,Be=0),Vo=s,is=r,Uo=o,qp=g,Gp=m,Zb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,tC(qs,function(){return h1(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,m=ie.p,ie.p=2,S=Xe,Xe|=4;try{HR(r,s,o)}finally{Xe=S,ie.p=m,K.T=u}}Qt=1,u1(),c1(),f1()}}function u1(){if(Qt===1){Qt=0;var r=is,s=Vo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var u=ie.p;ie.p=2;var m=Xe;Xe|=4;try{qb(s,r);var g=lg,S=Xv(r.containerInfo),R=g.focusedElem,F=g.selectionRange;if(S!==R&&R&&R.ownerDocument&&Wv(R.ownerDocument.documentElement,R)){if(F!==null&&Mm(R)){var W=F.start,ne=F.end;if(ne===void 0&&(ne=W),"selectionStart"in R)R.selectionStart=W,R.selectionEnd=Math.min(ne,R.value.length);else{var se=R.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var Z=X.getSelection(),Re=R.textContent.length,Te=Math.min(F.start,Re),nt=F.end===void 0?Te:Math.min(F.end,Re);!Z.extend&&Te>nt&&(S=nt,nt=Te,Te=S);var G=Yv(R,Te),H=Yv(R,nt);if(G&&H&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var Y=se.createRange();Y.setStart(G.node,G.offset),Z.removeAllRanges(),Te>nt?(Z.addRange(Y),Z.extend(H.node,H.offset)):(Y.setEnd(H.node,H.offset),Z.addRange(Y))}}}}for(se=[],Z=R;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<se.length;R++){var re=se[R];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}fd=!!og,lg=og=null}finally{Xe=m,ie.p=u,K.T=o}}r.current=s,Qt=2}}function c1(){if(Qt===2){Qt=0;var r=is,s=Vo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var u=ie.p;ie.p=2;var m=Xe;Xe|=4;try{$b(r,s.alternate,s)}finally{Xe=m,ie.p=u,K.T=o}}Qt=3}}function f1(){if(Qt===4||Qt===3){Qt=0,Kc();var r=is,s=Vo,o=Uo,u=Zb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Qt=5:(Qt=0,Vo=is=null,d1(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(rs=null),ro(o),s=s.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(mt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=K.T,m=ie.p,ie.p=2,K.T=null;try{for(var g=r.onRecoverableError,S=0;S<u.length;S++){var R=u[S];g(R.value,{componentStack:R.stack})}}finally{K.T=s,ie.p=m}}(Uo&3)!==0&&Jf(),Mr(r),m=r.pendingLanes,(o&4194090)!==0&&(m&42)!==0?r===Kp?Nu++:(Nu=0,Kp=r):Nu=0,Du(0)}}function d1(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,cu(s)))}function Jf(r){return u1(),c1(),f1(),h1()}function h1(){if(Qt!==5)return!1;var r=is,s=qp;qp=0;var o=ro(Uo),u=K.T,m=ie.p;try{ie.p=32>o?32:o,K.T=null,o=Gp,Gp=null;var g=is,S=Uo;if(Qt=0,Vo=is=null,Uo=0,(Xe&6)!==0)throw Error(i(331));var R=Xe;if(Xe|=4,Wb(g.current),Kb(g,g.current,S,o),Xe=R,Du(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(mt,g)}catch{}return!0}finally{ie.p=m,K.T=u,d1(r,s)}}function m1(r,s,o){s=Qn(o,s),s=Sp(r.stateNode,s,2),r=Qi(r,s,2),r!==null&&(Xr(r,2),Mr(r))}function rt(r,s,o){if(r.tag===3)m1(r,r,o);else for(;s!==null;){if(s.tag===3){m1(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rs===null||!rs.has(u))){r=Qn(o,r),o=vb(2),u=Qi(s,o,2),u!==null&&(_b(o,u,s,r),Xr(u,2),Mr(u));break}}s=s.return}}function Xp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new KR;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||($p=!0,m.add(o),r=ZR.bind(null,r,s,o),s.then(r,r))}function ZR(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,st===r&&(Be&o)===o&&(gt===4||gt===3&&(Be&62914560)===Be&&300>Fn()-Hp?(Xe&2)===0&&zo(r,0):Fp|=o,jo===Be&&(jo=0)),Mr(r)}function p1(r,s){s===0&&(s=zl()),r=wo(r,s),r!==null&&(Xr(r,s),Mr(r))}function JR(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),p1(r,o)}function eC(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),p1(r,o)}function tC(r,s){return Bs(r,s)}var ed=null,Fo=null,Zp=!1,td=!1,Jp=!1,xa=0;function Mr(r){r!==Fo&&r.next===null&&(Fo===null?ed=Fo=r:Fo=Fo.next=r),td=!0,Zp||(Zp=!0,rC())}function Du(r,s){if(!Jp&&td){Jp=!0;do for(var o=!1,u=ed;u!==null;){if(r!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var S=u.suspendedLanes,R=u.pingedLanes;g=(1<<31-nn(42|r)+1)-1,g&=m&~(S&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,_1(u,g))}else g=Be,g=no(u,u===st?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ys(u,g)||(o=!0,_1(u,g));u=u.next}while(o);Jp=!1}}function nC(){g1()}function g1(){td=Zp=!1;var r=0;xa!==0&&(fC()&&(r=xa),xa=0);for(var s=Fn(),o=null,u=ed;u!==null;){var m=u.next,g=y1(u,s);g===0?(u.next=null,o===null?ed=m:o.next=m,m===null&&(Fo=o)):(o=u,(r!==0||(g&3)!==0)&&(td=!0)),u=m}Du(r)}function y1(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,m=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var S=31-nn(g),R=1<<S,F=m[S];F===-1?((R&o)===0||(R&u)!==0)&&(m[S]=Vl(R,s)):F<=s&&(r.expiredLanes|=R),g&=~R}if(s=st,o=Be,o=no(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Hs(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ys(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Hs(u),ro(o)){case 2:case 8:o=eo;break;case 32:o=qs;break;case 268435456:o=to;break;default:o=qs}return u=v1.bind(null,r),o=Bs(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Hs(u),r.callbackPriority=2,r.callbackNode=null,2}function v1(r,s){if(Qt!==0&&Qt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Jf()&&r.callbackNode!==o)return null;var u=Be;return u=no(r,r===st?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(e1(r,u,s),y1(r,Fn()),r.callbackNode!=null&&r.callbackNode===o?v1.bind(null,r):null)}function _1(r,s){if(Jf())return null;e1(r,s,!0)}function rC(){hC(function(){(Xe&6)!==0?Bs(Ll,nC):g1()})}function eg(){return xa===0&&(xa=Ul()),xa}function b1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:uo(""+r)}function E1(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function iC(r,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var g=b1((m[Tt]||null).action),S=u.submitter;S&&(s=(s=S[Tt]||null)?b1(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var R=new co("action","action",null,u,m);r.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xa!==0){var F=S?E1(m,S):new FormData(m);bp(o,{pending:!0,data:F,method:m.method,action:g},null,F)}}else typeof g=="function"&&(R.preventDefault(),F=S?E1(m,S):new FormData(m),bp(o,{pending:!0,data:F,method:m.method,action:g},g,F))},currentTarget:m}]})}}for(var tg=0;tg<Um.length;tg++){var ng=Um[tg],sC=ng.toLowerCase(),aC=ng[0].toUpperCase()+ng.slice(1);ar(sC,"on"+aC)}ar(e_,"onAnimationEnd"),ar(t_,"onAnimationIteration"),ar(n_,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(TR,"onTransitionRun"),ar(xR,"onTransitionStart"),ar(SR,"onTransitionCancel"),ar(r_,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ku));function w1(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],m=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var S=u.length-1;0<=S;S--){var R=u[S],F=R.instance,W=R.currentTarget;if(R=R.listener,F!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=W;try{g(m)}catch(ne){Ff(ne)}m.currentTarget=null,g=F}else for(S=0;S<u.length;S++){if(R=u[S],F=R.instance,W=R.currentTarget,R=R.listener,F!==g&&m.isPropagationStopped())break e;g=R,m.currentTarget=W;try{g(m)}catch(ne){Ff(ne)}m.currentTarget=null,g=F}}}}function Ve(r,s){var o=s[Bl];o===void 0&&(o=s[Bl]=new Set);var u=r+"__bubble";o.has(u)||(T1(s,r,2,!1),o.add(u))}function rg(r,s,o){var u=0;s&&(u|=4),T1(o,r,u,s)}var nd="_reactListening"+Math.random().toString(36).slice(2);function ig(r){if(!r[nd]){r[nd]=!0,Hl.forEach(function(o){o!=="selectionchange"&&(oC.has(o)||rg(o,!1,r),rg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[nd]||(s[nd]=!0,rg("selectionchange",!1,s))}}function T1(r,s,o,u){switch(K1(s)){case 2:var m=PC;break;case 8:m=MC;break;default:m=vg}o=m.bind(null,s,o,r),m=void 0,!Gn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function sg(r,s,o,u,m){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var R=u.stateNode.containerInfo;if(R===m)break;if(S===4)for(S=u.return;S!==null;){var F=S.tag;if((F===3||F===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;R!==null;){if(S=Zr(R),S===null)return;if(F=S.tag,F===5||F===6||F===26||F===27){u=g=S;continue e}R=R.parentNode}}u=u.return}rf(function(){var W=g,ne=qn(o),se=[];e:{var X=i_.get(r);if(X!==void 0){var Z=co,Re=r;switch(r){case"keypress":if(Ar(o)===0)break e;case"keydown":case"keyup":Z=yo;break;case"focusin":Re="focus",Z=mo;break;case"focusout":Re="blur",Z=mo;break;case"beforeblur":case"afterblur":Z=mo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=df;break;case e_:case t_:case n_:Z=po;break;case r_:Z=mf;break;case"scroll":case"scrollend":Z=sf;break;case"wheel":Z=vo;break;case"copy":case"cut":case"paste":Z=go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=nu;break;case"toggle":case"beforetoggle":Z=gf}var Te=(s&4)!==0,nt=!Te&&(r==="scroll"||r==="scrollend"),G=Te?X!==null?X+"Capture":null:X;Te=[];for(var H=W,Y;H!==null;){var re=H;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||G===null||(re=ra(H,G),re!=null&&Te.push(Ou(H,re,Y))),nt)break;H=H.return}0<Te.length&&(X=new Z(X,Re,null,o,ne),se.push({event:X,listeners:Te}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",X&&o!==ni&&(Re=o.relatedTarget||o.fromElement)&&(Zr(Re)||Re[Bn]))break e;if((Z||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(Re=o.relatedTarget||o.toElement,Z=W,Re=Re?Zr(Re):null,Re!==null&&(nt=l(Re),Te=Re.tag,Re!==nt||Te!==5&&Te!==27&&Te!==6)&&(Re=null)):(Z=null,Re=W),Z!==Re)){if(Te=Kn,re="onMouseLeave",G="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(Te=nu,re="onPointerLeave",G="onPointerEnter",H="pointer"),nt=Z==null?X:wr(Z),Y=Re==null?X:wr(Re),X=new Te(re,H+"leave",Z,o,ne),X.target=nt,X.relatedTarget=Y,re=null,Zr(ne)===W&&(Te=new Te(G,H+"enter",Re,o,ne),Te.target=Y,Te.relatedTarget=nt,re=Te),nt=re,Z&&Re)t:{for(Te=Z,G=Re,H=0,Y=Te;Y;Y=Bo(Y))H++;for(Y=0,re=G;re;re=Bo(re))Y++;for(;0<H-Y;)Te=Bo(Te),H--;for(;0<Y-H;)G=Bo(G),Y--;for(;H--;){if(Te===G||G!==null&&Te===G.alternate)break t;Te=Bo(Te),G=Bo(G)}Te=null}else Te=null;Z!==null&&x1(se,X,Z,Te,!1),Re!==null&&nt!==null&&x1(se,nt,Re,Te,!0)}}e:{if(X=W?wr(W):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var ye=Bv;else if(kt(X))if(Hv)ye=bR;else{ye=vR;var Le=yR}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&Yl(W.elementType)&&(ye=Bv):ye=_R;if(ye&&(ye=ye(r,W))){oi(se,ye,o,ne);break e}Le&&Le(r,X,W),r==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&Bi(X,"number",X.value)}switch(Le=W?wr(W):window,r){case"focusin":(kt(Le)||Le.contentEditable==="true")&&(_o=Le,Lm=W,su=null);break;case"focusout":su=Lm=_o=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,Zv(se,o,ne);break;case"selectionchange":if(wR)break;case"keydown":case"keyup":Zv(se,o,ne)}var _e;if(Ir)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else $e?J(r,o)&&(xe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(x&&o.locale!=="ko"&&($e||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&$e&&(_e=Xl()):(Sr=ne,Hi="value"in Sr?Sr.value:Sr.textContent,$e=!0)),Le=rd(W,xe),0<Le.length&&(xe=new eu(xe,r,null,o,ne),se.push({event:xe,listeners:Le}),_e?xe.data=_e:(_e=me(o),_e!==null&&(xe.data=_e)))),(_e=_?Dt(r,o):Fe(r,o))&&(xe=rd(W,"onBeforeInput"),0<xe.length&&(Le=new eu("onBeforeInput","beforeinput",null,o,ne),se.push({event:Le,listeners:xe}),Le.data=_e)),iC(se,r,W,o,ne)}w1(se,s)})}function Ou(r,s,o){return{instance:r,listener:s,currentTarget:o}}function rd(r,s){for(var o=s+"Capture",u=[];r!==null;){var m=r,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ra(r,o),m!=null&&u.unshift(Ou(r,m,g)),m=ra(r,s),m!=null&&u.push(Ou(r,m,g))),r.tag===3)return u;r=r.return}return[]}function Bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function x1(r,s,o,u,m){for(var g=s._reactName,S=[];o!==null&&o!==u;){var R=o,F=R.alternate,W=R.stateNode;if(R=R.tag,F!==null&&F===u)break;R!==5&&R!==26&&R!==27||W===null||(F=W,m?(W=ra(o,g),W!=null&&S.unshift(Ou(o,W,F))):m||(W=ra(o,g),W!=null&&S.push(Ou(o,W,F)))),o=o.return}S.length!==0&&r.push({event:s,listeners:S})}var lC=/\r\n?/g,uC=/\u0000|\uFFFD/g;function S1(r){return(typeof r=="string"?r:""+r).replace(lC,`
`).replace(uC,"")}function A1(r,s){return s=S1(s),S1(r)===s}function id(){}function tt(r,s,o,u,m,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Hn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Hn(r,""+u);break;case"className":Tr(r,"class",u);break;case"tabIndex":Tr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(r,o,u);break;case"style":Ql(r,u,g);break;case"data":if(s!=="object"){Tr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=uo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&tt(r,s,"name",m.name,m,null),tt(r,s,"formEncType",m.formEncType,m,null),tt(r,s,"formMethod",m.formMethod,m,null),tt(r,s,"formTarget",m.formTarget,m,null)):(tt(r,s,"encType",m.encType,m,null),tt(r,s,"method",m.method,m,null),tt(r,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=uo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=id);break;case"onScroll":u!=null&&Ve("scroll",r);break;case"onScrollEnd":u!=null&&Ve("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=uo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ve("beforetoggle",r),Ve("toggle",r),Fi(r,"popover",u);break;case"xlinkActuate":qt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Fi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Im.get(o)||o,Fi(r,o,u))}}function ag(r,s,o,u,m,g){switch(o){case"style":Ql(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Hn(r,u):(typeof u=="number"||typeof u=="bigint")&&Hn(r,""+u);break;case"onScroll":u!=null&&Ve("scroll",r);break;case"onScrollEnd":u!=null&&Ve("scrollend",r);break;case"onClick":u!=null&&(r.onclick=id);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!io.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=r[Tt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,m);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Fi(r,o,u)}}}function Yt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",r),Ve("load",r);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:tt(r,s,g,S,o,null)}}m&&tt(r,s,"srcSet",o.srcSet,o,null),u&&tt(r,s,"src",o.src,o,null);return;case"input":Ve("invalid",r);var R=g=S=m=null,F=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":m=ne;break;case"type":S=ne;break;case"checked":F=ne;break;case"defaultChecked":W=ne;break;case"value":g=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:tt(r,s,u,ne,o,null)}}ea(r,g,R,F,W,S,m,!1),lo(r);return;case"select":Ve("invalid",r),u=S=g=null;for(m in o)if(o.hasOwnProperty(m)&&(R=o[m],R!=null))switch(m){case"value":g=R;break;case"defaultValue":S=R;break;case"multiple":u=R;default:tt(r,s,m,R,o,null)}s=g,o=S,r.multiple=!!u,s!=null?ti(r,!!u,s,!1):o!=null&&ti(r,!!u,o,!0);return;case"textarea":Ve("invalid",r),g=m=u=null;for(S in o)if(o.hasOwnProperty(S)&&(R=o[S],R!=null))switch(S){case"value":u=R;break;case"defaultValue":m=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:tt(r,s,S,R,o,null)}ta(r,u,m,g),lo(r);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(r,s,F,u,o,null)}return;case"dialog":Ve("beforetoggle",r),Ve("toggle",r),Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":Ve("load",r);break;case"video":case"audio":for(u=0;u<ku.length;u++)Ve(ku[u],r);break;case"image":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"embed":case"source":case"link":Ve("error",r),Ve("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:tt(r,s,W,u,o,null)}return;default:if(Yl(s)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&ag(r,s,ne,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&tt(r,s,R,u,o,null))}function cC(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,S=null,R=null,F=null,W=null,ne=null;for(Z in o){var se=o[Z];if(o.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":F=se;default:u.hasOwnProperty(Z)||tt(r,s,Z,null,u,se)}}for(var X in u){var Z=u[X];if(se=o[X],u.hasOwnProperty(X)&&(Z!=null||se!=null))switch(X){case"type":g=Z;break;case"name":m=Z;break;case"checked":W=Z;break;case"defaultChecked":ne=Z;break;case"value":S=Z;break;case"defaultValue":R=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==se&&tt(r,s,X,Z,u,se)}}Nn(r,S,R,F,W,ne,g,m);return;case"select":Z=S=R=X=null;for(g in o)if(F=o[g],o.hasOwnProperty(g)&&F!=null)switch(g){case"value":break;case"multiple":Z=F;default:u.hasOwnProperty(g)||tt(r,s,g,null,u,F)}for(m in u)if(g=u[m],F=o[m],u.hasOwnProperty(m)&&(g!=null||F!=null))switch(m){case"value":X=g;break;case"defaultValue":R=g;break;case"multiple":S=g;default:g!==F&&tt(r,s,m,g,u,F)}s=R,o=S,u=Z,X!=null?ti(r,!!o,X,!1):!!u!=!!o&&(s!=null?ti(r,!!o,s,!0):ti(r,!!o,o?[]:"",!1));return;case"textarea":Z=X=null;for(R in o)if(m=o[R],o.hasOwnProperty(R)&&m!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:tt(r,s,R,null,u,m)}for(S in u)if(m=u[S],g=o[S],u.hasOwnProperty(S)&&(m!=null||g!=null))switch(S){case"value":X=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&tt(r,s,S,m,u,g)}Je(r,X,Z);return;case"option":for(var Re in o)if(X=o[Re],o.hasOwnProperty(Re)&&X!=null&&!u.hasOwnProperty(Re))switch(Re){case"selected":r.selected=!1;break;default:tt(r,s,Re,null,u,X)}for(F in u)if(X=u[F],Z=o[F],u.hasOwnProperty(F)&&X!==Z&&(X!=null||Z!=null))switch(F){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:tt(r,s,F,X,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)X=o[Te],o.hasOwnProperty(Te)&&X!=null&&!u.hasOwnProperty(Te)&&tt(r,s,Te,null,u,X);for(W in u)if(X=u[W],Z=o[W],u.hasOwnProperty(W)&&X!==Z&&(X!=null||Z!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:tt(r,s,W,X,u,Z)}return;default:if(Yl(s)){for(var nt in o)X=o[nt],o.hasOwnProperty(nt)&&X!==void 0&&!u.hasOwnProperty(nt)&&ag(r,s,nt,void 0,u,X);for(ne in u)X=u[ne],Z=o[ne],!u.hasOwnProperty(ne)||X===Z||X===void 0&&Z===void 0||ag(r,s,ne,X,u,Z);return}}for(var G in o)X=o[G],o.hasOwnProperty(G)&&X!=null&&!u.hasOwnProperty(G)&&tt(r,s,G,null,u,X);for(se in u)X=u[se],Z=o[se],!u.hasOwnProperty(se)||X===Z||X==null&&Z==null||tt(r,s,se,X,u,Z)}var og=null,lg=null;function sd(r){return r.nodeType===9?r:r.ownerDocument}function R1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C1(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function ug(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cg=null;function fC(){var r=window.event;return r&&r.type==="popstate"?r===cg?!1:(cg=r,!0):(cg=null,!1)}var I1=typeof setTimeout=="function"?setTimeout:void 0,dC=typeof clearTimeout=="function"?clearTimeout:void 0,N1=typeof Promise=="function"?Promise:void 0,hC=typeof queueMicrotask=="function"?queueMicrotask:typeof N1<"u"?function(r){return N1.resolve(null).then(r).catch(mC)}:I1;function mC(r){setTimeout(function(){throw r})}function as(r){return r==="head"}function D1(r,s){var o=s,u=0,m=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var S=r.ownerDocument;if(o&1&&Pu(S.documentElement),o&2&&Pu(S.body),o&4)for(o=S.head,Pu(o),S=o.firstChild;S;){var R=S.nextSibling,F=S.nodeName;S[Ws]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=R}}if(m===0){r.removeChild(g),Fu(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Fu(s)}function fg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":fg(o),$i(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function pC(r,s,o,u){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ws])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=lr(r.nextSibling),r===null)break}return null}function gC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=lr(r.nextSibling),r===null))return null;return r}function dg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function yC(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function lr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var hg=null;function k1(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function O1(r,s,o){switch(s=sd(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Pu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);$i(r)}var er=new Map,P1=new Set;function ad(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var bi=ie.d;ie.d={f:vC,r:_C,D:bC,C:EC,L:wC,m:TC,X:SC,S:xC,M:AC};function vC(){var r=bi.f(),s=Xf();return r||s}function _C(r){var s=Er(r);s!==null&&s.tag===5&&s.type==="form"?eb(s):bi.r(r)}var Ho=typeof document>"u"?null:document;function M1(r,s,o){var u=Ho;if(u&&typeof s=="string"&&s){var m=xt(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),P1.has(m)||(P1.add(m),r={rel:r,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),Yt(s,"link",r),vt(s),u.head.appendChild(s)))}}function bC(r){bi.D(r),M1("dns-prefetch",r,null)}function EC(r,s){bi.C(r,s),M1("preconnect",r,s)}function wC(r,s,o){bi.L(r,s,o);var u=Ho;if(u&&r&&s){var m='link[rel="preload"][as="'+xt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+xt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+xt(o.imageSizes)+'"]')):m+='[href="'+xt(r)+'"]';var g=m;switch(s){case"style":g=qo(r);break;case"script":g=Go(r)}er.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),er.set(g,r),u.querySelector(m)!==null||s==="style"&&u.querySelector(Mu(g))||s==="script"&&u.querySelector(Lu(g))||(s=u.createElement("link"),Yt(s,"link",r),vt(s),u.head.appendChild(s)))}}function TC(r,s){bi.m(r,s);var o=Ho;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+xt(u)+'"][href="'+xt(r)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Go(r)}if(!er.has(g)&&(r=y({rel:"modulepreload",href:r},s),er.set(g,r),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Lu(g)))return}u=o.createElement("link"),Yt(u,"link",r),vt(u),o.head.appendChild(u)}}}function xC(r,s,o){bi.S(r,s,o);var u=Ho;if(u&&r){var m=hn(u).hoistableStyles,g=qo(r);s=s||"default";var S=m.get(g);if(!S){var R={loading:0,preload:null};if(S=u.querySelector(Mu(g)))R.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=er.get(g))&&mg(r,o);var F=S=u.createElement("link");vt(F),Yt(F,"link",r),F._p=new Promise(function(W,ne){F.onload=W,F.onerror=ne}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,od(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:R},m.set(g,S)}}}function SC(r,s){bi.X(r,s);var o=Ho;if(o&&r){var u=hn(o).hoistableScripts,m=Go(r),g=u.get(m);g||(g=o.querySelector(Lu(m)),g||(r=y({src:r,async:!0},s),(s=er.get(m))&&pg(r,s),g=o.createElement("script"),vt(g),Yt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function AC(r,s){bi.M(r,s);var o=Ho;if(o&&r){var u=hn(o).hoistableScripts,m=Go(r),g=u.get(m);g||(g=o.querySelector(Lu(m)),g||(r=y({src:r,async:!0,type:"module"},s),(s=er.get(m))&&pg(r,s),g=o.createElement("script"),vt(g),Yt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function L1(r,s,o,u){var m=(m=Ae.current)?ad(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=qo(o.href),o=hn(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=qo(o.href);var g=hn(m).hoistableStyles,S=g.get(r);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,S),(g=m.querySelector(Mu(r)))&&!g._p&&(S.instance=g,S.state.loading=5),er.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},er.set(r,o),g||RC(m,r,o,S.state))),s&&u===null)throw Error(i(528,""));return S}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Go(o),o=hn(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function qo(r){return'href="'+xt(r)+'"'}function Mu(r){return'link[rel="stylesheet"]['+r+"]"}function j1(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function RC(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Yt(s,"link",o),vt(s),r.head.appendChild(s))}function Go(r){return'[src="'+xt(r)+'"]'}function Lu(r){return"script[async]"+r}function V1(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+xt(o.href)+'"]');if(u)return s.instance=u,vt(u),u;var m=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),vt(u),Yt(u,"style",m),od(u,o.precedence,r),s.instance=u;case"stylesheet":m=qo(o.href);var g=r.querySelector(Mu(m));if(g)return s.state.loading|=4,s.instance=g,vt(g),g;u=j1(o),(m=er.get(m))&&mg(u,m),g=(r.ownerDocument||r).createElement("link"),vt(g);var S=g;return S._p=new Promise(function(R,F){S.onload=R,S.onerror=F}),Yt(g,"link",u),s.state.loading|=4,od(g,o.precedence,r),s.instance=g;case"script":return g=Go(o.src),(m=r.querySelector(Lu(g)))?(s.instance=m,vt(m),m):(u=o,(m=er.get(g))&&(u=y({},o),pg(u,m)),r=r.ownerDocument||r,m=r.createElement("script"),vt(m),Yt(m,"link",u),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,od(u,o.precedence,r));return s.instance}function od(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,S=0;S<u.length;S++){var R=u[S];if(R.dataset.precedence===s)g=R;else if(g!==m)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function mg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function pg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var ld=null;function U1(r,s,o){if(ld===null){var u=new Map,m=ld=new Map;m.set(o,u)}else m=ld,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var g=o[m];if(!(g[Ws]||g[Nt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=r+S;var R=u.get(S);R?R.push(g):u.set(S,[g])}}return u}function z1(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function CC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function $1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ju=null;function IC(){}function NC(r,s,o){if(ju===null)throw Error(i(475));var u=ju;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=qo(o.href),g=r.querySelector(Mu(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=ud.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,vt(g);return}g=r.ownerDocument||r,o=j1(o),(m=er.get(m))&&mg(o,m),g=g.createElement("link"),vt(g);var S=g;S._p=new Promise(function(R,F){S.onload=R,S.onerror=F}),Yt(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=ud.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function DC(){if(ju===null)throw Error(i(475));var r=ju;return r.stylesheets&&r.count===0&&gg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&gg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function ud(){if(this.count--,this.count===0){if(this.stylesheets)gg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var cd=null;function gg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,cd=new Map,s.forEach(kC,r),cd=null,ud.call(r))}function kC(r,s){if(!(s.state.loading&4)){var o=cd.get(r);if(o)var u=o.get(null);else{o=new Map,cd.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var S=m[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}m=s.instance,S=m.getAttribute("data-precedence"),g=o.get(S)||u,g===u&&o.set(null,m),o.set(S,m),this.count++,u=ud.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var Vu={$$typeof:I,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function OC(r,s,o,u,m,g,S,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function F1(r,s,o,u,m,g,S,R,F,W,ne,se){return r=new OC(r,s,o,S,R,F,W,se),s=1,g===!0&&(s|=24),g=kn(3,null,null,s),r.current=g,g.stateNode=r,s=Xm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},tp(g),r}function B1(r){return r?(r=To,r):To}function H1(r,s,o,u,m,g){m=B1(m),u.context===null?u.context=m:u.pendingContext=m,u=Ki(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Qi(r,u,s),o!==null&&(jn(o,r,s),mu(o,r,s))}function q1(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function yg(r,s){q1(r,s),(r=r.alternate)&&q1(r,s)}function G1(r){if(r.tag===13){var s=wo(r,67108864);s!==null&&jn(s,r,67108864),yg(r,67108864)}}var fd=!0;function PC(r,s,o,u){var m=K.T;K.T=null;var g=ie.p;try{ie.p=2,vg(r,s,o,u)}finally{ie.p=g,K.T=m}}function MC(r,s,o,u){var m=K.T;K.T=null;var g=ie.p;try{ie.p=8,vg(r,s,o,u)}finally{ie.p=g,K.T=m}}function vg(r,s,o,u){if(fd){var m=_g(u);if(m===null)sg(r,s,u,dd,o),Q1(r,u);else if(jC(m,r,s,o,u))u.stopPropagation();else if(Q1(r,u),s&4&&-1<LC.indexOf(r)){for(;m!==null;){var g=Er(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=rr(g.pendingLanes);if(S!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;S;){var F=1<<31-nn(S);R.entanglements[1]|=F,S&=~F}Mr(g),(Xe&6)===0&&(Yf=Fn()+500,Du(0))}}break;case 13:R=wo(g,2),R!==null&&jn(R,g,2),Xf(),yg(g,2)}if(g=_g(u),g===null&&sg(r,s,u,dd,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else sg(r,s,u,null,o)}}function _g(r){return r=qn(r),bg(r)}var dd=null;function bg(r){if(dd=null,r=Zr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return dd=r,null}function K1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tm()){case Ll:return 2;case eo:return 8;case qs:case xm:return 32;case to:return 268435456;default:return 32}default:return 32}}var Eg=!1,os=null,ls=null,us=null,Uu=new Map,zu=new Map,cs=[],LC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q1(r,s){switch(r){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Uu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(s.pointerId)}}function $u(r,s,o,u,m,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Er(s),s!==null&&G1(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function jC(r,s,o,u,m){switch(s){case"focusin":return os=$u(os,r,s,o,u,m),!0;case"dragenter":return ls=$u(ls,r,s,o,u,m),!0;case"mouseover":return us=$u(us,r,s,o,u,m),!0;case"pointerover":var g=m.pointerId;return Uu.set(g,$u(Uu.get(g)||null,r,s,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,zu.set(g,$u(zu.get(g)||null,r,s,o,u,m)),!0}return!1}function Y1(r){var s=Zr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Wc(r.priority,function(){if(o.tag===13){var u=Ln();u=Vi(u);var m=wo(o,u);m!==null&&jn(m,o,u),yg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=_g(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);ni=u,o.target.dispatchEvent(u),ni=null}else return s=Er(o),s!==null&&G1(s),r.blockedOn=o,!1;s.shift()}return!0}function W1(r,s,o){hd(r)&&o.delete(s)}function VC(){Eg=!1,os!==null&&hd(os)&&(os=null),ls!==null&&hd(ls)&&(ls=null),us!==null&&hd(us)&&(us=null),Uu.forEach(W1),zu.forEach(W1)}function md(r,s){r.blockedOn===s&&(r.blockedOn=null,Eg||(Eg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,VC)))}var pd=null;function X1(r){pd!==r&&(pd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pd===r&&(pd=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],m=r[s+2];if(typeof u!="function"){if(bg(u||o)===null)continue;break}var g=Er(o);g!==null&&(r.splice(s,3),s-=3,bp(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Fu(r){function s(F){return md(F,r)}os!==null&&md(os,r),ls!==null&&md(ls,r),us!==null&&md(us,r),Uu.forEach(s),zu.forEach(s);for(var o=0;o<cs.length;o++){var u=cs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<cs.length&&(o=cs[0],o.blockedOn===null);)Y1(o),o.blockedOn===null&&cs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],S=m[Tt]||null;if(typeof g=="function")S||X1(o);else if(S){var R=null;if(g&&g.hasAttribute("formAction")){if(m=g,S=g[Tt]||null)R=S.formAction;else if(bg(m)!==null)continue}else R=S.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),X1(o)}}}function wg(r){this._internalRoot=r}gd.prototype.render=wg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Ln();H1(o,u,r,s,null,null)},gd.prototype.unmount=wg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;H1(r.current,2,null,r,null,null),Xf(),s[Bn]=null}};function gd(r){this._internalRoot=r}gd.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ui();r={blockedOn:null,target:r,priority:s};for(var o=0;o<cs.length&&s!==0&&s<cs[o].priority;o++);cs.splice(o,0,r),o===0&&Y1(r)}};var Z1=e.version;if(Z1!=="19.1.0")throw Error(i(527,Z1,"19.1.0"));ie.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var UC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{mt=yd.inject(UC),We=yd}catch{}}return Hu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",m=mb,g=pb,S=gb,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=F1(r,1,!1,null,null,o,u,m,g,S,R,null),r[Bn]=s.current,ig(r),new wg(s)},Hu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,m="",g=mb,S=pb,R=gb,F=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),s=F1(r,1,!0,s,o??null,u,m,g,S,R,F,W),s.context=B1(null),o=s.current,u=Ln(),u=Vi(u),m=Ki(u),m.callback=null,Qi(o,m,u),o=u,s.current.lanes=o,Xr(s,o),Mr(s),r[Bn]=s.current,ig(r),new gd(s)},Hu.version="19.1.0",Hu}var lE;function WC(){if(lE)return Sg.exports;lE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sg.exports=YC(),Sg.exports}var XC=WC(),qu={},uE;function ZC(){if(uE)return qu;uE=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.parse=c,qu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,T){const A=new l,D=b.length;if(D<2)return A;const C=(T==null?void 0:T.decode)||y;let P=0;do{const L=b.indexOf("=",P);if(L===-1)break;const I=b.indexOf(";",P),z=I===-1?D:I;if(L>z){P=b.lastIndexOf(";",L-1)+1;continue}const q=f(b,P,L),te=h(b,L,q),O=b.slice(q,te);if(A[O]===void 0){let N=f(b,L+1,z),M=h(b,z,N);const V=C(b.slice(N,M));A[O]=V}P=z+1}while(P<D);return A}function f(b,T,A){do{const D=b.charCodeAt(T);if(D!==32&&D!==9)return T}while(++T<A);return A}function h(b,T,A){for(;T>A;){const D=b.charCodeAt(--T);if(D!==32&&D!==9)return T+1}return A}function p(b,T,A){const D=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=D(T);if(!e.test(C))throw new TypeError(`argument val is invalid: ${T}`);let P=b+"="+C;if(!A)return P;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);P+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);P+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);P+="; Path="+A.path}if(A.expires){if(!E(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);P+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(P+="; HttpOnly"),A.secure&&(P+="; Secure"),A.partitioned&&(P+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return P}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function E(b){return a.call(b)==="[object Date]"}return qu}ZC();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cE="popstate";function JC(t={}){function e(i,a){let{pathname:l,search:c,hash:f}=i.location;return dy("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:uc(a)}return tI(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eI(){return Math.random().toString(36).substring(2,10)}function fE(t,e){return{usr:t.state,key:t.key,idx:e}}function dy(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:n,key:e&&e.key||i||eI()}}function uc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function tI(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",h=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function E(){f="POP";let C=y(),P=C==null?null:C-p;p=C,h&&h({action:f,location:D.location,delta:P})}function b(C,P){f="PUSH";let L=dy(D.location,C,P);p=y()+1;let I=fE(L,p),z=D.createHref(L);try{c.pushState(I,"",z)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(z)}l&&h&&h({action:f,location:D.location,delta:1})}function T(C,P){f="REPLACE";let L=dy(D.location,C,P);p=y();let I=fE(L,p),z=D.createHref(L);c.replaceState(I,"",z),l&&h&&h({action:f,location:D.location,delta:0})}function A(C){let P=a.location.origin!=="null"?a.location.origin:a.location.href,L=typeof C=="string"?C:uc(C);return L=L.replace(/ $/,"%20"),ct(P,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,P)}let D={get action(){return f},get location(){return t(a,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(cE,E),h=C,()=>{a.removeEventListener(cE,E),h=null}},createHref(C){return e(a,C)},createURL:A,encodeLocation(C){let P=A(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:b,replace:T,go(C){return c.go(C)}};return D}function FT(t,e,n="/"){return nI(t,e,n,!1)}function nI(t,e,n,i){let a=typeof e=="string"?bl(e):e,l=Ci(a.pathname||"/",n);if(l==null)return null;let c=BT(t);rI(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let p=mI(l);f=dI(c[h],p,i)}return f}function BT(t,e=[],n=[],i=""){let a=(l,c,f)=>{let h={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(ct(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=xi([i,h.relativePath]),y=n.concat(h);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),BT(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:cI(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let h of HT(l.path))a(l,c,h)}),e}function HT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=HT(i.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&f.push(...c),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function rI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var iI=/^:[\w-]+$/,sI=3,aI=2,oI=1,lI=10,uI=-2,dE=t=>t==="*";function cI(t,e){let n=t.split("/"),i=n.length;return n.some(dE)&&(i+=uI),e&&(i+=aI),n.filter(a=>!dE(a)).reduce((a,l)=>a+(iI.test(l)?sI:l===""?oI:lI),i)}function fI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function dI(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let f=0;f<i.length;++f){let h=i[f],p=f===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",E=qd({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),b=h.route;if(!E&&p&&n&&!i[i.length-1].route.index&&(E=qd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:xi([l,E.pathname]),pathnameBase:vI(xi([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=xi([l,E.pathnameBase]))}return c}function qd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=hI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:E},b)=>{if(y==="*"){let A=f[b]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const T=f[b];return E&&!T?p[y]=void 0:p[y]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function hI(t,e=!1,n=!0){hr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function mI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ci(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function pI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?bl(t):t;return{pathname:n?n.startsWith("/")?n:gI(n,e):e,search:_I(i),hash:bI(a)}}function gI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ig(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function d0(t){let e=yI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function h0(t,e,n,i=!1){let a;typeof t=="string"?a=bl(t):(a={...t},ct(!a.pathname||!a.pathname.includes("?"),Ig("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),Ig("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),Ig("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let E=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;a.pathname=b.join("/")}f=E>=0?e[E]:"/"}let h=pI(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var xi=t=>t.join("/").replace(/\/\/+/g,"/"),vI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_I=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var qT=["POST","PUT","PATCH","DELETE"];new Set(qT);var wI=["GET",...qT];new Set(wI);var El=w.createContext(null);El.displayName="DataRouter";var Nh=w.createContext(null);Nh.displayName="DataRouterState";var GT=w.createContext({isTransitioning:!1});GT.displayName="ViewTransition";var TI=w.createContext(new Map);TI.displayName="Fetchers";var xI=w.createContext(null);xI.displayName="Await";var yr=w.createContext(null);yr.displayName="Navigation";var Sc=w.createContext(null);Sc.displayName="Location";var vr=w.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var m0=w.createContext(null);m0.displayName="RouteError";function SI(t,{relative:e}={}){ct(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=w.useContext(yr),{hash:a,pathname:l,search:c}=Ac(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:xi([n,l])),i.createHref({pathname:f,search:c,hash:a})}function wl(){return w.useContext(Sc)!=null}function Ms(){return ct(wl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Sc).location}var KT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QT(t){w.useContext(yr).static||w.useLayoutEffect(t)}function p0(){let{isDataRoute:t}=w.useContext(vr);return t?VI():AI()}function AI(){ct(wl(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(El),{basename:e,navigator:n}=w.useContext(yr),{matches:i}=w.useContext(vr),{pathname:a}=Ms(),l=JSON.stringify(d0(i)),c=w.useRef(!1);return QT(()=>{c.current=!0}),w.useCallback((h,p={})=>{if(hr(c.current,KT),!c.current)return;if(typeof h=="number"){n.go(h);return}let y=h0(h,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:xi([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}w.createContext(null);function YT(){let{matches:t}=w.useContext(vr),e=t[t.length-1];return e?e.params:{}}function Ac(t,{relative:e}={}){let{matches:n}=w.useContext(vr),{pathname:i}=Ms(),a=JSON.stringify(d0(n));return w.useMemo(()=>h0(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function RI(t,e){return WT(t,e)}function WT(t,e,n,i){var L;ct(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=w.useContext(yr),{matches:c}=w.useContext(vr),f=c[c.length-1],h=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let I=E&&E.path||"";XT(p,!E||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let b=Ms(),T;if(e){let I=typeof e=="string"?bl(e):e;ct(y==="/"||((L=I.pathname)==null?void 0:L.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${I.pathname}" was given in the \`location\` prop.`),T=I}else T=b;let A=T.pathname||"/",D=A;if(y!=="/"){let I=y.replace(/^\//,"").split("/");D="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=!l&&n&&n.matches&&n.matches.length>0?n.matches:FT(t,{pathname:D});hr(E||C!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),hr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=kI(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:xi([y,a.encodeLocation?a.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?y:xi([y,a.encodeLocation?a.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),c,n,i);return e&&P?w.createElement(Sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},P):P}function CI(){let t=jI(),e=EI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,c)}var II=w.createElement(CI,null),NI=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(vr.Provider,{value:this.props.routeContext},w.createElement(m0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DI({routeContext:t,match:e,children:n}){let i=w.useContext(El);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(vr.Provider,{value:t},n)}function kI(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,f=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:y,errors:E}=n,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||b){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,p,y)=>{let E,b=!1,T=null,A=null;n&&(E=l&&p.route.id?l[p.route.id]:void 0,T=p.route.errorElement||II,c&&(f<0&&y===0?(XT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,A=null):f===y&&(b=!0,A=p.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),C=()=>{let P;return E?P=T:b?P=A:p.route.Component?P=w.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=h,w.createElement(DI,{match:p,routeContext:{outlet:h,matches:D,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?w.createElement(NI,{location:n.location,revalidation:n.revalidation,component:T,error:E,children:C(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):C()},null)}function g0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OI(t){let e=w.useContext(El);return ct(e,g0(t)),e}function PI(t){let e=w.useContext(Nh);return ct(e,g0(t)),e}function MI(t){let e=w.useContext(vr);return ct(e,g0(t)),e}function y0(t){let e=MI(t),n=e.matches[e.matches.length-1];return ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function LI(){return y0("useRouteId")}function jI(){var i;let t=w.useContext(m0),e=PI("useRouteError"),n=y0("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function VI(){let{router:t}=OI("useNavigate"),e=y0("useNavigate"),n=w.useRef(!1);return QT(()=>{n.current=!0}),w.useCallback(async(a,l={})=>{hr(n.current,KT),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var hE={};function XT(t,e,n){!e&&!hE[t]&&(hE[t]=!0,hr(!1,n))}w.memo(UI);function UI({routes:t,future:e,state:n}){return WT(t,void 0,n,e)}function ZT({to:t,replace:e,state:n,relative:i}){ct(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(yr);hr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(vr),{pathname:c}=Ms(),f=p0(),h=h0(t,d0(l),c,i==="path"),p=JSON.stringify(h);return w.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:i})},[f,p,i,e,n]),null}function xn(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){ct(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=bl(n));let{pathname:h="/",search:p="",hash:y="",state:E=null,key:b="default"}=n,T=w.useMemo(()=>{let A=Ci(h,c);return A==null?null:{location:{pathname:A,search:p,hash:y,state:E,key:b},navigationType:i}},[c,h,p,y,E,b,i]);return hr(T!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:w.createElement(yr.Provider,{value:f},w.createElement(Sc.Provider,{children:e,value:T}))}function $I({children:t,location:e}){return RI(hy(t),e)}function hy(t,e=[]){let n=[];return w.Children.forEach(t,(i,a)=>{if(!w.isValidElement(i))return;let l=[...e,a];if(i.type===w.Fragment){n.push.apply(n,hy(i.props.children,l));return}ct(i.type===xn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=hy(i.props.children,l)),n.push(c)}),n}var Id="get",Nd="application/x-www-form-urlencoded";function Dh(t){return t!=null&&typeof t.tagName=="string"}function FI(t){return Dh(t)&&t.tagName.toLowerCase()==="button"}function BI(t){return Dh(t)&&t.tagName.toLowerCase()==="form"}function HI(t){return Dh(t)&&t.tagName.toLowerCase()==="input"}function qI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GI(t,e){return t.button===0&&(!e||e==="_self")&&!qI(t)}var vd=null;function KI(){if(vd===null)try{new FormData(document.createElement("form"),0),vd=!1}catch{vd=!0}return vd}var QI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ng(t){return t!=null&&!QI.has(t)?(hr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nd}"`),null):t}function YI(t,e){let n,i,a,l,c;if(BI(t)){let f=t.getAttribute("action");i=f?Ci(f,e):null,n=t.getAttribute("method")||Id,a=Ng(t.getAttribute("enctype"))||Nd,l=new FormData(t)}else if(FI(t)||HI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(i=h?Ci(h,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Id,a=Ng(t.getAttribute("formenctype"))||Ng(f.getAttribute("enctype"))||Nd,l=new FormData(f,t),!KI()){let{name:p,type:y,value:E}=t;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,E)}}else{if(Dh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Id,i=null,a=Nd,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}function v0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function WI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZI(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await WI(l,n);return c.links?c.links():[]}return[]}));return nN(i.flat(1).filter(XI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function mE(t,e,n,i,a,l){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,f=(h,p)=>{var y;return n[p].pathname!==h.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,p)=>c(h,p)||f(h,p)):l==="data"?e.filter((h,p)=>{var E;let y=i.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(c(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function JI(t,e,{includeHydrateFallback:n}={}){return eN(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function eN(t){return[...new Set(t)]}function tN(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function nN(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(tN(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function rN(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ci(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function JT(){let t=w.useContext(El);return v0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iN(){let t=w.useContext(Nh);return v0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _0=w.createContext(void 0);_0.displayName="FrameworkContext";function ex(){let t=w.useContext(_0);return v0(t,"You must render this element inside a <HydratedRouter> element"),t}function sN(t,e){let n=w.useContext(_0),[i,a]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:E}=e,b=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=P=>{P.forEach(L=>{c(L.isIntersecting)})},C=new IntersectionObserver(D,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[t]),w.useEffect(()=>{if(i){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[i]);let T=()=>{a(!0)},A=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Gu(f,T),onBlur:Gu(h,A),onMouseEnter:Gu(p,T),onMouseLeave:Gu(y,A),onTouchStart:Gu(E,T)}]:[!1,b,{}]}function Gu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aN({page:t,...e}){let{router:n}=JT(),i=w.useMemo(()=>FT(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?w.createElement(lN,{page:t,matches:i,...e}):null}function oN(t){let{manifest:e,routeModules:n}=ex(),[i,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return ZI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function lN({page:t,matches:e,...n}){let i=Ms(),{manifest:a,routeModules:l}=ex(),{basename:c}=JT(),{loaderData:f,matches:h}=iN(),p=w.useMemo(()=>mE(t,e,h,a,i,"data"),[t,e,h,a,i]),y=w.useMemo(()=>mE(t,e,h,a,i,"assets"),[t,e,h,a,i]),E=w.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let A=new Set,D=!1;if(e.forEach(P=>{var I;let L=a.routes[P.route.id];!L||!L.hasLoader||(!p.some(z=>z.route.id===P.route.id)&&P.route.id in f&&((I=l[P.route.id])!=null&&I.shouldRevalidate)||L.hasClientLoader?D=!0:A.add(P.route.id))}),A.size===0)return[];let C=rN(t,c);return D&&A.size>0&&C.searchParams.set("_routes",e.filter(P=>A.has(P.route.id)).map(P=>P.route.id).join(",")),[C.pathname+C.search]},[c,f,i,a,p,e,t,l]),b=w.useMemo(()=>JI(y,a),[y,a]),T=oN(y);return w.createElement(w.Fragment,null,E.map(A=>w.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),b.map(A=>w.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),T.map(({key:A,link:D})=>w.createElement("link",{key:A,...D})))}function uN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tx&&(window.__reactRouterVersion="7.5.0")}catch{}function cN({basename:t,children:e,window:n}){let i=w.useRef();i.current==null&&(i.current=JC({window:n,v5Compat:!0}));let a=i.current,[l,c]=w.useState({action:a.action,location:a.location}),f=w.useCallback(h=>{w.startTransition(()=>c(h))},[c]);return w.useLayoutEffect(()=>a.listen(f),[a,f]),w.createElement(zI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var nx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=w.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:h,to:p,preventScrollReset:y,viewTransition:E,...b},T){let{basename:A}=w.useContext(yr),D=typeof p=="string"&&nx.test(p),C,P=!1;if(typeof p=="string"&&D&&(C=p,tx))try{let M=new URL(window.location.href),V=p.startsWith("//")?new URL(M.protocol+p):new URL(p),U=Ci(V.pathname,A);V.origin===M.origin&&U!=null?p=U+V.search+V.hash:P=!0}catch{hr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=SI(p,{relative:a}),[I,z,q]=sN(i,b),te=mN(p,{replace:c,state:f,target:h,preventScrollReset:y,relative:a,viewTransition:E});function O(M){e&&e(M),M.defaultPrevented||te(M)}let N=w.createElement("a",{...b,...q,href:C||L,onClick:P||l?e:O,ref:uN(T,z),target:h,"data-discover":!D&&n==="render"?"true":void 0});return I&&!D?w.createElement(w.Fragment,null,N,w.createElement(aN,{page:L})):N});at.displayName="Link";var fN=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:h,...p},y){let E=Ac(c,{relative:p.relative}),b=Ms(),T=w.useContext(Nh),{navigator:A,basename:D}=w.useContext(yr),C=T!=null&&_N(E)&&f===!0,P=A.encodeLocation?A.encodeLocation(E).pathname:E.pathname,L=b.pathname,I=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(L=L.toLowerCase(),I=I?I.toLowerCase():null,P=P.toLowerCase()),I&&D&&(I=Ci(I,D)||I);const z=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let q=L===P||!a&&L.startsWith(P)&&L.charAt(z)==="/",te=I!=null&&(I===P||!a&&I.startsWith(P)&&I.charAt(P.length)==="/"),O={isActive:q,isPending:te,isTransitioning:C},N=q?e:void 0,M;typeof i=="function"?M=i(O):M=[i,q?"active":null,te?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(O):l;return w.createElement(at,{...p,"aria-current":N,className:M,ref:y,style:V,to:c,viewTransition:f},typeof h=="function"?h(O):h)});fN.displayName="NavLink";var dN=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Id,action:f,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:E,...b},T)=>{let A=yN(),D=vN(f,{relative:p}),C=c.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&nx.test(f),L=I=>{if(h&&h(I),I.defaultPrevented)return;I.preventDefault();let z=I.nativeEvent.submitter,q=(z==null?void 0:z.getAttribute("formmethod"))||c;A(z||I.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:E})};return w.createElement("form",{ref:T,method:C,action:D,onSubmit:i?h:L,...b,"data-discover":!P&&t==="render"?"true":void 0})});dN.displayName="Form";function hN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rx(t){let e=w.useContext(El);return ct(e,hN(t)),e}function mN(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=p0(),h=Ms(),p=Ac(t,{relative:l});return w.useCallback(y=>{if(GI(y,e)){y.preventDefault();let E=n!==void 0?n:uc(h)===uc(p);f(t,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[h,f,p,n,i,e,t,a,l,c])}var pN=0,gN=()=>`__${String(++pN)}__`;function yN(){let{router:t}=rx("useSubmit"),{basename:e}=w.useContext(yr),n=LI();return w.useCallback(async(i,a={})=>{let{action:l,method:c,encType:f,formData:h,body:p}=YI(i,e);if(a.navigate===!1){let y=a.fetcherKey||gN();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function vN(t,{relative:e}={}){let{basename:n}=w.useContext(yr),i=w.useContext(vr);ct(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Ac(t||".",{relative:e})},c=Ms();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(E=>E).forEach(E=>f.append("index",E));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:xi([n,l.pathname])),uc(l)}function _N(t,e={}){let n=w.useContext(GT);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rx("useViewTransitionState"),a=Ac(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Ci(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ci(n.nextLocation.pathname,i)||n.nextLocation.pathname;return qd(a.pathname,c)!=null||qd(a.pathname,l)!=null}new TextEncoder;var jr=$T();const jt=w.createContext();var ix={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pE=de.createContext&&de.createContext(ix),bN=["attr","size","title"];function EN(t,e){if(t==null)return{};var n=wN(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function wN(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gd.apply(this,arguments)}function gE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(n),!0).forEach(function(i){TN(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function TN(t,e,n){return e=xN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xN(t){var e=SN(t,"string");return typeof e=="symbol"?e:e+""}function SN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sx(t){return t&&t.map((e,n)=>de.createElement(e.tag,Kd({key:n},e.attr),sx(e.child)))}function _r(t){return e=>de.createElement(AN,Gd({attr:Kd({},t.attr)},e),sx(t.child))}function AN(t){var e=n=>{var{attr:i,size:a,title:l}=t,c=EN(t,bN),f=a||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),de.createElement("svg",Gd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:h,style:Kd(Kd({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&de.createElement("title",null,l),t.children)};return pE!==void 0?de.createElement(pE.Consumer,null,n=>e(n)):e(ix)}function RN(t){return _r({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}function CN(t){return _r({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.473 11a4.5 4.5 0 0 0-8.72-.99A3 3 0 0 0 3 16h8.5a2.5 2.5 0 0 0 0-5z"},child:[]},{tag:"path",attr:{d:"M10.5 1.5a.5.5 0 0 0-1 0v1a.5.5 0 0 0 1 0zm3.743 1.964a.5.5 0 1 0-.707-.707l-.708.707a.5.5 0 0 0 .708.708zm-7.779-.707a.5.5 0 0 0-.707.707l.707.708a.5.5 0 1 0 .708-.708zm1.734 3.374a2 2 0 1 1 3.296 2.198q.3.423.516.898a3 3 0 1 0-4.84-3.225q.529.017 1.028.129m4.484 4.074c.6.215 1.125.59 1.522 1.072a.5.5 0 0 0 .039-.742l-.707-.707a.5.5 0 0 0-.854.377M14.5 6.5a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"},child:[]}]})(t)}const ax=typeof document<"u"?de.useLayoutEffect:()=>{};function IN(t){const e=w.useRef(null);return ax(()=>{e.current=t},[t]),w.useCallback((...n)=>{const i=e.current;return i==null?void 0:i(...n)},[])}const Ls=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Da=t=>t&&"window"in t&&t.window===t?t:Ls(t).defaultView||window;function NN(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function DN(t){return NN(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let kN=!1;function b0(){return kN}function ox(t,e){if(!b0())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:DN(n)?n=n.host:n=n.parentNode}return!1}const my=(t=document)=>{var e;if(!b0())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function lx(t){return b0()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function ux(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=ux(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function dr(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=ux(t))&&(i&&(i+=" "),i+=e);return i}function ON(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function PN(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function cx(t){let e=null;return()=>(e==null&&(e=t()),e)}const MN=cx(function(){return PN(/^Mac/i)}),LN=cx(function(){return ON(/Android/i)});function fx(){let t=w.useRef(new Map),e=w.useCallback((a,l,c,f)=>{let h=f!=null&&f.once?(...p)=>{t.current.delete(c),c(...p)}:c;t.current.set(c,{type:l,eventTarget:a,fn:h,options:f}),a.addEventListener(l,h,f)},[]),n=w.useCallback((a,l,c,f)=>{var h;let p=((h=t.current.get(c))===null||h===void 0?void 0:h.fn)||c;a.removeEventListener(l,p,f),t.current.delete(c)},[]),i=w.useCallback(()=>{t.current.forEach((a,l)=>{n(a.eventTarget,a.type,l,a.options)})},[n]);return w.useEffect(()=>i,[i]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:i}}function jN(t){return t.mozInputSource===0&&t.isTrusted?!0:LN()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function dx(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function VN(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function hx(t){let e=w.useRef({isFocused:!1,observer:null});ax(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let n=IN(i=>{t==null||t(i)});return w.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let a=i.target,l=c=>{if(e.current.isFocused=!1,a.disabled){let f=dx(c);n(f)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};a.addEventListener("focusout",l,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&a.disabled){var c;(c=e.current.observer)===null||c===void 0||c.disconnect();let f=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:f})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:f}))}}),e.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let UN=!1,Rc=null,py=new Set,nc=new Map,Ma=!1,gy=!1;const zN={Tab:!0,Escape:!0};function E0(t,e){for(let n of py)n(t,e)}function $N(t){return!(t.metaKey||!MN()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Qd(t){Ma=!0,$N(t)&&(Rc="keyboard",E0("keyboard",t))}function el(t){Rc="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Ma=!0,E0("pointer",t))}function mx(t){jN(t)&&(Ma=!0,Rc="virtual")}function px(t){t.target===window||t.target===document||UN||!t.isTrusted||(!Ma&&!gy&&(Rc="virtual",E0("virtual",t)),Ma=!1,gy=!1)}function gx(){Ma=!1,gy=!0}function yy(t){if(typeof window>"u"||nc.get(Da(t)))return;const e=Da(t),n=Ls(t);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Ma=!0,i.apply(this,arguments)},n.addEventListener("keydown",Qd,!0),n.addEventListener("keyup",Qd,!0),n.addEventListener("click",mx,!0),e.addEventListener("focus",px,!0),e.addEventListener("blur",gx,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",el,!0),n.addEventListener("pointermove",el,!0),n.addEventListener("pointerup",el,!0)),e.addEventListener("beforeunload",()=>{yx(t)},{once:!0}),nc.set(e,{focus:i})}const yx=(t,e)=>{const n=Da(t),i=Ls(t);e&&i.removeEventListener("DOMContentLoaded",e),nc.has(n)&&(n.HTMLElement.prototype.focus=nc.get(n).focus,i.removeEventListener("keydown",Qd,!0),i.removeEventListener("keyup",Qd,!0),i.removeEventListener("click",mx,!0),n.removeEventListener("focus",px,!0),n.removeEventListener("blur",gx,!1),typeof PointerEvent<"u"&&(i.removeEventListener("pointerdown",el,!0),i.removeEventListener("pointermove",el,!0),i.removeEventListener("pointerup",el,!0)),nc.delete(n))};function FN(t){const e=Ls(t);let n;return e.readyState!=="loading"?yy(t):(n=()=>{yy(t)},e.addEventListener("DOMContentLoaded",n)),()=>yx(t,n)}typeof document<"u"&&FN();function vx(){return Rc!=="pointer"}const BN=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function HN(t,e,n){let i=Ls(n==null?void 0:n.target);const a=typeof window<"u"?Da(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?Da(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?Da(n==null?void 0:n.target).HTMLElement:HTMLElement,f=typeof window<"u"?Da(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||i.activeElement instanceof a&&!BN.has(i.activeElement.type)||i.activeElement instanceof l||i.activeElement instanceof c&&i.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof f&&!zN[n.key])}function qN(t,e,n){yy(),w.useEffect(()=>{let i=(a,l)=>{HN(!!(n!=null&&n.isTextInput),a,l)&&t(vx())};return py.add(i),()=>{py.delete(i)}},e)}function GN(t){let{isDisabled:e,onFocus:n,onBlur:i,onFocusChange:a}=t;const l=w.useCallback(h=>{if(h.target===h.currentTarget)return i&&i(h),a&&a(!1),!0},[i,a]),c=hx(l),f=w.useCallback(h=>{const p=Ls(h.target),y=p?my(p):my();h.target===h.currentTarget&&y===lx(h.nativeEvent)&&(n&&n(h),a&&a(!0),c(h))},[a,n,c]);return{focusProps:{onFocus:!e&&(n||a||i)?f:void 0,onBlur:!e&&(i||a)?l:void 0}}}function KN(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:i,onFocusWithinChange:a}=t,l=w.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:f}=fx(),h=w.useCallback(E=>{E.currentTarget.contains(E.target)&&l.current.isFocusWithin&&!E.currentTarget.contains(E.relatedTarget)&&(l.current.isFocusWithin=!1,f(),n&&n(E),a&&a(!1))},[n,a,l,f]),p=hx(h),y=w.useCallback(E=>{if(!E.currentTarget.contains(E.target))return;const b=Ls(E.target),T=my(b);if(!l.current.isFocusWithin&&T===lx(E.nativeEvent)){i&&i(E),a&&a(!0),l.current.isFocusWithin=!0,p(E);let A=E.currentTarget;c(b,"focus",D=>{if(l.current.isFocusWithin&&!ox(A,D.target)){let C=new b.defaultView.FocusEvent("blur",{relatedTarget:D.target});VN(C,A);let P=dx(C);h(P)}},{capture:!0})}},[i,a,p,c,h]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:y,onBlur:h}}}let vy=!1,Dg=0;function QN(){vy=!0,setTimeout(()=>{vy=!1},50)}function yE(t){t.pointerType==="touch"&&QN()}function YN(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",yE),Dg++,()=>{Dg--,!(Dg>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",yE)}}function WN(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:i,isDisabled:a}=t,[l,c]=w.useState(!1),f=w.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;w.useEffect(YN,[]);let{addGlobalListener:h,removeAllGlobalListeners:p}=fx(),{hoverProps:y,triggerHoverEnd:E}=w.useMemo(()=>{let b=(D,C)=>{if(f.pointerType=C,a||C==="touch"||f.isHovered||!D.currentTarget.contains(D.target))return;f.isHovered=!0;let P=D.currentTarget;f.target=P,h(Ls(D.target),"pointerover",L=>{f.isHovered&&f.target&&!ox(f.target,L.target)&&T(L,L.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:P,pointerType:C}),n&&n(!0),c(!0)},T=(D,C)=>{let P=f.target;f.pointerType="",f.target=null,!(C==="touch"||!f.isHovered||!P)&&(f.isHovered=!1,p(),i&&i({type:"hoverend",target:P,pointerType:C}),n&&n(!1),c(!1))},A={};return typeof PointerEvent<"u"&&(A.onPointerEnter=D=>{vy&&D.pointerType==="mouse"||b(D,D.pointerType)},A.onPointerLeave=D=>{!a&&D.currentTarget.contains(D.target)&&T(D,D.pointerType)}),{hoverProps:A,triggerHoverEnd:T}},[e,n,i,a,f,h,p]);return w.useEffect(()=>{a&&E({currentTarget:f.target},f.pointerType)},[a]),{hoverProps:y,isHovered:l}}function XN(t={}){let{autoFocus:e=!1,isTextInput:n,within:i}=t,a=w.useRef({isFocused:!1,isFocusVisible:e||vx()}),[l,c]=w.useState(!1),[f,h]=w.useState(()=>a.current.isFocused&&a.current.isFocusVisible),p=w.useCallback(()=>h(a.current.isFocused&&a.current.isFocusVisible),[]),y=w.useCallback(T=>{a.current.isFocused=T,c(T),p()},[p]);qN(T=>{a.current.isFocusVisible=T,p()},[],{isTextInput:n});let{focusProps:E}=GN({isDisabled:i,onFocusChange:y}),{focusWithinProps:b}=KN({isDisabled:!i,onFocusWithinChange:y});return{isFocused:l,isFocusVisible:f,focusProps:i?b:E}}var ZN=Object.defineProperty,JN=(t,e,n)=>e in t?ZN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kg=(t,e,n)=>(JN(t,typeof e!="symbol"?e+"":e,n),n);let e4=class{constructor(){kg(this,"current",this.detect()),kg(this,"handoffState","pending"),kg(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Pa=new e4;function Qa(t){var e,n;return Pa.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function kh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Kr(){let t=[],e={addEventListener(n,i,a,l){return n.addEventListener(i,a,l),e.add(()=>n.removeEventListener(i,a,l))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let i=setTimeout(...n);return e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return kh(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,a){let l=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:a}),this.add(()=>{Object.assign(n.style,{[i]:l})})},group(n){let i=Kr();return n(i),this.add(()=>i.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let a of t.splice(i,1))a()}},dispose(){for(let n of t.splice(0))n()}};return e}function Tl(){let[t]=w.useState(Kr);return w.useEffect(()=>()=>t.dispose(),[t]),t}let it=(t,e)=>{Pa.isServer?w.useEffect(t,e):w.useLayoutEffect(t,e)};function Ya(t){let e=w.useRef(t);return it(()=>{e.current=t},[t]),e}let De=function(t){let e=Ya(t);return de.useCallback((...n)=>e.current(...n),[e])};function t4(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function n4(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function r4({disabled:t=!1}={}){let e=w.useRef(null),[n,i]=w.useState(!1),a=Tl(),l=De(()=>{e.current=null,i(!1),a.dispose()}),c=De(f=>{if(a.dispose(),e.current===null){e.current=f.currentTarget,i(!0);{let h=Qa(f.currentTarget);a.addEventListener(h,"pointerup",l,!1),a.addEventListener(h,"pointermove",p=>{if(e.current){let y=t4(p);i(n4(y,e.current.getBoundingClientRect()))}},!1),a.addEventListener(h,"pointercancel",l,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:c,onPointerUp:l,onClick:l}}}let i4=w.createContext(void 0);function _x(){return w.useContext(i4)}function _y(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Hr(t,e,...n){if(t in e){let a=e[t];return typeof a=="function"?a(...n):a}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Hr),i}var ll=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(ll||{}),vs=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(vs||{});function It(){let t=a4();return w.useCallback(e=>s4({mergeRefs:t,...e}),[t])}function s4({ourProps:t,theirProps:e,slot:n,defaultTag:i,features:a,visible:l=!0,name:c,mergeRefs:f}){f=f??o4;let h=bx(e,t);if(l)return _d(h,n,i,c,f);let p=a??0;if(p&2){let{static:y=!1,...E}=h;if(y)return _d(E,n,i,c,f)}if(p&1){let{unmount:y=!0,...E}=h;return Hr(y?0:1,{0(){return null},1(){return _d({...E,hidden:!0,style:{display:"none"}},n,i,c,f)}})}return _d(h,n,i,c,f)}function _d(t,e={},n,i,a){let{as:l=n,children:c,refName:f="ref",...h}=Og(t,["unmount","static"]),p=t.ref!==void 0?{[f]:t.ref}:{},y=typeof c=="function"?c(e):c;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(e)),h["aria-labelledby"]&&h["aria-labelledby"]===h.id&&(h["aria-labelledby"]=void 0);let E={};if(e){let b=!1,T=[];for(let[A,D]of Object.entries(e))typeof D=="boolean"&&(b=!0),D===!0&&T.push(A.replace(/([A-Z])/g,C=>`-${C.toLowerCase()}`));if(b){E["data-headlessui-state"]=T.join(" ");for(let A of T)E[`data-${A}`]=""}}if(l===w.Fragment&&(Object.keys(Ra(h)).length>0||Object.keys(Ra(E)).length>0))if(!w.isValidElement(y)||Array.isArray(y)&&y.length>1){if(Object.keys(Ra(h)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ra(h)).concat(Object.keys(Ra(E))).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`))}else{let b=y.props,T=b==null?void 0:b.className,A=typeof T=="function"?(...P)=>_y(T(...P),h.className):_y(T,h.className),D=A?{className:A}:{},C=bx(y.props,Ra(Og(h,["ref"])));for(let P in E)P in C&&delete E[P];return w.cloneElement(y,Object.assign({},C,E,p,{ref:a(l4(y),p.ref)},D))}return w.createElement(l,Object.assign({},Og(h,["ref"]),l!==w.Fragment&&p,l!==w.Fragment&&E),y)}function a4(){let t=w.useRef([]),e=w.useCallback(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)},[]);return(...n)=>{if(!n.every(i=>i==null))return t.current=n,e}}function o4(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function bx(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(i[a])):e[a]=i[a];if(e.disabled||e["aria-disabled"])for(let i in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(n[i]=[a=>{var l;return(l=a==null?void 0:a.preventDefault)==null?void 0:l.call(a)}]);for(let i in n)Object.assign(e,{[i](a,...l){let c=n[i];for(let f of c){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;f(a,...l)}}});return e}function Ex(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(i[a])):e[a]=i[a];for(let i in n)Object.assign(e,{[i](...a){let l=n[i];for(let c of l)c==null||c(...a)}});return e}function yt(t){var e;return Object.assign(w.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Ra(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Og(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function l4(t){return de.version.split(".")[0]>="19"?t.props.ref:t.ref}let u4="span";var Yd=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Yd||{});function c4(t,e){var n;let{features:i=1,...a}=t,l={ref:e,"aria-hidden":(i&2)===2?!0:(n=a["aria-hidden"])!=null?n:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return It()({ourProps:l,theirProps:a,slot:{},defaultTag:u4,name:"Hidden"})}let by=yt(c4),f4=w.createContext(void 0);function d4(){return w.useContext(f4)}function h4(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let i=(e==null?void 0:e.getAttribute("disabled"))==="";return i&&m4(n)?!1:i}function m4(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let wx=Symbol();function p4(t,e=!0){return Object.assign(t,{[wx]:e})}function bn(...t){let e=w.useRef(t);w.useEffect(()=>{e.current=t},[t]);let n=De(i=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(i):a.current=i)});return t.every(i=>i==null||(i==null?void 0:i[wx]))?void 0:n}let w0=w.createContext(null);w0.displayName="DescriptionContext";function Tx(){let t=w.useContext(w0);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Tx),e}return t}function xx(){let[t,e]=w.useState([]);return[t.length>0?t.join(" "):void 0,w.useMemo(()=>function(n){let i=De(l=>(e(c=>[...c,l]),()=>e(c=>{let f=c.slice(),h=f.indexOf(l);return h!==-1&&f.splice(h,1),f}))),a=w.useMemo(()=>({register:i,slot:n.slot,name:n.name,props:n.props,value:n.value}),[i,n.slot,n.name,n.props,n.value]);return de.createElement(w0.Provider,{value:a},n.children)},[e])]}let g4="p";function y4(t,e){let n=w.useId(),i=_x(),{id:a=`headlessui-description-${n}`,...l}=t,c=Tx(),f=bn(e);it(()=>c.register(a),[a,c.register]);let h=i||!1,p=w.useMemo(()=>({...c.slot,disabled:h}),[c.slot,h]),y={ref:f,...c.props,id:a};return It()({ourProps:y,theirProps:l,slot:p,defaultTag:g4,name:c.name||"Description"})}let v4=yt(y4),_4=Object.assign(v4,{});var Bt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Bt||{});let Oh=w.createContext(null);Oh.displayName="LabelContext";function T0(){let t=w.useContext(Oh);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,T0),e}return t}function b4(t){var e,n,i;let a=(n=(e=w.useContext(Oh))==null?void 0:e.value)!=null?n:void 0;return((i=void 0)!=null?i:0)>0?[a,...t].filter(Boolean).join(" "):a}function Sx({inherit:t=!1}={}){let e=b4(),[n,i]=w.useState([]),a=t?[e,...n].filter(Boolean):n;return[a.length>0?a.join(" "):void 0,w.useMemo(()=>function(l){let c=De(h=>(i(p=>[...p,h]),()=>i(p=>{let y=p.slice(),E=y.indexOf(h);return E!==-1&&y.splice(E,1),y}))),f=w.useMemo(()=>({register:c,slot:l.slot,name:l.name,props:l.props,value:l.value}),[c,l.slot,l.name,l.props,l.value]);return de.createElement(Oh.Provider,{value:f},l.children)},[i])]}let E4="label";function w4(t,e){var n;let i=w.useId(),a=T0(),l=d4(),c=_x(),{id:f=`headlessui-label-${i}`,htmlFor:h=l??((n=a.props)==null?void 0:n.htmlFor),passive:p=!1,...y}=t,E=bn(e);it(()=>a.register(f),[f,a.register]);let b=De(C=>{let P=C.currentTarget;if(P instanceof HTMLLabelElement&&C.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(C),P instanceof HTMLLabelElement){let L=document.getElementById(P.htmlFor);if(L){let I=L.getAttribute("disabled");if(I==="true"||I==="")return;let z=L.getAttribute("aria-disabled");if(z==="true"||z==="")return;(L instanceof HTMLInputElement&&(L.type==="radio"||L.type==="checkbox")||L.role==="radio"||L.role==="checkbox"||L.role==="switch")&&L.click(),L.focus({preventScroll:!0})}}}),T=c||!1,A=w.useMemo(()=>({...a.slot,disabled:T}),[a.slot,T]),D={ref:E,...a.props,id:f,htmlFor:h,onClick:b};return p&&("onClick"in D&&(delete D.htmlFor,delete D.onClick),"onClick"in y&&delete y.onClick),It()({ourProps:D,theirProps:y,slot:A,defaultTag:h?E4:"div",name:a.name||"Label"})}let T4=yt(w4);Object.assign(T4,{});let x4=w.createContext(()=>{});function S4({value:t,children:e}){return de.createElement(x4.Provider,{value:t},e)}function A4(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function R4(t,e=!1){let[n,i]=w.useReducer(()=>({}),{}),a=w.useMemo(()=>A4(t),[t,n]);return it(()=>{if(!t)return;let l=new ResizeObserver(i);return l.observe(t),()=>{l.disconnect()}},[t]),e?{width:`${a.width}px`,height:`${a.height}px`}:a}let C4=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function Ax(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(a){return i.add(a),()=>i.delete(a)},dispatch(a,...l){let c=e[a].call(n,...l);c&&(n=c,i.forEach(f=>f()))}}}function Rx(t){return w.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let I4=new C4(()=>Ax(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function xl(t,e){let n=I4.get(e),i=w.useId(),a=Rx(n);if(it(()=>{if(t)return n.dispatch("ADD",i),()=>n.dispatch("REMOVE",i)},[n,t]),!t)return!1;let l=a.indexOf(i),c=a.length;return l===-1&&(l=c,c+=1),l===c-1}let Ey=new Map,rc=new Map;function vE(t){var e;let n=(e=rc.get(t))!=null?e:0;return rc.set(t,n+1),n!==0?()=>_E(t):(Ey.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>_E(t))}function _E(t){var e;let n=(e=rc.get(t))!=null?e:1;if(n===1?rc.delete(t):rc.set(t,n-1),n!==1)return;let i=Ey.get(t);i&&(i["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",i["aria-hidden"]),t.inert=i.inert,Ey.delete(t))}function Cx(t,{allowed:e,disallowed:n}={}){let i=xl(t,"inert-others");it(()=>{var a,l;if(!i)return;let c=Kr();for(let h of(a=n==null?void 0:n())!=null?a:[])h&&c.add(vE(h));let f=(l=e==null?void 0:e())!=null?l:[];for(let h of f){if(!h)continue;let p=Qa(h);if(!p)continue;let y=h.parentElement;for(;y&&y!==p.body;){for(let E of y.children)f.some(b=>E.contains(b))||c.add(vE(E));y=y.parentElement}}return c.dispose},[i,e,n])}function Ix(t,e,n){let i=Ya(a=>{let l=a.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&n()});w.useEffect(()=>{if(!t)return;let a=e===null?null:e instanceof HTMLElement?e:e.current;if(!a)return;let l=Kr();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>i.current(a));c.observe(a),l.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>i.current(a));c.observe(a),l.add(()=>c.disconnect())}return()=>l.dispose()},[e,i,t])}let Wd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),N4=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ur=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(ur||{}),wy=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(wy||{}),D4=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(D4||{});function Nx(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Wd)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function k4(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(N4)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var x0=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(x0||{});function S0(t,e=0){var n;return t===((n=Qa(t))==null?void 0:n.body)?!1:Hr(e,{0(){return t.matches(Wd)},1(){let i=t;for(;i!==null;){if(i.matches(Wd))return!0;i=i.parentElement}return!1}})}function Dx(t){let e=Qa(t);Kr().nextFrame(()=>{e&&!S0(e.activeElement,0)&&Vr(t)})}var O4=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(O4||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Vr(t){t==null||t.focus({preventScroll:!0})}let P4=["textarea","input"].join(",");function M4(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,P4))!=null?n:!1}function kx(t,e=n=>n){return t.slice().sort((n,i)=>{let a=e(n),l=e(i);if(a===null||l===null)return 0;let c=a.compareDocumentPosition(l);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function L4(t,e){return tl(Nx(),e,{relativeTo:t})}function tl(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:a=[]}={}){let l=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,c=Array.isArray(t)?n?kx(t):t:e&64?k4(t):Nx(t);a.length>0&&c.length>1&&(c=c.filter(T=>!a.some(A=>A!=null&&"current"in A?(A==null?void 0:A.current)===T:A===T))),i=i??l.activeElement;let f=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=e&32?{preventScroll:!0}:{},y=0,E=c.length,b;do{if(y>=E||y+E<=0)return 0;let T=h+y;if(e&16)T=(T+E)%E;else{if(T<0)return 3;if(T>=E)return 1}b=c[T],b==null||b.focus(p),y+=f}while(b!==l.activeElement);return e&6&&M4(b)&&b.select(),2}function Ox(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function j4(){return/Android/gi.test(window.navigator.userAgent)}function V4(){return Ox()||j4()}function Ku(t,e,n,i){let a=Ya(n);w.useEffect(()=>{if(!t)return;function l(c){a.current(c)}return document.addEventListener(e,l,i),()=>document.removeEventListener(e,l,i)},[t,e,i])}function Px(t,e,n,i){let a=Ya(n);w.useEffect(()=>{if(!t)return;function l(c){a.current(c)}return window.addEventListener(e,l,i),()=>window.removeEventListener(e,l,i)},[t,e,i])}const bE=30;function Mx(t,e,n){let i=xl(t,"outside-click"),a=Ya(n),l=w.useCallback(function(h,p){if(h.defaultPrevented)return;let y=p(h);if(y===null||!y.getRootNode().contains(y)||!y.isConnected)return;let E=function b(T){return typeof T=="function"?b(T()):Array.isArray(T)||T instanceof Set?T:[T]}(e);for(let b of E)if(b!==null&&(b.contains(y)||h.composed&&h.composedPath().includes(b)))return;return!S0(y,x0.Loose)&&y.tabIndex!==-1&&h.preventDefault(),a.current(h,y)},[a,e]),c=w.useRef(null);Ku(i,"pointerdown",h=>{var p,y;c.current=((y=(p=h.composedPath)==null?void 0:p.call(h))==null?void 0:y[0])||h.target},!0),Ku(i,"mousedown",h=>{var p,y;c.current=((y=(p=h.composedPath)==null?void 0:p.call(h))==null?void 0:y[0])||h.target},!0),Ku(i,"click",h=>{V4()||c.current&&(l(h,()=>c.current),c.current=null)},!0);let f=w.useRef({x:0,y:0});Ku(i,"touchstart",h=>{f.current.x=h.touches[0].clientX,f.current.y=h.touches[0].clientY},!0),Ku(i,"touchend",h=>{let p={x:h.changedTouches[0].clientX,y:h.changedTouches[0].clientY};if(!(Math.abs(p.x-f.current.x)>=bE||Math.abs(p.y-f.current.y)>=bE))return l(h,()=>h.target instanceof HTMLElement?h.target:null)},!0),Px(i,"blur",h=>l(h,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ul(...t){return w.useMemo(()=>Qa(...t),[...t])}function Lx(t,e,n,i){let a=Ya(n);w.useEffect(()=>{t=t??window;function l(c){a.current(c)}return t.addEventListener(e,l,i),()=>t.removeEventListener(e,l,i)},[t,e,i])}function U4(t,e){return w.useMemo(()=>{var n;if(t.type)return t.type;let i=(n=t.as)!=null?n:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function z4(){let t;return{before({doc:e}){var n;let i=e.documentElement,a=(n=e.defaultView)!=null?n:window;t=Math.max(0,a.innerWidth-i.clientWidth)},after({doc:e,d:n}){let i=e.documentElement,a=Math.max(0,i.clientWidth-i.offsetWidth),l=Math.max(0,t-a);n.style(i,"paddingRight",`${l}px`)}}}function $4(){return Ox()?{before({doc:t,d:e,meta:n}){function i(a){return n.containers.flatMap(l=>l()).some(l=>l.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let f=Kr();f.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>f.dispose()))}let l=(a=window.scrollY)!=null?a:window.pageYOffset,c=null;e.addEventListener(t,"click",f=>{if(f.target instanceof HTMLElement)try{let h=f.target.closest("a");if(!h)return;let{hash:p}=new URL(h.href),y=t.querySelector(p);y&&!i(y)&&(c=y)}catch{}},!0),e.addEventListener(t,"touchstart",f=>{if(f.target instanceof HTMLElement)if(i(f.target)){let h=f.target;for(;h.parentElement&&i(h.parentElement);)h=h.parentElement;e.style(h,"overscrollBehavior","contain")}else e.style(f.target,"touchAction","none")}),e.addEventListener(t,"touchmove",f=>{if(f.target instanceof HTMLElement){if(f.target.tagName==="INPUT")return;if(i(f.target)){let h=f.target;for(;h.parentElement&&h.dataset.headlessuiPortal!==""&&!(h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth);)h=h.parentElement;h.dataset.headlessuiPortal===""&&f.preventDefault()}else f.preventDefault()}},{passive:!1}),e.add(()=>{var f;let h=(f=window.scrollY)!=null?f:window.pageYOffset;l!==h&&window.scrollTo(0,l),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function F4(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function B4(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let ka=Ax(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:Kr(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:B4(n)},a=[$4(),z4(),F4()];a.forEach(({before:l})=>l==null?void 0:l(i)),a.forEach(({after:l})=>l==null?void 0:l(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ka.subscribe(()=>{let t=ka.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",a=n.count!==0;(a&&!i||!a&&i)&&ka.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ka.dispatch("TEARDOWN",n)}});function H4(t,e,n=()=>({containers:[]})){let i=Rx(ka),a=e?i.get(e):void 0,l=a?a.count>0:!1;return it(()=>{if(!(!e||!t))return ka.dispatch("PUSH",e,n),()=>ka.dispatch("POP",e,n)},[t,e]),l}function jx(t,e,n=()=>[document.body]){let i=xl(t,"scroll-lock");H4(i,e,a=>{var l;return{containers:[...(l=a.containers)!=null?l:[],n]}})}function EE(t){return[t.screenX,t.screenY]}function q4(){let t=w.useRef([-1,-1]);return{wasMoved(e){let n=EE(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=EE(e)}}}function G4(t=0){let[e,n]=w.useState(t),i=w.useCallback(h=>n(h),[e]),a=w.useCallback(h=>n(p=>p|h),[e]),l=w.useCallback(h=>(e&h)===h,[e]),c=w.useCallback(h=>n(p=>p&~h),[n]),f=w.useCallback(h=>n(p=>p^h),[n]);return{flags:e,setFlag:i,addFlag:a,hasFlag:l,removeFlag:c,toggleFlag:f}}var K4={},wE,TE;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((wE=process==null?void 0:K4)==null?void 0:wE.NODE_ENV)==="test"&&typeof((TE=Element==null?void 0:Element.prototype)==null?void 0:TE.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Q4=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Q4||{});function Vx(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Ux(t,e,n,i){let[a,l]=w.useState(n),{hasFlag:c,addFlag:f,removeFlag:h}=G4(t&&a?3:0),p=w.useRef(!1),y=w.useRef(!1),E=Tl();return it(()=>{var b;if(t){if(n&&l(!0),!e){n&&f(3);return}return(b=i==null?void 0:i.start)==null||b.call(i,n),Y4(e,{inFlight:p,prepare(){y.current?y.current=!1:y.current=p.current,p.current=!0,!y.current&&(n?(f(3),h(4)):(f(4),h(2)))},run(){y.current?n?(h(3),f(4)):(h(4),f(3)):n?h(1):f(1)},done(){var T;y.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(p.current=!1,h(7),n||l(!1),(T=i==null?void 0:i.end)==null||T.call(i,n))}})}},[t,n,e,E]),t?[a,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Y4(t,{prepare:e,run:n,done:i,inFlight:a}){let l=Kr();return X4(t,{prepare:e,inFlight:a}),l.nextFrame(()=>{n(),l.requestAnimationFrame(()=>{l.add(W4(t,i))})}),l.dispose}function W4(t,e){var n,i;let a=Kr();if(!t)return a.dispose;let l=!1;a.add(()=>{l=!0});let c=(i=(n=t.getAnimations)==null?void 0:n.call(t).filter(f=>f instanceof CSSTransition))!=null?i:[];return c.length===0?(e(),a.dispose):(Promise.allSettled(c.map(f=>f.finished)).then(()=>{l||e()}),a.dispose)}function X4(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let i=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=i}function Z4(t,{container:e,accept:n,walk:i}){let a=w.useRef(n),l=w.useRef(i);w.useEffect(()=>{a.current=n,l.current=i},[n,i]),it(()=>{if(!e||!t)return;let c=Qa(e);if(!c)return;let f=a.current,h=l.current,p=Object.assign(E=>f(E),{acceptNode:f}),y=c.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,p,!1);for(;y.nextNode();)h(y.currentNode)},[e,t,a,l])}function A0(t,e){let n=w.useRef([]),i=De(t);w.useEffect(()=>{let a=[...n.current];for(let[l,c]of e.entries())if(n.current[l]!==c){let f=i(e,a);return n.current=e,f}},[i,...e])}function Ph(){return typeof window<"u"}function Sl(t){return zx(t)?(t.nodeName||"").toLowerCase():"#document"}function Un(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qr(t){var e;return(e=(zx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zx(t){return Ph()?t instanceof Node||t instanceof Un(t).Node:!1}function yn(t){return Ph()?t instanceof Element||t instanceof Un(t).Element:!1}function qr(t){return Ph()?t instanceof HTMLElement||t instanceof Un(t).HTMLElement:!1}function xE(t){return!Ph()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Un(t).ShadowRoot}function Cc(t){const{overflow:e,overflowX:n,overflowY:i,display:a}=mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(a)}function J4(t){return["table","td","th"].includes(Sl(t))}function Mh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function R0(t){const e=C0(),n=yn(t)?mr(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function e6(t){let e=As(t);for(;qr(e)&&!cl(e);){if(R0(e))return e;if(Mh(e))return null;e=As(e)}return null}function C0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cl(t){return["html","body","#document"].includes(Sl(t))}function mr(t){return Un(t).getComputedStyle(t)}function Lh(t){return yn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function As(t){if(Sl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xE(t)&&t.host||Qr(t);return xE(e)?e.host:e}function $x(t){const e=As(t);return cl(e)?t.ownerDocument?t.ownerDocument.body:t.body:qr(e)&&Cc(e)?e:$x(e)}function cc(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=$x(t),l=a===((i=t.ownerDocument)==null?void 0:i.body),c=Un(a);if(l){const f=Ty(c);return e.concat(c,c.visualViewport||[],Cc(a)?a:[],f&&n?cc(f):[])}return e.concat(a,cc(a,[],n))}function Ty(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function t6(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:i}=e;return n+"/"+i}).join(" "):navigator.userAgent}const La=Math.min,ln=Math.max,fc=Math.round,bd=Math.floor,Ur=t=>({x:t,y:t}),n6={left:"right",right:"left",bottom:"top",top:"bottom"},r6={start:"end",end:"start"};function SE(t,e,n){return ln(t,La(e,n))}function Al(t,e){return typeof t=="function"?t(e):t}function Rs(t){return t.split("-")[0]}function Ic(t){return t.split("-")[1]}function Fx(t){return t==="x"?"y":"x"}function Bx(t){return t==="y"?"height":"width"}function ja(t){return["top","bottom"].includes(Rs(t))?"y":"x"}function Hx(t){return Fx(ja(t))}function i6(t,e,n){n===void 0&&(n=!1);const i=Ic(t),a=Hx(t),l=Bx(a);let c=a==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Xd(c)),[c,Xd(c)]}function s6(t){const e=Xd(t);return[xy(t),e,xy(e)]}function xy(t){return t.replace(/start|end/g,e=>r6[e])}function a6(t,e,n){const i=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?a:i:e?i:a;case"left":case"right":return e?l:c;default:return[]}}function o6(t,e,n,i){const a=Ic(t);let l=a6(Rs(t),n==="start",i);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(xy)))),l}function Xd(t){return t.replace(/left|right|bottom|top/g,e=>n6[e])}function l6(t){return{top:0,right:0,bottom:0,left:0,...t}}function u6(t){return typeof t!="number"?l6(t):{top:t,right:t,bottom:t,left:t}}function Zd(t){const{x:e,y:n,width:i,height:a}=t;return{width:i,height:a,top:n,left:e,right:e+i,bottom:n+a,x:e,y:n}}function AE(t,e,n){let{reference:i,floating:a}=t;const l=ja(e),c=Hx(e),f=Bx(c),h=Rs(e),p=l==="y",y=i.x+i.width/2-a.width/2,E=i.y+i.height/2-a.height/2,b=i[f]/2-a[f]/2;let T;switch(h){case"top":T={x:y,y:i.y-a.height};break;case"bottom":T={x:y,y:i.y+i.height};break;case"right":T={x:i.x+i.width,y:E};break;case"left":T={x:i.x-a.width,y:E};break;default:T={x:i.x,y:i.y}}switch(Ic(e)){case"start":T[c]-=b*(n&&p?-1:1);break;case"end":T[c]+=b*(n&&p?-1:1);break}return T}const c6=async(t,e,n)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=n,f=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:t,floating:e,strategy:a}),{x:y,y:E}=AE(p,i,h),b=i,T={},A=0;for(let D=0;D<f.length;D++){const{name:C,fn:P}=f[D],{x:L,y:I,data:z,reset:q}=await P({x:y,y:E,initialPlacement:i,placement:b,strategy:a,middlewareData:T,rects:p,platform:c,elements:{reference:t,floating:e}});y=L??y,E=I??E,T={...T,[C]:{...T[C],...z}},q&&A<=50&&(A++,typeof q=="object"&&(q.placement&&(b=q.placement),q.rects&&(p=q.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:a}):q.rects),{x:y,y:E}=AE(p,b,h)),D=-1)}return{x:y,y:E,placement:b,strategy:a,middlewareData:T}};async function jh(t,e){var n;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:c,elements:f,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:E="floating",altBoundary:b=!1,padding:T=0}=Al(e,t),A=u6(T),C=f[b?E==="floating"?"reference":"floating":E],P=Zd(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(C)))==null||n?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:p,rootBoundary:y,strategy:h})),L=E==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),z=await(l.isElement==null?void 0:l.isElement(I))?await(l.getScale==null?void 0:l.getScale(I))||{x:1,y:1}:{x:1,y:1},q=Zd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:L,offsetParent:I,strategy:h}):L);return{top:(P.top-q.top+A.top)/z.y,bottom:(q.bottom-P.bottom+A.bottom)/z.y,left:(P.left-q.left+A.left)/z.x,right:(q.right-P.right+A.right)/z.x}}const f6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:f,platform:h,elements:p}=e,{mainAxis:y=!0,crossAxis:E=!0,fallbackPlacements:b,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:D=!0,...C}=Al(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const P=Rs(a),L=ja(f),I=Rs(f)===f,z=await(h.isRTL==null?void 0:h.isRTL(p.floating)),q=b||(I||!D?[Xd(f)]:s6(f)),te=A!=="none";!b&&te&&q.push(...o6(f,D,A,z));const O=[f,...q],N=await jh(e,C),M=[];let V=((i=l.flip)==null?void 0:i.overflows)||[];if(y&&M.push(N[P]),E){const he=i6(a,c,z);M.push(N[he[0]],N[he[1]])}if(V=[...V,{placement:a,overflows:M}],!M.every(he=>he<=0)){var U,B;const he=(((U=l.flip)==null?void 0:U.index)||0)+1,ve=O[he];if(ve)return{data:{index:he,overflows:V},reset:{placement:ve}};let K=(B=V.filter(ie=>ie.overflows[0]<=0).sort((ie,ue)=>ie.overflows[1]-ue.overflows[1])[0])==null?void 0:B.placement;if(!K)switch(T){case"bestFit":{var j;const ie=(j=V.filter(ue=>{if(te){const ce=ja(ue.placement);return ce===L||ce==="y"}return!0}).map(ue=>[ue.placement,ue.overflows.filter(ce=>ce>0).reduce((ce,$)=>ce+$,0)]).sort((ue,ce)=>ue[1]-ce[1])[0])==null?void 0:j[0];ie&&(K=ie);break}case"initialPlacement":K=f;break}if(a!==K)return{reset:{placement:K}}}return{}}}};async function d6(t,e){const{placement:n,platform:i,elements:a}=t,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=Rs(n),f=Ic(n),h=ja(n)==="y",p=["left","top"].includes(c)?-1:1,y=l&&h?-1:1,E=Al(e,t);let{mainAxis:b,crossAxis:T,alignmentAxis:A}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return f&&typeof A=="number"&&(T=f==="end"?A*-1:A),h?{x:T*y,y:b*p}:{x:b*p,y:T*y}}const h6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:a,y:l,placement:c,middlewareData:f}=e,h=await d6(e,t);return c===((n=f.offset)==null?void 0:n.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+h.x,y:l+h.y,data:{...h,placement:c}}}}},m6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:C=>{let{x:P,y:L}=C;return{x:P,y:L}}},...h}=Al(t,e),p={x:n,y:i},y=await jh(e,h),E=ja(Rs(a)),b=Fx(E);let T=p[b],A=p[E];if(l){const C=b==="y"?"top":"left",P=b==="y"?"bottom":"right",L=T+y[C],I=T-y[P];T=SE(L,T,I)}if(c){const C=E==="y"?"top":"left",P=E==="y"?"bottom":"right",L=A+y[C],I=A-y[P];A=SE(L,A,I)}const D=f.fn({...e,[b]:T,[E]:A});return{...D,data:{x:D.x-n,y:D.y-i,enabled:{[b]:l,[E]:c}}}}}},p6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:a,rects:l,platform:c,elements:f}=e,{apply:h=()=>{},...p}=Al(t,e),y=await jh(e,p),E=Rs(a),b=Ic(a),T=ja(a)==="y",{width:A,height:D}=l.floating;let C,P;E==="top"||E==="bottom"?(C=E,P=b===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(P=E,C=b==="end"?"top":"bottom");const L=D-y.top-y.bottom,I=A-y.left-y.right,z=La(D-y[C],L),q=La(A-y[P],I),te=!e.middlewareData.shift;let O=z,N=q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=I),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(O=L),te&&!b){const V=ln(y.left,0),U=ln(y.right,0),B=ln(y.top,0),j=ln(y.bottom,0);T?N=A-2*(V!==0||U!==0?V+U:ln(y.left,y.right)):O=D-2*(B!==0||j!==0?B+j:ln(y.top,y.bottom))}await h({...e,availableWidth:N,availableHeight:O});const M=await c.getDimensions(f.floating);return A!==M.width||D!==M.height?{reset:{rects:!0}}:{}}}};function qx(t){const e=mr(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=qr(t),l=a?t.offsetWidth:n,c=a?t.offsetHeight:i,f=fc(n)!==l||fc(i)!==c;return f&&(n=l,i=c),{width:n,height:i,$:f}}function I0(t){return yn(t)?t:t.contextElement}function nl(t){const e=I0(t);if(!qr(e))return Ur(1);const n=e.getBoundingClientRect(),{width:i,height:a,$:l}=qx(e);let c=(l?fc(n.width):n.width)/i,f=(l?fc(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const g6=Ur(0);function Gx(t){const e=Un(t);return!C0()||!e.visualViewport?g6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function y6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Un(t)?!1:e}function Va(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),l=I0(t);let c=Ur(1);e&&(i?yn(i)&&(c=nl(i)):c=nl(t));const f=y6(l,n,i)?Gx(l):Ur(0);let h=(a.left+f.x)/c.x,p=(a.top+f.y)/c.y,y=a.width/c.x,E=a.height/c.y;if(l){const b=Un(l),T=i&&yn(i)?Un(i):i;let A=b,D=Ty(A);for(;D&&i&&T!==A;){const C=nl(D),P=D.getBoundingClientRect(),L=mr(D),I=P.left+(D.clientLeft+parseFloat(L.paddingLeft))*C.x,z=P.top+(D.clientTop+parseFloat(L.paddingTop))*C.y;h*=C.x,p*=C.y,y*=C.x,E*=C.y,h+=I,p+=z,A=Un(D),D=Ty(A)}}return Zd({width:y,height:E,x:h,y:p})}function N0(t,e){const n=Lh(t).scrollLeft;return e?e.left+n:Va(Qr(t)).left+n}function Kx(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=i.left+e.scrollLeft-(n?0:N0(t,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function v6(t){let{elements:e,rect:n,offsetParent:i,strategy:a}=t;const l=a==="fixed",c=Qr(i),f=e?Mh(e.floating):!1;if(i===c||f&&l)return n;let h={scrollLeft:0,scrollTop:0},p=Ur(1);const y=Ur(0),E=qr(i);if((E||!E&&!l)&&((Sl(i)!=="body"||Cc(c))&&(h=Lh(i)),qr(i))){const T=Va(i);p=nl(i),y.x=T.x+i.clientLeft,y.y=T.y+i.clientTop}const b=c&&!E&&!l?Kx(c,h,!0):Ur(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+y.x+b.x,y:n.y*p.y-h.scrollTop*p.y+y.y+b.y}}function _6(t){return Array.from(t.getClientRects())}function b6(t){const e=Qr(t),n=Lh(t),i=t.ownerDocument.body,a=ln(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=ln(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-n.scrollLeft+N0(t);const f=-n.scrollTop;return mr(i).direction==="rtl"&&(c+=ln(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:f}}function E6(t,e){const n=Un(t),i=Qr(t),a=n.visualViewport;let l=i.clientWidth,c=i.clientHeight,f=0,h=0;if(a){l=a.width,c=a.height;const p=C0();(!p||p&&e==="fixed")&&(f=a.offsetLeft,h=a.offsetTop)}return{width:l,height:c,x:f,y:h}}function w6(t,e){const n=Va(t,!0,e==="fixed"),i=n.top+t.clientTop,a=n.left+t.clientLeft,l=qr(t)?nl(t):Ur(1),c=t.clientWidth*l.x,f=t.clientHeight*l.y,h=a*l.x,p=i*l.y;return{width:c,height:f,x:h,y:p}}function RE(t,e,n){let i;if(e==="viewport")i=E6(t,n);else if(e==="document")i=b6(Qr(t));else if(yn(e))i=w6(e,n);else{const a=Gx(t);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Zd(i)}function Qx(t,e){const n=As(t);return n===e||!yn(n)||cl(n)?!1:mr(n).position==="fixed"||Qx(n,e)}function T6(t,e){const n=e.get(t);if(n)return n;let i=cc(t,[],!1).filter(f=>yn(f)&&Sl(f)!=="body"),a=null;const l=mr(t).position==="fixed";let c=l?As(t):t;for(;yn(c)&&!cl(c);){const f=mr(c),h=R0(c);!h&&f.position==="fixed"&&(a=null),(l?!h&&!a:!h&&f.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Cc(c)&&!h&&Qx(t,c))?i=i.filter(y=>y!==c):a=f,c=As(c)}return e.set(t,i),i}function x6(t){let{element:e,boundary:n,rootBoundary:i,strategy:a}=t;const c=[...n==="clippingAncestors"?Mh(e)?[]:T6(e,this._c):[].concat(n),i],f=c[0],h=c.reduce((p,y)=>{const E=RE(e,y,a);return p.top=ln(E.top,p.top),p.right=La(E.right,p.right),p.bottom=La(E.bottom,p.bottom),p.left=ln(E.left,p.left),p},RE(e,f,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function S6(t){const{width:e,height:n}=qx(t);return{width:e,height:n}}function A6(t,e,n){const i=qr(e),a=Qr(e),l=n==="fixed",c=Va(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const h=Ur(0);if(i||!i&&!l)if((Sl(e)!=="body"||Cc(a))&&(f=Lh(e)),i){const b=Va(e,!0,l,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else a&&(h.x=N0(a));const p=a&&!i&&!l?Kx(a,f):Ur(0),y=c.left+f.scrollLeft-h.x-p.x,E=c.top+f.scrollTop-h.y-p.y;return{x:y,y:E,width:c.width,height:c.height}}function Pg(t){return mr(t).position==="static"}function CE(t,e){if(!qr(t)||mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Qr(t)===n&&(n=n.ownerDocument.body),n}function Yx(t,e){const n=Un(t);if(Mh(t))return n;if(!qr(t)){let a=As(t);for(;a&&!cl(a);){if(yn(a)&&!Pg(a))return a;a=As(a)}return n}let i=CE(t,e);for(;i&&J4(i)&&Pg(i);)i=CE(i,e);return i&&cl(i)&&Pg(i)&&!R0(i)?n:i||e6(t)||n}const R6=async function(t){const e=this.getOffsetParent||Yx,n=this.getDimensions,i=await n(t.floating);return{reference:A6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function C6(t){return mr(t).direction==="rtl"}const I6={convertOffsetParentRelativeRectToViewportRelativeRect:v6,getDocumentElement:Qr,getClippingRect:x6,getOffsetParent:Yx,getElementRects:R6,getClientRects:_6,getDimensions:S6,getScale:nl,isElement:yn,isRTL:C6};function Wx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function N6(t,e){let n=null,i;const a=Qr(t);function l(){var f;clearTimeout(i),(f=n)==null||f.disconnect(),n=null}function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),l();const p=t.getBoundingClientRect(),{left:y,top:E,width:b,height:T}=p;if(f||e(),!b||!T)return;const A=bd(E),D=bd(a.clientWidth-(y+b)),C=bd(a.clientHeight-(E+T)),P=bd(y),I={rootMargin:-A+"px "+-D+"px "+-C+"px "+-P+"px",threshold:ln(0,La(1,h))||1};let z=!0;function q(te){const O=te[0].intersectionRatio;if(O!==h){if(!z)return c();O?c(!1,O):i=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!Wx(p,t.getBoundingClientRect())&&c(),z=!1}try{n=new IntersectionObserver(q,{...I,root:a.ownerDocument})}catch{n=new IntersectionObserver(q,I)}n.observe(t)}return c(!0),l}function D6(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,p=I0(t),y=a||l?[...p?cc(p):[],...cc(e)]:[];y.forEach(P=>{a&&P.addEventListener("scroll",n,{passive:!0}),l&&P.addEventListener("resize",n)});const E=p&&f?N6(p,n):null;let b=-1,T=null;c&&(T=new ResizeObserver(P=>{let[L]=P;L&&L.target===p&&T&&(T.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var I;(I=T)==null||I.observe(e)})),n()}),p&&!h&&T.observe(p),T.observe(e));let A,D=h?Va(t):null;h&&C();function C(){const P=Va(t);D&&!Wx(D,P)&&n(),D=P,A=requestAnimationFrame(C)}return n(),()=>{var P;y.forEach(L=>{a&&L.removeEventListener("scroll",n),l&&L.removeEventListener("resize",n)}),E==null||E(),(P=T)==null||P.disconnect(),T=null,h&&cancelAnimationFrame(A)}}const Mg=jh,k6=h6,O6=m6,P6=f6,M6=p6,L6=(t,e,n)=>{const i=new Map,a={platform:I6,...n},l={...a.platform,_c:i};return c6(t,e,{...a,platform:l})};var Dd=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Jd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Jd(t[i],e[i]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=n;i--!==0;){const l=a[i];if(!(l==="_owner"&&t.$$typeof)&&!Jd(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Xx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function IE(t,e){const n=Xx(t);return Math.round(e*n)/n}function Lg(t){const e=w.useRef(t);return Dd(()=>{e.current=t}),e}function j6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:f=!0,whileElementsMounted:h,open:p}=t,[y,E]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,T]=w.useState(i);Jd(b,i)||T(i);const[A,D]=w.useState(null),[C,P]=w.useState(null),L=w.useCallback(ue=>{ue!==te.current&&(te.current=ue,D(ue))},[]),I=w.useCallback(ue=>{ue!==O.current&&(O.current=ue,P(ue))},[]),z=l||A,q=c||C,te=w.useRef(null),O=w.useRef(null),N=w.useRef(y),M=h!=null,V=Lg(h),U=Lg(a),B=Lg(p),j=w.useCallback(()=>{if(!te.current||!O.current)return;const ue={placement:e,strategy:n,middleware:b};U.current&&(ue.platform=U.current),L6(te.current,O.current,ue).then(ce=>{const $={...ce,isPositioned:B.current!==!1};he.current&&!Jd(N.current,$)&&(N.current=$,jr.flushSync(()=>{E($)}))})},[b,e,n,U,B]);Dd(()=>{p===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,E(ue=>({...ue,isPositioned:!1})))},[p]);const he=w.useRef(!1);Dd(()=>(he.current=!0,()=>{he.current=!1}),[]),Dd(()=>{if(z&&(te.current=z),q&&(O.current=q),z&&q){if(V.current)return V.current(z,q,j);j()}},[z,q,j,V,M]);const ve=w.useMemo(()=>({reference:te,floating:O,setReference:L,setFloating:I}),[L,I]),K=w.useMemo(()=>({reference:z,floating:q}),[z,q]),ie=w.useMemo(()=>{const ue={position:n,left:0,top:0};if(!K.floating)return ue;const ce=IE(K.floating,y.x),$=IE(K.floating,y.y);return f?{...ue,transform:"translate("+ce+"px, "+$+"px)",...Xx(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ce,top:$}},[n,f,K.floating,y.x,y.y]);return w.useMemo(()=>({...y,update:j,refs:ve,elements:K,floatingStyles:ie}),[y,j,ve,K,ie])}const Zx=(t,e)=>({...k6(t),options:[t,e]}),V6=(t,e)=>({...O6(t),options:[t,e]}),U6=(t,e)=>({...P6(t),options:[t,e]}),z6=(t,e)=>({...M6(t),options:[t,e]}),Jx={...fy},$6=Jx.useInsertionEffect,F6=$6||(t=>t());function e2(t){const e=w.useRef(()=>{});return F6(()=>{e.current=t}),w.useCallback(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}var Sy=typeof document<"u"?w.useLayoutEffect:w.useEffect;let NE=!1,B6=0;const DE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+B6++;function H6(){const[t,e]=w.useState(()=>NE?DE():void 0);return Sy(()=>{t==null&&e(DE())},[]),w.useEffect(()=>{NE=!0},[]),t}const q6=Jx.useId,G6=q6||H6;function K6(){const t=new Map;return{emit(e,n){var i;(i=t.get(e))==null||i.forEach(a=>a(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var i;t.set(e,((i=t.get(e))==null?void 0:i.filter(a=>a!==n))||[])}}}const Q6=w.createContext(null),Y6=w.createContext(null),W6=()=>{var t;return((t=w.useContext(Q6))==null?void 0:t.id)||null},X6=()=>w.useContext(Y6),Z6="data-floating-ui-focusable";function J6(t){const{open:e=!1,onOpenChange:n,elements:i}=t,a=G6(),l=w.useRef({}),[c]=w.useState(()=>K6()),f=W6()!=null,[h,p]=w.useState(i.reference),y=e2((T,A,D)=>{l.current.openEvent=T?A:void 0,c.emit("openchange",{open:T,event:A,reason:D,nested:f}),n==null||n(T,A,D)}),E=w.useMemo(()=>({setPositionReference:p}),[]),b=w.useMemo(()=>({reference:h||i.reference||null,floating:i.floating||null,domReference:i.reference}),[h,i.reference,i.floating]);return w.useMemo(()=>({dataRef:l,open:e,onOpenChange:y,elements:b,events:c,floatingId:a,refs:E}),[e,y,b,c,a,E])}function eD(t){t===void 0&&(t={});const{nodeId:e}=t,n=J6({...t,elements:{reference:null,floating:null,...t.elements}}),i=t.rootContext||n,a=i.elements,[l,c]=w.useState(null),[f,h]=w.useState(null),y=(a==null?void 0:a.domReference)||l,E=w.useRef(null),b=X6();Sy(()=>{y&&(E.current=y)},[y]);const T=j6({...t,elements:{...a,...f&&{reference:f}}}),A=w.useCallback(I=>{const z=yn(I)?{getBoundingClientRect:()=>I.getBoundingClientRect(),contextElement:I}:I;h(z),T.refs.setReference(z)},[T.refs]),D=w.useCallback(I=>{(yn(I)||I===null)&&(E.current=I,c(I)),(yn(T.refs.reference.current)||T.refs.reference.current===null||I!==null&&!yn(I))&&T.refs.setReference(I)},[T.refs]),C=w.useMemo(()=>({...T.refs,setReference:D,setPositionReference:A,domReference:E}),[T.refs,D,A]),P=w.useMemo(()=>({...T.elements,domReference:y}),[T.elements,y]),L=w.useMemo(()=>({...T,...i,refs:C,elements:P,nodeId:e}),[T,C,P,e,i]);return Sy(()=>{i.dataRef.current.floatingContext=L;const I=b==null?void 0:b.nodesRef.current.find(z=>z.id===e);I&&(I.context=L)}),w.useMemo(()=>({...T,context:L,refs:C,elements:P}),[T,C,P,L])}const kE="active",OE="selected";function jg(t,e,n){const i=new Map,a=n==="item";let l=t;if(a&&t){const{[kE]:c,[OE]:f,...h}=t;l=h}return{...n==="floating"&&{tabIndex:-1,[Z6]:""},...l,...e.map(c=>{const f=c?c[n]:null;return typeof f=="function"?t?f(t):null:f}).concat(t).reduce((c,f)=>(f&&Object.entries(f).forEach(h=>{let[p,y]=h;if(!(a&&[kE,OE].includes(p)))if(p.indexOf("on")===0){if(i.has(p)||i.set(p,[]),typeof y=="function"){var E;(E=i.get(p))==null||E.push(y),c[p]=function(){for(var b,T=arguments.length,A=new Array(T),D=0;D<T;D++)A[D]=arguments[D];return(b=i.get(p))==null?void 0:b.map(C=>C(...A)).find(C=>C!==void 0)}}}else c[p]=y}),c),{})}}function tD(t){t===void 0&&(t=[]);const e=t.map(f=>f==null?void 0:f.reference),n=t.map(f=>f==null?void 0:f.floating),i=t.map(f=>f==null?void 0:f.item),a=w.useCallback(f=>jg(f,t,"reference"),e),l=w.useCallback(f=>jg(f,t,"floating"),n),c=w.useCallback(f=>jg(f,t,"item"),i);return w.useMemo(()=>({getReferenceProps:a,getFloatingProps:l,getItemProps:c}),[a,l,c])}function PE(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const nD=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:i,onFallbackChange:a,offset:l=0,index:c=0,minItemsVisible:f=4,referenceOverflowThreshold:h=0,scrollRef:p,...y}=Al(t,e),{rects:E,elements:{floating:b}}=e,T=n.current[c],A=(p==null?void 0:p.current)||b,D=b.clientTop||A.clientTop,C=b.clientTop!==0,P=A.clientTop!==0,L=b===A;if(!T)return{};const I={...e,...await Zx(-T.offsetTop-b.clientTop-E.reference.height/2-T.offsetHeight/2-l).fn(e)},z=await Mg(PE(I,A.scrollHeight+D+b.clientTop),y),q=await Mg(I,{...y,elementContext:"reference"}),te=ln(0,z.top),O=I.y+te,V=(A.scrollHeight>A.clientHeight?U=>U:fc)(ln(0,A.scrollHeight+(C&&L||P?D*2:0)-te-ln(0,z.bottom)));if(A.style.maxHeight=V+"px",A.scrollTop=te,a){const U=A.offsetHeight<T.offsetHeight*La(f,n.current.length)-1||q.top>=-h||q.bottom>=-h;jr.flushSync(()=>a(U))}return i&&(i.current=await Mg(PE({...I,y:O},A.offsetHeight+D+b.clientTop),y)),{y:O}}});function rD(t,e){const{open:n,elements:i}=t,{enabled:a=!0,overflowRef:l,scrollRef:c,onChange:f}=e,h=e2(f),p=w.useRef(!1),y=w.useRef(null),E=w.useRef(null);w.useEffect(()=>{if(!a)return;function T(D){if(D.ctrlKey||!A||l.current==null)return;const C=D.deltaY,P=l.current.top>=-.5,L=l.current.bottom>=-.5,I=A.scrollHeight-A.clientHeight,z=C<0?-1:1,q=C<0?"max":"min";A.scrollHeight<=A.clientHeight||(!P&&C>0||!L&&C<0?(D.preventDefault(),jr.flushSync(()=>{h(te=>te+Math[q](C,I*z))})):/firefox/i.test(t6())&&(A.scrollTop+=C))}const A=(c==null?void 0:c.current)||i.floating;if(n&&A)return A.addEventListener("wheel",T),requestAnimationFrame(()=>{y.current=A.scrollTop,l.current!=null&&(E.current={...l.current})}),()=>{y.current=null,E.current=null,A.removeEventListener("wheel",T)}},[a,n,i.floating,l,c,h]);const b=w.useMemo(()=>({onKeyDown(){p.current=!0},onWheel(){p.current=!1},onPointerMove(){p.current=!1},onScroll(){const T=(c==null?void 0:c.current)||i.floating;if(!(!l.current||!T||!p.current)){if(y.current!==null){const A=T.scrollTop-y.current;(l.current.bottom<-.5&&A<-1||l.current.top<-.5&&A>1)&&jr.flushSync(()=>h(D=>D+A))}requestAnimationFrame(()=>{y.current=T.scrollTop})}}}),[i.floating,h,l,c]);return w.useMemo(()=>a?{floating:b}:{},[a,b])}let Rl=w.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Rl.displayName="FloatingContext";let D0=w.createContext(null);D0.displayName="PlacementContext";function iD(t){return w.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function sD(){return w.useContext(Rl).setReference}function aD(){return w.useContext(Rl).getReferenceProps}function oD(){let{getFloatingProps:t,slot:e}=w.useContext(Rl);return w.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function lD(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=w.useContext(D0),n=w.useMemo(()=>t,[JSON.stringify(t,(a,l)=>{var c;return(c=l==null?void 0:l.outerHTML)!=null?c:l})]);it(()=>{e==null||e(n??null)},[e,n]);let i=w.useContext(Rl);return w.useMemo(()=>[i.setFloating,t?i.styles:{}],[i.setFloating,t,i.styles])}let ME=4;function uD({children:t,enabled:e=!0}){let[n,i]=w.useState(null),[a,l]=w.useState(0),c=w.useRef(null),[f,h]=w.useState(null);cD(f);let p=e&&n!==null&&f!==null,{to:y="bottom",gap:E=0,offset:b=0,padding:T=0,inner:A}=fD(n,f),[D,C="center"]=y.split(" ");it(()=>{p&&l(0)},[p]);let{refs:P,floatingStyles:L,context:I}=eD({open:p,placement:D==="selection"?C==="center"?"bottom":`bottom-${C}`:C==="center"?`${D}`:`${D}-${C}`,strategy:"absolute",transform:!1,middleware:[Zx({mainAxis:D==="selection"?0:E,crossAxis:b}),V6({padding:T}),D!=="selection"&&U6({padding:T}),D==="selection"&&A?nD({...A,padding:T,overflowRef:c,offset:a,minItemsVisible:ME,referenceOverflowThreshold:T,onFallbackChange(U){var B,j;if(!U)return;let he=I.elements.floating;if(!he)return;let ve=parseFloat(getComputedStyle(he).scrollPaddingBottom)||0,K=Math.min(ME,he.childElementCount),ie=0,ue=0;for(let ce of(j=(B=I.elements.floating)==null?void 0:B.childNodes)!=null?j:[])if(ce instanceof HTMLElement){let $=ce.offsetTop,ee=$+ce.clientHeight+ve,fe=he.scrollTop,oe=fe+he.clientHeight;if($>=fe&&ee<=oe)K--;else{ue=Math.max(0,Math.min(ee,oe)-Math.max($,fe)),ie=ce.clientHeight;break}}K>=1&&l(ce=>{let $=ie*K-ue+ve;return ce>=$?ce:$})}}):null,z6({padding:T,apply({availableWidth:U,availableHeight:B,elements:j}){Object.assign(j.floating.style,{overflow:"auto",maxWidth:`${U}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${B}px)`})}})].filter(Boolean),whileElementsMounted:D6}),[z=D,q=C]=I.placement.split("-");D==="selection"&&(z="selection");let te=w.useMemo(()=>({anchor:[z,q].filter(Boolean).join(" ")}),[z,q]),O=rD(I,{overflowRef:c,onChange:l}),{getReferenceProps:N,getFloatingProps:M}=tD([O]),V=De(U=>{h(U),P.setFloating(U)});return w.createElement(D0.Provider,{value:i},w.createElement(Rl.Provider,{value:{setFloating:V,setReference:P.setReference,styles:L,getReferenceProps:N,getFloatingProps:M,slot:te}},t))}function cD(t){it(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,i=parseFloat(n);if(isNaN(i))return;let a=parseInt(n);isNaN(a)||i!==a&&(t.style.maxHeight=`${Math.ceil(i)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function fD(t,e){var n,i,a;let l=Vg((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),c=Vg((i=t==null?void 0:t.offset)!=null?i:"var(--anchor-offset, 0)",e),f=Vg((a=t==null?void 0:t.padding)!=null?a:"var(--anchor-padding, 0)",e);return{...t,gap:l,offset:c,padding:f}}function Vg(t,e,n=void 0){let i=Tl(),a=De((h,p)=>{if(h==null)return[n,null];if(typeof h=="number")return[h,null];if(typeof h=="string"){if(!p)return[n,null];let y=LE(h,p);return[y,E=>{let b=t2(h);{let T=b.map(A=>window.getComputedStyle(p).getPropertyValue(A));i.requestAnimationFrame(function A(){i.nextFrame(A);let D=!1;for(let[P,L]of b.entries()){let I=window.getComputedStyle(p).getPropertyValue(L);if(T[P]!==I){T[P]=I,D=!0;break}}if(!D)return;let C=LE(h,p);y!==C&&(E(C),y=C)})}return i.dispose}]}return[n,null]}),l=w.useMemo(()=>a(t,e)[0],[t,e]),[c=l,f]=w.useState();return it(()=>{let[h,p]=a(t,e);if(f(h),!!p)return p(f)},[t,e]),c}function t2(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let i=e[1].slice(0,n).trim(),a=e[1].slice(n+1).trim();return a?[i,...t2(a)]:[i]}return[]}function LE(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let i=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),i}let Vh=w.createContext(null);Vh.displayName="OpenClosedContext";var vn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(vn||{});function Nc(){return w.useContext(Vh)}function n2({value:t,children:e}){return de.createElement(Vh.Provider,{value:t},e)}function dD({children:t}){return de.createElement(Vh.Provider,{value:null},t)}function hD(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let hs=[];hD(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||hs[0]===e.target)return;let n=e.target;n=n.closest(Wd),hs.unshift(n??e.target),hs=hs.filter(i=>i!=null&&i.isConnected),hs.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function mD(t){throw new Error("Unexpected object: "+t)}var cn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(cn||{});function Ug(t,e){let n=e.resolveItems();if(n.length<=0)return null;let i=e.resolveActiveIndex(),a=i??-1;switch(t.focus){case 0:{for(let l=0;l<n.length;++l)if(!e.resolveDisabled(n[l],l,n))return l;return i}case 1:{a===-1&&(a=n.length);for(let l=a-1;l>=0;--l)if(!e.resolveDisabled(n[l],l,n))return l;return i}case 2:{for(let l=a+1;l<n.length;++l)if(!e.resolveDisabled(n[l],l,n))return l;return i}case 3:{for(let l=n.length-1;l>=0;--l)if(!e.resolveDisabled(n[l],l,n))return l;return i}case 4:{for(let l=0;l<n.length;++l)if(e.resolveId(n[l],l,n)===t.id)return l;return i}case 5:return null;default:mD(t)}}function r2(t){let e=De(t),n=w.useRef(!1);w.useEffect(()=>(n.current=!1,()=>{n.current=!0,kh(()=>{n.current&&e()})}),[e])}function pD(){let t=typeof document>"u";return"useSyncExternalStore"in fy?(e=>e.useSyncExternalStore)(fy)(()=>()=>{},()=>!1,()=>!t):!1}function Dc(){let t=pD(),[e,n]=w.useState(Pa.isHandoffComplete);return e&&Pa.isHandoffComplete===!1&&n(!1),w.useEffect(()=>{e!==!0&&n(!0)},[e]),w.useEffect(()=>Pa.handoff(),[]),t?!1:e}let i2=w.createContext(!1);function gD(){return w.useContext(i2)}function jE(t){return de.createElement(i2.Provider,{value:t.force},t.children)}function yD(t){let e=gD(),n=w.useContext(a2),[i,a]=w.useState(()=>{var l;if(!e&&n!==null)return(l=n.current)!=null?l:null;if(Pa.isServer)return null;let c=t==null?void 0:t.getElementById("headlessui-portal-root");if(c)return c;if(t===null)return null;let f=t.createElement("div");return f.setAttribute("id","headlessui-portal-root"),t.body.appendChild(f)});return w.useEffect(()=>{i!==null&&(t!=null&&t.body.contains(i)||t==null||t.body.appendChild(i))},[i,t]),w.useEffect(()=>{e||n!==null&&a(n.current)},[n,a,e]),i}let s2=w.Fragment,vD=yt(function(t,e){let{ownerDocument:n=null,...i}=t,a=w.useRef(null),l=bn(p4(T=>{a.current=T}),e),c=ul(a),f=n??c,h=yD(f),[p]=w.useState(()=>{var T;return Pa.isServer?null:(T=f==null?void 0:f.createElement("div"))!=null?T:null}),y=w.useContext(Ay),E=Dc();it(()=>{!h||!p||h.contains(p)||(p.setAttribute("data-headlessui-portal",""),h.appendChild(p))},[h,p]),it(()=>{if(p&&y)return y.register(p)},[y,p]),r2(()=>{var T;!h||!p||(p instanceof Node&&h.contains(p)&&h.removeChild(p),h.childNodes.length<=0&&((T=h.parentElement)==null||T.removeChild(h)))});let b=It();return E?!h||!p?null:jr.createPortal(b({ourProps:{ref:l},theirProps:i,slot:{},defaultTag:s2,name:"Portal"}),p):null});function _D(t,e){let n=bn(e),{enabled:i=!0,ownerDocument:a,...l}=t,c=It();return i?de.createElement(vD,{...l,ownerDocument:a,ref:n}):c({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:s2,name:"Portal"})}let bD=w.Fragment,a2=w.createContext(null);function ED(t,e){let{target:n,...i}=t,a={ref:bn(e)},l=It();return de.createElement(a2.Provider,{value:n},l({ourProps:a,theirProps:i,defaultTag:bD,name:"Popover.Group"}))}let Ay=w.createContext(null);function wD(){let t=w.useContext(Ay),e=w.useRef([]),n=De(l=>(e.current.push(l),t&&t.register(l),()=>i(l))),i=De(l=>{let c=e.current.indexOf(l);c!==-1&&e.current.splice(c,1),t&&t.unregister(l)}),a=w.useMemo(()=>({register:n,unregister:i,portals:e}),[n,i,e]);return[e,w.useMemo(()=>function({children:l}){return de.createElement(Ay.Provider,{value:a},l)},[a])]}let TD=yt(_D),o2=yt(ED),l2=Object.assign(TD,{Group:o2});function xD(t,e=typeof document<"u"?document.defaultView:null,n){let i=xl(t,"escape");Lx(e,"keydown",a=>{i&&(a.defaultPrevented||a.key===Bt.Escape&&n(a))})}function SD(){var t;let[e]=w.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,i]=w.useState((t=e==null?void 0:e.matches)!=null?t:!1);return it(()=>{if(!e)return;function a(l){i(l.matches)}return e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[e]),n}function AD({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let i=ul(n),a=De(()=>{var l,c;let f=[];for(let h of t)h!==null&&(h instanceof HTMLElement?f.push(h):"current"in h&&h.current instanceof HTMLElement&&f.push(h.current));if(e!=null&&e.current)for(let h of e.current)f.push(h);for(let h of(l=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?l:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(n&&(h.contains(n)||h.contains((c=n==null?void 0:n.getRootNode())==null?void 0:c.host))||f.some(p=>h.contains(p))||f.push(h));return f});return{resolveContainers:a,contains:De(l=>a().some(c=>c.contains(l)))}}let u2=w.createContext(null);function VE({children:t,node:e}){let[n,i]=w.useState(null),a=c2(e??n);return de.createElement(u2.Provider,{value:a},t,a===null&&de.createElement(by,{features:Yd.Hidden,ref:l=>{var c,f;if(l){for(let h of(f=(c=Qa(l))==null?void 0:c.querySelectorAll("html > *, body > *"))!=null?f:[])if(h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h!=null&&h.contains(l)){i(h);break}}}}))}function c2(t=null){var e;return(e=w.useContext(u2))!=null?e:t}function k0(){let t=w.useRef(!1);return it(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Qu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Qu||{});function RD(){let t=w.useRef(0);return Px(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function f2(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let CD="div";var Na=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Na||{});function ID(t,e){let n=w.useRef(null),i=bn(n,e),{initialFocus:a,initialFocusFallback:l,containers:c,features:f=15,...h}=t;Dc()||(f=0);let p=ul(n);OD(f,{ownerDocument:p});let y=PD(f,{ownerDocument:p,container:n,initialFocus:a,initialFocusFallback:l});MD(f,{ownerDocument:p,container:n,containers:c,previousActiveElement:y});let E=RD(),b=De(L=>{let I=n.current;I&&(z=>z())(()=>{Hr(E.current,{[Qu.Forwards]:()=>{tl(I,ur.First,{skipElements:[L.relatedTarget,l]})},[Qu.Backwards]:()=>{tl(I,ur.Last,{skipElements:[L.relatedTarget,l]})}})})}),T=xl(!!(f&2),"focus-trap#tab-lock"),A=Tl(),D=w.useRef(!1),C={ref:i,onKeyDown(L){L.key=="Tab"&&(D.current=!0,A.requestAnimationFrame(()=>{D.current=!1}))},onBlur(L){if(!(f&4))return;let I=f2(c);n.current instanceof HTMLElement&&I.add(n.current);let z=L.relatedTarget;z instanceof HTMLElement&&z.dataset.headlessuiFocusGuard!=="true"&&(d2(I,z)||(D.current?tl(n.current,Hr(E.current,{[Qu.Forwards]:()=>ur.Next,[Qu.Backwards]:()=>ur.Previous})|ur.WrapAround,{relativeTo:L.target}):L.target instanceof HTMLElement&&Vr(L.target)))}},P=It();return de.createElement(de.Fragment,null,T&&de.createElement(by,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:Yd.Focusable}),P({ourProps:C,theirProps:h,defaultTag:CD,name:"FocusTrap"}),T&&de.createElement(by,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:Yd.Focusable}))}let ND=yt(ID),DD=Object.assign(ND,{features:Na});function kD(t=!0){let e=w.useRef(hs.slice());return A0(([n],[i])=>{i===!0&&n===!1&&kh(()=>{e.current.splice(0)}),i===!1&&n===!0&&(e.current=hs.slice())},[t,hs,e]),De(()=>{var n;return(n=e.current.find(i=>i!=null&&i.isConnected))!=null?n:null})}function OD(t,{ownerDocument:e}){let n=!!(t&8),i=kD(n);A0(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Vr(i())},[n]),r2(()=>{n&&Vr(i())})}function PD(t,{ownerDocument:e,container:n,initialFocus:i,initialFocusFallback:a}){let l=w.useRef(null),c=xl(!!(t&1),"focus-trap#initial-focus"),f=k0();return A0(()=>{if(t===0)return;if(!c){a!=null&&a.current&&Vr(a.current);return}let h=n.current;h&&kh(()=>{if(!f.current)return;let p=e==null?void 0:e.activeElement;if(i!=null&&i.current){if((i==null?void 0:i.current)===p){l.current=p;return}}else if(h.contains(p)){l.current=p;return}if(i!=null&&i.current)Vr(i.current);else{if(t&16){if(tl(h,ur.First|ur.AutoFocus)!==wy.Error)return}else if(tl(h,ur.First)!==wy.Error)return;if(a!=null&&a.current&&(Vr(a.current),(e==null?void 0:e.activeElement)===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=e==null?void 0:e.activeElement})},[a,c,t]),l}function MD(t,{ownerDocument:e,container:n,containers:i,previousActiveElement:a}){let l=k0(),c=!!(t&4);Lx(e==null?void 0:e.defaultView,"focus",f=>{if(!c||!l.current)return;let h=f2(i);n.current instanceof HTMLElement&&h.add(n.current);let p=a.current;if(!p)return;let y=f.target;y&&y instanceof HTMLElement?d2(h,y)?(a.current=y,Vr(y)):(f.preventDefault(),f.stopPropagation(),Vr(p)):Vr(a.current)},!0)}function d2(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function h2(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:p2)!==w.Fragment||de.Children.count(t.children)===1}let Uh=w.createContext(null);Uh.displayName="TransitionContext";var LD=(t=>(t.Visible="visible",t.Hidden="hidden",t))(LD||{});function jD(){let t=w.useContext(Uh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function VD(){let t=w.useContext(zh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let zh=w.createContext(null);zh.displayName="NestingContext";function $h(t){return"children"in t?$h(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function m2(t,e){let n=Ya(t),i=w.useRef([]),a=k0(),l=Tl(),c=De((T,A=vs.Hidden)=>{let D=i.current.findIndex(({el:C})=>C===T);D!==-1&&(Hr(A,{[vs.Unmount](){i.current.splice(D,1)},[vs.Hidden](){i.current[D].state="hidden"}}),l.microTask(()=>{var C;!$h(i)&&a.current&&((C=n.current)==null||C.call(n))}))}),f=De(T=>{let A=i.current.find(({el:D})=>D===T);return A?A.state!=="visible"&&(A.state="visible"):i.current.push({el:T,state:"visible"}),()=>c(T,vs.Unmount)}),h=w.useRef([]),p=w.useRef(Promise.resolve()),y=w.useRef({enter:[],leave:[]}),E=De((T,A,D)=>{h.current.splice(0),e&&(e.chains.current[A]=e.chains.current[A].filter(([C])=>C!==T)),e==null||e.chains.current[A].push([T,new Promise(C=>{h.current.push(C)})]),e==null||e.chains.current[A].push([T,new Promise(C=>{Promise.all(y.current[A].map(([P,L])=>L)).then(()=>C())})]),A==="enter"?p.current=p.current.then(()=>e==null?void 0:e.wait.current).then(()=>D(A)):D(A)}),b=De((T,A,D)=>{Promise.all(y.current[A].splice(0).map(([C,P])=>P)).then(()=>{var C;(C=h.current.shift())==null||C()}).then(()=>D(A))});return w.useMemo(()=>({children:i,register:f,unregister:c,onStart:E,onStop:b,wait:p,chains:y}),[f,c,i,E,b,y,p])}let p2=w.Fragment,g2=ll.RenderStrategy;function UD(t,e){var n,i;let{transition:a=!0,beforeEnter:l,afterEnter:c,beforeLeave:f,afterLeave:h,enter:p,enterFrom:y,enterTo:E,entered:b,leave:T,leaveFrom:A,leaveTo:D,...C}=t,[P,L]=w.useState(null),I=w.useRef(null),z=h2(t),q=bn(...z?[I,e,L]:e===null?[]:[e]),te=(n=C.unmount)==null||n?vs.Unmount:vs.Hidden,{show:O,appear:N,initial:M}=jD(),[V,U]=w.useState(O?"visible":"hidden"),B=VD(),{register:j,unregister:he}=B;it(()=>j(I),[j,I]),it(()=>{if(te===vs.Hidden&&I.current){if(O&&V!=="visible"){U("visible");return}return Hr(V,{hidden:()=>he(I),visible:()=>j(I)})}},[V,I,j,he,O,te]);let ve=Dc();it(()=>{if(z&&ve&&V==="visible"&&I.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[I,V,ve,z]);let K=M&&!N,ie=N&&O&&M,ue=w.useRef(!1),ce=m2(()=>{ue.current||(U("hidden"),he(I))},B),$=De(ht=>{ue.current=!0;let Ge=ht?"enter":"leave";ce.onStart(I,Ge,tn=>{tn==="enter"?l==null||l():tn==="leave"&&(f==null||f())})}),ee=De(ht=>{let Ge=ht?"enter":"leave";ue.current=!1,ce.onStop(I,Ge,tn=>{tn==="enter"?c==null||c():tn==="leave"&&(h==null||h())}),Ge==="leave"&&!$h(ce)&&(U("hidden"),he(I))});w.useEffect(()=>{z&&a||($(O),ee(O))},[O,z,a]);let fe=!(!a||!z||!ve||K),[,oe]=Ux(fe,P,O,{start:$,end:ee}),be=Ra({ref:q,className:((i=_y(C.className,ie&&p,ie&&y,oe.enter&&p,oe.enter&&oe.closed&&y,oe.enter&&!oe.closed&&E,oe.leave&&T,oe.leave&&!oe.closed&&A,oe.leave&&oe.closed&&D,!oe.transition&&O&&b))==null?void 0:i.trim())||void 0,...Vx(oe)}),Ne=0;V==="visible"&&(Ne|=vn.Open),V==="hidden"&&(Ne|=vn.Closed),oe.enter&&(Ne|=vn.Opening),oe.leave&&(Ne|=vn.Closing);let Ae=It();return de.createElement(zh.Provider,{value:ce},de.createElement(n2,{value:Ne},Ae({ourProps:be,theirProps:C,defaultTag:p2,features:g2,visible:V==="visible",name:"Transition.Child"})))}function zD(t,e){let{show:n,appear:i=!1,unmount:a=!0,...l}=t,c=w.useRef(null),f=h2(t),h=bn(...f?[c,e]:e===null?[]:[e]);Dc();let p=Nc();if(n===void 0&&p!==null&&(n=(p&vn.Open)===vn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[y,E]=w.useState(n?"visible":"hidden"),b=m2(()=>{n||E("hidden")}),[T,A]=w.useState(!0),D=w.useRef([n]);it(()=>{T!==!1&&D.current[D.current.length-1]!==n&&(D.current.push(n),A(!1))},[D,n]);let C=w.useMemo(()=>({show:n,appear:i,initial:T}),[n,i,T]);it(()=>{n?E("visible"):!$h(b)&&c.current!==null&&E("hidden")},[n,b]);let P={unmount:a},L=De(()=>{var q;T&&A(!1),(q=t.beforeEnter)==null||q.call(t)}),I=De(()=>{var q;T&&A(!1),(q=t.beforeLeave)==null||q.call(t)}),z=It();return de.createElement(zh.Provider,{value:b},de.createElement(Uh.Provider,{value:C},z({ourProps:{...P,as:w.Fragment,children:de.createElement(y2,{ref:h,...P,...l,beforeEnter:L,beforeLeave:I})},theirProps:{},defaultTag:w.Fragment,features:g2,visible:y==="visible",name:"Transition"})))}function $D(t,e){let n=w.useContext(Uh)!==null,i=Nc()!==null;return de.createElement(de.Fragment,null,!n&&i?de.createElement(Ry,{ref:e,...t}):de.createElement(y2,{ref:e,...t}))}let Ry=yt(zD),y2=yt(UD),O0=yt($D),_s=Object.assign(Ry,{Child:O0,Root:Ry});var FD=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(FD||{}),BD=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(BD||{});let HD={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},P0=w.createContext(null);P0.displayName="DialogContext";function Fh(t){let e=w.useContext(P0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Fh),n}return e}function qD(t,e){return Hr(e.type,HD,t,e)}let UE=yt(function(t,e){let n=w.useId(),{id:i=`headlessui-dialog-${n}`,open:a,onClose:l,initialFocus:c,role:f="dialog",autoFocus:h=!0,__demoMode:p=!1,unmount:y=!1,...E}=t,b=w.useRef(!1);f=function(){return f==="dialog"||f==="alertdialog"?f:(b.current||(b.current=!0,console.warn(`Invalid role [${f}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let T=Nc();a===void 0&&T!==null&&(a=(T&vn.Open)===vn.Open);let A=w.useRef(null),D=bn(A,e),C=ul(A),P=a?0:1,[L,I]=w.useReducer(qD,{titleId:null,descriptionId:null,panelRef:w.createRef()}),z=De(()=>l(!1)),q=De(ee=>I({type:0,id:ee})),te=Dc()?P===0:!1,[O,N]=wD(),M={get current(){var ee;return(ee=L.panelRef.current)!=null?ee:A.current}},V=c2(),{resolveContainers:U}=AD({mainTreeNode:V,portals:O,defaultContainers:[M]}),B=T!==null?(T&vn.Closing)===vn.Closing:!1;Cx(p||B?!1:te,{allowed:De(()=>{var ee,fe;return[(fe=(ee=A.current)==null?void 0:ee.closest("[data-headlessui-portal]"))!=null?fe:null]}),disallowed:De(()=>{var ee;return[(ee=V==null?void 0:V.closest("body > *:not(#headlessui-portal-root)"))!=null?ee:null]})}),Mx(te,U,ee=>{ee.preventDefault(),z()}),xD(te,C==null?void 0:C.defaultView,ee=>{ee.preventDefault(),ee.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),z()}),jx(p||B?!1:te,C,U),Ix(te,A,z);let[j,he]=xx(),ve=w.useMemo(()=>[{dialogState:P,close:z,setTitleId:q,unmount:y},L],[P,L,z,q,y]),K=w.useMemo(()=>({open:P===0}),[P]),ie={ref:D,id:i,role:f,tabIndex:-1,"aria-modal":p?void 0:P===0?!0:void 0,"aria-labelledby":L.titleId,"aria-describedby":j,unmount:y},ue=!SD(),ce=Na.None;te&&!p&&(ce|=Na.RestoreFocus,ce|=Na.TabLock,h&&(ce|=Na.AutoFocus),ue&&(ce|=Na.InitialFocus));let $=It();return de.createElement(dD,null,de.createElement(jE,{force:!0},de.createElement(l2,null,de.createElement(P0.Provider,{value:ve},de.createElement(o2,{target:A},de.createElement(jE,{force:!1},de.createElement(he,{slot:K},de.createElement(N,null,de.createElement(DD,{initialFocus:c,initialFocusFallback:A,containers:U,features:ce},de.createElement(S4,{value:z},$({ourProps:ie,theirProps:E,slot:K,defaultTag:GD,features:KD,visible:P===0,name:"Dialog"})))))))))))}),GD="div",KD=ll.RenderStrategy|ll.Static;function QD(t,e){let{transition:n=!1,open:i,...a}=t,l=Nc(),c=t.hasOwnProperty("open")||l!==null,f=t.hasOwnProperty("onClose");if(!c&&!f)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!c)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!f)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(i!==void 0||n)&&!a.static?de.createElement(VE,null,de.createElement(_s,{show:i,transition:n,unmount:a.unmount},de.createElement(UE,{ref:e,...a}))):de.createElement(VE,null,de.createElement(UE,{ref:e,open:i,...a}))}let YD="div";function WD(t,e){let n=w.useId(),{id:i=`headlessui-dialog-panel-${n}`,transition:a=!1,...l}=t,[{dialogState:c,unmount:f},h]=Fh("Dialog.Panel"),p=bn(e,h.panelRef),y=w.useMemo(()=>({open:c===0}),[c]),E=De(C=>{C.stopPropagation()}),b={ref:p,id:i,onClick:E},T=a?O0:w.Fragment,A=a?{unmount:f}:{},D=It();return de.createElement(T,{...A},D({ourProps:b,theirProps:l,slot:y,defaultTag:YD,name:"Dialog.Panel"}))}let XD="div";function ZD(t,e){let{transition:n=!1,...i}=t,[{dialogState:a,unmount:l}]=Fh("Dialog.Backdrop"),c=w.useMemo(()=>({open:a===0}),[a]),f={ref:e,"aria-hidden":!0},h=n?O0:w.Fragment,p=n?{unmount:l}:{},y=It();return de.createElement(h,{...p},y({ourProps:f,theirProps:i,slot:c,defaultTag:XD,name:"Dialog.Backdrop"}))}let JD="h2";function ek(t,e){let n=w.useId(),{id:i=`headlessui-dialog-title-${n}`,...a}=t,[{dialogState:l,setTitleId:c}]=Fh("Dialog.Title"),f=bn(e);w.useEffect(()=>(c(i),()=>c(null)),[i,c]);let h=w.useMemo(()=>({open:l===0}),[l]),p={ref:f,id:i};return It()({ourProps:p,theirProps:a,slot:h,defaultTag:JD,name:"Dialog.Title"})}let tk=yt(QD),nk=yt(WD);yt(ZD);let rk=yt(ek),eh=Object.assign(tk,{Panel:nk,Title:rk,Description:_4});function ik(t,e){let n=w.useRef({left:0,top:0});if(it(()=>{if(!e)return;let a=e.getBoundingClientRect();a&&(n.current=a)},[t,e]),e==null||!t||e===document.activeElement)return!1;let i=e.getBoundingClientRect();return i.top!==n.current.top||i.left!==n.current.left}let zE=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function $E(t){var e,n;let i=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return i;let l=!1;for(let f of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))f.remove(),l=!0;let c=l?(n=a.innerText)!=null?n:"":i;return zE.test(c)&&(c=c.replace(zE,"")),c}function sk(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let i=n.split(" ").map(a=>{let l=document.getElementById(a);if(l){let c=l.getAttribute("aria-label");return typeof c=="string"?c.trim():$E(l).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return $E(t).trim()}function ak(t){let e=w.useRef(""),n=w.useRef("");return De(()=>{let i=t.current;if(!i)return"";let a=i.innerText;if(e.current===a)return n.current;let l=sk(i).trim().toLowerCase();return e.current=a,n.current=l,l})}var ok=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(ok||{}),lk=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(lk||{}),uk=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t))(uk||{});function zg(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,i=kx(e(t.items.slice()),l=>l.dataRef.current.domRef.current),a=n?i.indexOf(n):null;return a===-1&&(a=null),{items:i,activeItemIndex:a}}let ck={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n,i,a,l,c;if(t.menuState===1)return t;let f={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===cn.Nothing)return{...f,activeItemIndex:null};if(e.focus===cn.Specific)return{...f,activeItemIndex:t.items.findIndex(y=>y.id===e.id)};if(e.focus===cn.Previous){let y=t.activeItemIndex;if(y!==null){let E=t.items[y].dataRef.current.domRef,b=Ug(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:T=>T.id,resolveDisabled:T=>T.dataRef.current.disabled});if(b!==null){let T=t.items[b].dataRef.current.domRef;if(((i=E.current)==null?void 0:i.previousElementSibling)===T.current||((a=T.current)==null?void 0:a.previousElementSibling)===null)return{...f,activeItemIndex:b}}}}else if(e.focus===cn.Next){let y=t.activeItemIndex;if(y!==null){let E=t.items[y].dataRef.current.domRef,b=Ug(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:T=>T.id,resolveDisabled:T=>T.dataRef.current.disabled});if(b!==null){let T=t.items[b].dataRef.current.domRef;if(((l=E.current)==null?void 0:l.nextElementSibling)===T.current||((c=T.current)==null?void 0:c.nextElementSibling)===null)return{...f,activeItemIndex:b}}}}let h=zg(t),p=Ug(e,{resolveItems:()=>h.items,resolveActiveIndex:()=>h.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});return{...f,...h,activeItemIndex:p}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,i=t.searchQuery+e.value.toLowerCase(),a=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(c=>{var f;return((f=c.dataRef.current.textValue)==null?void 0:f.startsWith(i))&&!c.dataRef.current.disabled}),l=a?t.items.indexOf(a):-1;return l===-1||l===t.activeItemIndex?{...t,searchQuery:i}:{...t,searchQuery:i,activeItemIndex:l,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=zg(t,i=>[...i,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=zg(t,i=>{let a=i.findIndex(l=>l.id===e.id);return a!==-1&&i.splice(a,1),i});return{...t,...n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element}},M0=w.createContext(null);M0.displayName="MenuContext";function Bh(t){let e=w.useContext(M0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Bh),n}return e}function fk(t,e){return Hr(e.type,ck,t,e)}let dk=w.Fragment;function hk(t,e){let{__demoMode:n=!1,...i}=t,a=w.useReducer(fk,{__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:l,itemsElement:c,buttonElement:f},h]=a,p=bn(e);Mx(l===0,[f,c],(A,D)=>{h({type:1}),S0(D,x0.Loose)||(A.preventDefault(),f==null||f.focus())});let y=De(()=>{h({type:1})}),E=w.useMemo(()=>({open:l===0,close:y}),[l,y]),b={ref:p},T=It();return de.createElement(uD,null,de.createElement(M0.Provider,{value:a},de.createElement(n2,{value:Hr(l,{0:vn.Open,1:vn.Closed})},T({ourProps:b,theirProps:i,slot:E,defaultTag:dk,name:"Menu"}))))}let mk="button";function pk(t,e){var n;let i=w.useId(),{id:a=`headlessui-menu-button-${i}`,disabled:l=!1,autoFocus:c=!1,...f}=t,[h,p]=Bh("Menu.Button"),y=aD(),E=bn(e,sD(),De(O=>p({type:7,element:O}))),b=De(O=>{switch(O.key){case Bt.Space:case Bt.Enter:case Bt.ArrowDown:O.preventDefault(),O.stopPropagation(),jr.flushSync(()=>p({type:0})),p({type:2,focus:cn.First});break;case Bt.ArrowUp:O.preventDefault(),O.stopPropagation(),jr.flushSync(()=>p({type:0})),p({type:2,focus:cn.Last});break}}),T=De(O=>{switch(O.key){case Bt.Space:O.preventDefault();break}}),A=De(O=>{var N;if(h4(O.currentTarget))return O.preventDefault();l||(h.menuState===0?(jr.flushSync(()=>p({type:1})),(N=h.buttonElement)==null||N.focus({preventScroll:!0})):(O.preventDefault(),p({type:0})))}),{isFocusVisible:D,focusProps:C}=XN({autoFocus:c}),{isHovered:P,hoverProps:L}=WN({isDisabled:l}),{pressed:I,pressProps:z}=r4({disabled:l}),q=w.useMemo(()=>({open:h.menuState===0,active:I||h.menuState===0,disabled:l,hover:P,focus:D,autofocus:c}),[h,P,D,I,l,c]),te=Ex(y(),{ref:E,id:a,type:U4(t,h.buttonElement),"aria-haspopup":"menu","aria-controls":(n=h.itemsElement)==null?void 0:n.id,"aria-expanded":h.menuState===0,disabled:l||void 0,autoFocus:c,onKeyDown:b,onKeyUp:T,onClick:A},C,L,z);return It()({ourProps:te,theirProps:f,slot:q,defaultTag:mk,name:"Menu.Button"})}let gk="div",yk=ll.RenderStrategy|ll.Static;function vk(t,e){var n,i;let a=w.useId(),{id:l=`headlessui-menu-items-${a}`,anchor:c,portal:f=!1,modal:h=!0,transition:p=!1,...y}=t,E=iD(c),[b,T]=Bh("Menu.Items"),[A,D]=lD(E),C=oD(),[P,L]=w.useState(null),I=bn(e,E?A:null,De(ce=>T({type:8,element:ce})),L),z=ul(b.buttonElement),q=ul(b.itemsElement);E&&(f=!0);let te=Nc(),[O,N]=Ux(p,P,te!==null?(te&vn.Open)===vn.Open:b.menuState===0);Ix(O,b.buttonElement,()=>{T({type:1})});let M=b.__demoMode?!1:h&&b.menuState===0;jx(M,q);let V=b.__demoMode?!1:h&&b.menuState===0;Cx(V,{allowed:w.useCallback(()=>[b.buttonElement,b.itemsElement],[b.buttonElement,b.itemsElement])});let U=b.menuState!==0,B=ik(U,b.buttonElement)?!1:O;w.useEffect(()=>{let ce=b.itemsElement;ce&&b.menuState===0&&ce!==(q==null?void 0:q.activeElement)&&ce.focus({preventScroll:!0})},[b.menuState,b.itemsElement,q]),Z4(b.menuState===0,{container:b.itemsElement,accept(ce){return ce.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:ce.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(ce){ce.setAttribute("role","none")}});let j=Tl(),he=De(ce=>{var $,ee,fe;switch(j.dispose(),ce.key){case Bt.Space:if(b.searchQuery!=="")return ce.preventDefault(),ce.stopPropagation(),T({type:3,value:ce.key});case Bt.Enter:if(ce.preventDefault(),ce.stopPropagation(),T({type:1}),b.activeItemIndex!==null){let{dataRef:oe}=b.items[b.activeItemIndex];(ee=($=oe.current)==null?void 0:$.domRef.current)==null||ee.click()}Dx(b.buttonElement);break;case Bt.ArrowDown:return ce.preventDefault(),ce.stopPropagation(),T({type:2,focus:cn.Next});case Bt.ArrowUp:return ce.preventDefault(),ce.stopPropagation(),T({type:2,focus:cn.Previous});case Bt.Home:case Bt.PageUp:return ce.preventDefault(),ce.stopPropagation(),T({type:2,focus:cn.First});case Bt.End:case Bt.PageDown:return ce.preventDefault(),ce.stopPropagation(),T({type:2,focus:cn.Last});case Bt.Escape:ce.preventDefault(),ce.stopPropagation(),jr.flushSync(()=>T({type:1})),(fe=b.buttonElement)==null||fe.focus({preventScroll:!0});break;case Bt.Tab:ce.preventDefault(),ce.stopPropagation(),jr.flushSync(()=>T({type:1})),L4(b.buttonElement,ce.shiftKey?ur.Previous:ur.Next);break;default:ce.key.length===1&&(T({type:3,value:ce.key}),j.setTimeout(()=>T({type:4}),350));break}}),ve=De(ce=>{switch(ce.key){case Bt.Space:ce.preventDefault();break}}),K=w.useMemo(()=>({open:b.menuState===0}),[b.menuState]),ie=Ex(E?C():{},{"aria-activedescendant":b.activeItemIndex===null||(n=b.items[b.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(i=b.buttonElement)==null?void 0:i.id,id:l,onKeyDown:he,onKeyUp:ve,role:"menu",tabIndex:b.menuState===0?0:void 0,ref:I,style:{...y.style,...D,"--button-width":R4(b.buttonElement,!0).width},...Vx(N)}),ue=It();return de.createElement(l2,{enabled:f?t.static||O:!1,ownerDocument:z},ue({ourProps:ie,theirProps:y,slot:K,defaultTag:gk,features:yk,visible:B,name:"Menu.Items"}))}let _k=w.Fragment;function bk(t,e){let n=w.useId(),{id:i=`headlessui-menu-item-${n}`,disabled:a=!1,...l}=t,[c,f]=Bh("Menu.Item"),h=c.activeItemIndex!==null?c.items[c.activeItemIndex].id===i:!1,p=w.useRef(null),y=bn(e,p);it(()=>{if(!c.__demoMode&&c.menuState===0&&h&&c.activationTrigger!==0)return Kr().requestAnimationFrame(()=>{var U,B;(B=(U=p.current)==null?void 0:U.scrollIntoView)==null||B.call(U,{block:"nearest"})})},[c.__demoMode,p,h,c.menuState,c.activationTrigger,c.activeItemIndex]);let E=ak(p),b=w.useRef({disabled:a,domRef:p,get textValue(){return E()}});it(()=>{b.current.disabled=a},[b,a]),it(()=>(f({type:5,id:i,dataRef:b}),()=>f({type:6,id:i})),[b,i]);let T=De(()=>{f({type:1})}),A=De(U=>{if(a)return U.preventDefault();f({type:1}),Dx(c.buttonElement)}),D=De(()=>{if(a)return f({type:2,focus:cn.Nothing});f({type:2,focus:cn.Specific,id:i})}),C=q4(),P=De(U=>{C.update(U),!a&&(h||f({type:2,focus:cn.Specific,id:i,trigger:0}))}),L=De(U=>{C.wasMoved(U)&&(a||h||f({type:2,focus:cn.Specific,id:i,trigger:0}))}),I=De(U=>{C.wasMoved(U)&&(a||h&&f({type:2,focus:cn.Nothing}))}),[z,q]=Sx(),[te,O]=xx(),N=w.useMemo(()=>({active:h,focus:h,disabled:a,close:T}),[h,a,T]),M={id:i,ref:y,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-labelledby":z,"aria-describedby":te,disabled:void 0,onClick:A,onFocus:D,onPointerEnter:P,onMouseEnter:P,onPointerMove:L,onMouseMove:L,onPointerLeave:I,onMouseLeave:I},V=It();return de.createElement(q,null,de.createElement(O,null,V({ourProps:M,theirProps:l,slot:N,defaultTag:_k,name:"Menu.Item"})))}let Ek="div";function wk(t,e){let[n,i]=Sx(),a=t,l={ref:e,"aria-labelledby":n,role:"group"},c=It();return de.createElement(i,null,c({ourProps:l,theirProps:a,slot:{},defaultTag:Ek,name:"Menu.Section"}))}let Tk="header";function xk(t,e){let n=w.useId(),{id:i=`headlessui-menu-heading-${n}`,...a}=t,l=T0();it(()=>l.register(i),[i,l.register]);let c={id:i,ref:e,role:"presentation",...l.props};return It()({ourProps:c,theirProps:a,slot:{},defaultTag:Tk,name:"Menu.Heading"})}let Sk="div";function Ak(t,e){let n=t,i={ref:e,role:"separator"};return It()({ourProps:i,theirProps:n,slot:{},defaultTag:Sk,name:"Menu.Separator"})}let Rk=yt(hk),Ck=yt(pk),Ik=yt(vk),Nk=yt(bk),Dk=yt(wk),kk=yt(xk),Ok=yt(Ak),Ko=Object.assign(Rk,{Button:Ck,Items:Ik,Item:Nk,Section:Dk,Heading:kk,Separator:Ok});function Pk(t){return _r({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(t)}var $g={exports:{}},Fg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function Mk(){if(FE)return Fg;FE=1;var t=Ih();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return Fg.useSyncExternalStoreWithSelector=function(h,p,y,E,b){var T=a(null);if(T.current===null){var A={hasValue:!1,value:null};T.current=A}else A=T.current;T=c(function(){function C(q){if(!P){if(P=!0,L=q,q=E(q),b!==void 0&&A.hasValue){var te=A.value;if(b(te,q))return I=te}return I=q}if(te=I,n(L,q))return te;var O=E(q);return b!==void 0&&b(te,O)?(L=q,te):(L=q,I=O)}var P=!1,L,I,z=y===void 0?null:y;return[function(){return C(p())},z===null?void 0:function(){return C(z())}]},[p,y,E,b]);var D=i(h,T[0],T[1]);return l(function(){A.hasValue=!0,A.value=D},[D]),f(D),D},Fg}var BE;function Lk(){return BE||(BE=1,$g.exports=Mk()),$g.exports}var jk=Lk();function Vk(t){t()}function Uk(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Vk(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var HE={notify(){},get:()=>[]};function zk(t,e){let n,i=HE,a=0,l=!1;function c(D){y();const C=i.subscribe(D);let P=!1;return()=>{P||(P=!0,C(),E())}}function f(){i.notify()}function h(){A.onStateChange&&A.onStateChange()}function p(){return l}function y(){a++,n||(n=t.subscribe(h),i=Uk())}function E(){a--,n&&a===0&&(n(),n=void 0,i.clear(),i=HE)}function b(){l||(l=!0,y())}function T(){l&&(l=!1,E())}const A={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:h,isSubscribed:p,trySubscribe:b,tryUnsubscribe:T,getListeners:()=>i};return A}var $k=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fk=$k(),Bk=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hk=Bk(),qk=()=>Fk||Hk?w.useLayoutEffect:w.useEffect,Gk=qk(),Bg=Symbol.for("react-redux-context"),Hg=typeof globalThis<"u"?globalThis:{};function Kk(){if(!w.createContext)return{};const t=Hg[Bg]??(Hg[Bg]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Cs=Kk();function Qk(t){const{children:e,context:n,serverState:i,store:a}=t,l=w.useMemo(()=>{const h=zk(a);return{store:a,subscription:h,getServerState:i?()=>i:void 0}},[a,i]),c=w.useMemo(()=>a.getState(),[a]);Gk(()=>{const{subscription:h}=l;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[l,c]);const f=n||Cs;return w.createElement(f.Provider,{value:l},e)}var Yk=Qk;function L0(t=Cs){return function(){return w.useContext(t)}}var v2=L0();function _2(t=Cs){const e=t===Cs?v2:L0(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var Wk=_2();function Xk(t=Cs){const e=t===Cs?Wk:_2(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Hh=Xk(),Zk=(t,e)=>t===e;function Jk(t=Cs){const e=t===Cs?v2:L0(t),n=(i,a={})=>{const{equalityFn:l=Zk}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:f,subscription:h,getServerState:p}=c;w.useRef(!0);const y=w.useCallback({[i.name](b){return i(b)}}[i.name],[i]),E=jk.useSyncExternalStoreWithSelector(h.addNestedSub,f.getState,p||f.getState,y,l);return w.useDebugValue(E),E};return Object.assign(n,{withTypes:()=>n}),n}var kc=Jk();function eO(){var h,p;const t=w.useContext(jt),{mode:e,toggleMode:n,logout:i}=t,[a,l]=w.useState(!1),c=kc(y=>y.cart),f=JSON.parse(localStorage.getItem("user"));return v.jsxs("div",{className:`sticky top-0 z-50 ${e==="dark"?"bg-gray-800 text-white":"bg-white text-black"}`,children:[v.jsx(_s.Root,{show:a,as:w.Fragment,children:v.jsxs(eh,{as:"div",className:"relative z-40 lg:hidden",onClose:l,children:[v.jsx(_s.Child,{as:w.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30"})}),v.jsx("div",{className:"fixed inset-0 z-50 flex",children:v.jsx(_s.Child,{as:w.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:v.jsxs(eh.Panel,{className:`w-full max-w-xs p-6 overflow-y-auto ${e==="dark"?"bg-gray-900 text-white":"bg-white text-black"}`,children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h2",{className:"text-2xl font-bold",children:"E-MART"}),v.jsx("button",{onClick:()=>l(!1),children:v.jsx(Pk,{size:25})})]}),v.jsxs("div",{className:"mt-6 space-y-6",children:[v.jsx(at,{to:"/allproducts",className:"block text-lg font-medium hover:text-orange-400",children:"All Products"}),f&&v.jsx(at,{to:"/order",className:"block text-lg font-medium hover:text-orange-400",children:"Orders"}),((h=f==null?void 0:f.user)==null?void 0:h.uid)==="HQa0SbPtCbQt7TfbC9rCkoJ1muo1"&&v.jsx(at,{to:"/dashboard",className:"block text-lg font-medium hover:text-orange-400",children:"Admin Dashboard"}),f?v.jsx("button",{onClick:i,className:"block text-lg font-medium hover:text-orange-400",children:"Logout"}):v.jsx(at,{to:"/login",className:"block text-lg font-medium hover:text-orange-400",children:"Login"}),v.jsxs(at,{to:"/cart",className:"flex items-center hover:text-orange-400",children:[v.jsx("span",{className:"mr-2",children:""}),v.jsxs("span",{children:["Cart (",c.length,")"]})]})]})]})})})]})}),v.jsx("div",{className:`text-center py-2 text-sm font-medium ${e==="dark"?"bg-gray-700":"bg-orange-400"} text-white`,children:"Get free delivery on orders over 300 TK"}),v.jsxs("div",{className:"flex items-center justify-between px-6 py-4 shadow",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("button",{onClick:()=>l(!0),className:`lg:hidden mr-4 p-2 rounded ${e==="dark"?"bg-gray-600 text-white":"bg-gray-100 text-black"}`,children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),v.jsx(at,{to:"/",className:"text-2xl font-bold flex items-center logo",children:v.jsxs("svg",{width:"220",height:"70",viewBox:"0 0 220 70",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("circle",{cx:"20",cy:"14",r:"5",fill:"currentColor"}),v.jsx("rect",{x:"14",y:"20",width:"36",height:"36",rx:"6",fill:"#FF5722"}),v.jsx("text",{x:"24",y:"47",fontFamily:"Arial, sans-serif",fontSize:"26",fill:"white",fontWeight:"bold",children:"E"}),v.jsx("text",{x:"60",y:"47",fontFamily:"Arial, sans-serif",fontSize:"26",fill:"currentColor",fontWeight:"bold",children:"-MART"}),v.jsx("circle",{cx:"190",cy:"18",r:"5",fill:"#FFC107"})]})})]}),v.jsxs("div",{className:"hidden lg:flex gap-8 text-lg font-medium",children:[v.jsx(at,{to:"/allproducts",className:"hover:text-orange-400",children:"All Products"}),((p=f==null?void 0:f.user)==null?void 0:p.uid)==="HQa0SbPtCbQt7TfbC9rCkoJ1muo1"&&v.jsx(at,{to:"/dashboard",className:"hover:text-orange-400",children:"Admin"})]}),v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx("button",{onClick:n,className:"cursor",children:e==="light"?v.jsx(RN,{size:26}):v.jsx(CN,{size:26})}),v.jsxs("div",{className:"hidden lg:flex items-center",children:[v.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/13980/13980173.png",alt:"",className:"w-5 h-auto mr-2"}),v.jsx("span",{children:"Bangladesh"})]}),v.jsxs(at,{to:"/cart",className:"flex items-center gap-1 ",children:[v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13L5 19h14M9 21a1 1 0 100-2 1 1 0 000 2zm8 0a1 1 0 100-2 1 1 0 000 2z"})}),v.jsx("span",{className:"bg-orange-400 px-1 py-0.2 rounded-full",children:c.length})]}),f?v.jsxs(Ko,{as:"div",className:"relative",children:[v.jsx(Ko.Button,{className:"flex cursor items-center focus:outline-none",children:v.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/15339/15339256.png",alt:"Profile",className:"w-10 h-10 rounded-full"})}),v.jsx(_s,{as:w.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:v.jsxs(Ko.Items,{className:`absolute right-0 mt-2 w-48 rounded-lg shadow-lg py-2 ${e==="dark"?"bg-gray-700 text-white":"bg-white text-black"}`,children:[v.jsx(Ko.Item,{children:v.jsx(at,{to:"/profile",className:"block px-4 py-2 hover:bg-gray-200 dark:hover:bg-gray-600",children:"Profile"})}),f&&v.jsx(Ko.Item,{children:v.jsx(at,{to:"/order",className:"block px-4 py-2 hover:bg-gray-200 dark:hover:bg-gray-600",children:"My Orders"})}),v.jsx(Ko.Item,{children:v.jsx("button",{onClick:i,className:"w-full text-left px-4 py-2 hover:bg-gray-200 dark:hover:bg-gray-600",children:"Logout"})})]})})]}):v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(at,{to:"/login",className:"text-lg font-medium hover:text-orange-400",children:"Login"}),v.jsx(at,{to:"/signup",className:"text-lg font-medium hover:text-orange-400",children:"Signup"})]})]})]})]})}function tO(){const t=w.useContext(jt),{toggleMode:e,mode:n}=t;return v.jsxs("footer",{className:"text-gray-600 body-font bg-gray-300",style:{backgroundColor:n==="dark"?"rgb(46 49 55)":"",color:n==="dark"?"white":""},children:[v.jsx("div",{className:"container px-5 py-24 mx-auto",children:v.jsxs("div",{className:"flex flex-wrap md:text-left text-center order-first",children:[v.jsxs("div",{className:"lg:w-1/4 md:w-1/2 w-full px-4",children:[v.jsx("h2",{className:"title-font font-medium text-gray-900 tracking-widest text-sm mb-3",style:{color:n==="dark"?"white":""},children:"CATEGORIES"}),v.jsxs("nav",{className:"list-none mb-10",children:[v.jsx("li",{children:v.jsx("a",{className:"text-gray-600 hover:text-gray-800",style:{color:n==="dark"?"white":""},children:"Home"})}),v.jsx("li",{children:v.jsx("a",{className:"text-gray-600 hover:text-gray-800",style:{color:n==="dark"?"white":""},children:"Order"})}),v.jsx("li",{children:v.jsx("a",{className:"text-gray-600 hover:text-gray-800",style:{color:n==="dark"?"white":""},children:"Local For Vocal"})}),v.jsx("li",{children:v.jsx("a",{className:"text-gray-600 hover:text-gray-800",style:{color:n==="dark"?"white":""},children:"Cart"})})]})]}),v.jsxs("div",{className:"lg:w-1/4 md:w-1/2 w-full px-4",children:[v.jsx("h2",{className:"title-font font-medium text-gray-900 tracking-widest text-sm mb-3 uppercase",style:{color:n==="dark"?"white":""},children:"Customer Service"}),v.jsxs("nav",{className:"list-none mb-10",children:[v.jsx("li",{children:v.jsx(at,{to:"/returnpolicy",className:"text-gray-600 hover:text-gray-800",style:{color:n==="dark"?"white":""},children:"Return Policy"})}),v.jsx("li",{children:v.jsx(at,{to:"/about",className:"text-gray-600 hover:text-gray-800",style:{color:n==="dark"?"white":""},children:"About"})}),v.jsx("li",{children:v.jsx(at,{to:"/contact",className:"text-gray-600 hover:text-gray-800",style:{color:n==="dark"?"white":""},children:"Contact Us"})})]})]}),v.jsxs("div",{className:"lg:w-1/4 md:w-1/2 w-full px-4",children:[v.jsx("h2",{className:"title-font font-medium text-gray-900 tracking-widest text-sm mb-3",style:{color:n==="dark"?"white":""},children:"Services"}),v.jsx("nav",{className:"list-none mb-10",children:v.jsx("li",{children:v.jsx(at,{to:"/privacypolicy",className:"text-gray-600 hover:text-gray-800",style:{color:n==="dark"?"white":""},children:"Privacy"})})})]}),v.jsx("div",{className:"lg:w-1/4 md:w-1/2 w-full px-4",children:v.jsx("img",{src:"https://ecommerce-sk.vercel.app/pay.png",alt:""})})]})}),v.jsx("div",{className:"bg-gray-200",style:{backgroundColor:n==="dark"?"rgb(55 57 61)":"",color:n==="dark"?"white":""},children:v.jsxs("div",{className:"container px-5 py-3 mx-auto flex items-center sm:flex-row flex-col",children:[v.jsxs(at,{to:"/",className:"flex",children:["np",v.jsx("div",{className:"flex ",children:v.jsx("h1",{className:" text-2xl font-bold text-black  px-2 py-1 rounded",style:{color:n==="dark"?"white":""},children:"E- MART"})})]}),v.jsxs("p",{className:"text-sm text-gray-500 sm:ml-6 sm:mt-0 mt-4",style:{color:n==="dark"?"white":""},children:[" 2023 E- MART ",v.jsx("a",{href:"https://twitter.com/knyttneve",rel:"noopener noreferrer",className:"text-gray-600 ml-1",target:"_blank",style:{color:n==="dark"?"white":""},children:"www.emart.com"})]}),v.jsxs("span",{className:"inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start",children:[v.jsx("a",{className:"text-gray-500",children:v.jsx("svg",{fill:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"w-5 h-5",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"})})}),v.jsx("a",{className:"ml-3 text-gray-500",children:v.jsx("svg",{fill:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"w-5 h-5",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"})})}),v.jsx("a",{className:"ml-3 text-gray-500",children:v.jsxs("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"w-5 h-5",viewBox:"0 0 24 24",children:[v.jsx("rect",{width:20,height:20,x:2,y:2,rx:5,ry:5}),v.jsx("path",{d:"M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01"})]})}),v.jsx("a",{className:"ml-3 text-gray-500",children:v.jsxs("svg",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:0,className:"w-5 h-5",viewBox:"0 0 24 24",children:[v.jsx("path",{stroke:"none",d:"M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"}),v.jsx("circle",{cx:4,cy:4,r:2,stroke:"none"})]})})]})]})})]})}const Wa=({children:t})=>v.jsxs("div",{children:[v.jsx(eO,{}),v.jsx("div",{className:"",children:t}),v.jsx(tO,{})]});function nO(){const t=["https://static.vecteezy.com/system/resources/previews/004/299/835/original/online-shopping-on-phone-buy-sell-business-digital-web-banner-application-money-advertising-payment-ecommerce-illustration-search-free-vector.jpg","https://static.vecteezy.com/system/resources/previews/001/213/384/large_2x/online-shopping-mobile-app-with-truck-and-delivery-man-vector.jpg","https://static.vecteezy.com/system/resources/previews/001/370/039/non_2x/online-shopping-concept-with-mobile-phone-free-vector.jpg","https://static.vecteezy.com/system/resources/previews/001/177/137/non_2x/online-shopping-concept-for-mobile-application-vector.jpg"],[e,n]=w.useState(0);return w.useEffect(()=>{const i=setInterval(()=>{n(a=>a===t.length-1?0:a+1)},3e3);return()=>clearInterval(i)},[t.length]),v.jsxs("div",{className:"w-full h-[250px] md:h-[400px] overflow-hidden relative rounded-lg shadow-lg",children:[v.jsx("div",{className:"flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${e*100}%)`},children:t.map((i,a)=>v.jsx("img",{src:i,alt:`Slide ${a+1}`,className:"w-full h-[250px] md:h-[400px] object-cover flex-shrink-0"},a))}),v.jsx("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex gap-2",children:t.map((i,a)=>v.jsx("div",{className:`w-3 h-3 rounded-full ${e===a?"bg-white":"bg-gray-400"}`},a))})]})}function b2(){const t=w.useContext(jt),{mode:e,searchkey:n,setSearchkey:i,filterType:a,setFilterType:l,filterPrice:c,setFilterPrice:f,product:h}=t;if(!h)return null;const p=[...new Set(h.map(E=>E.category))],y=()=>{i(""),l(""),f("")};return v.jsx("div",{children:v.jsx("div",{className:"container mx-auto px-4 mt-8",children:v.jsxs("div",{className:"p-6 rounded-lg bg-gray-100 drop-shadow-xl border border-gray-200",style:{backgroundColor:e==="dark"?"#282c34":"#f9fafb",color:e==="dark"?"white":"#2d3748"},children:[v.jsxs("div",{className:"relative mb-4",children:[v.jsx("div",{className:"absolute flex items-center ml-3 h-full",children:v.jsx("svg",{className:"w-5 h-5 text-primary-gray-dark",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M15.8898 15.0493L11.8588 11.0182C11.7869 10.9463 11.6932 10.9088 11.5932 10.9088H11.2713C12.3431 9.74952 12.9994 8.20272 12.9994 6.49968C12.9994 2.90923 10.0901 0 6.49968 0C2.90923 0 0 2.90923 0 6.49968C0 10.0901 2.90923 12.9994 6.49968 12.9994C8.20272 12.9994 9.74952 12.3431 10.9088 11.2744V11.5932C10.9088 11.6932 10.9495 11.7869 11.0182 11.8588L15.0493 15.8898C15.1961 16.0367 15.4336 16.0367 15.5805 15.8898L15.8898 15.5805C16.0367 15.4336 16.0367 15.1961 15.8898 15.0493ZM6.49968 11.9994C3.45921 11.9994 0.999951 9.54016 0.999951 6.49968C0.999951 3.45921 3.45921 0.999951 6.49968 0.999951C9.54016 0.999951 11.9994 3.45921 11.9994 6.49968C11.9994 9.54016 9.54016 11.9994 6.49968 11.9994Z"})})}),v.jsx("input",{type:"text",name:"searchkey",value:n,onChange:E=>i(E.target.value),id:"searchkey",placeholder:"Search products...",className:"pl-10 pr-4 py-3 w-full rounded-md bg-violet-50 border-transparent outline-none text-sm focus:ring-2 focus:ring-indigo-600",style:{backgroundColor:e==="dark"?"rgb(64 66 70)":"#fff",color:e==="dark"?"white":"#2d3748"}})]}),v.jsxs("div",{className:"flex items-center justify-between mt-6 mb-4",children:[v.jsx("p",{className:"font-semibold text-lg",children:"Filters"}),v.jsx("button",{onClick:y,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 text-sm font-medium rounded-md",style:{color:e==="dark"?"white":"#2d3748"},children:"Reset Filters"})]}),v.jsx("div",{children:v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:[v.jsxs("select",{value:a,onChange:E=>l(E.target.value),className:"px-4 py-3 w-full rounded-md bg-gray-50 border-transparent outline-0 text-sm focus:ring-2 focus:ring-indigo-600",style:{backgroundColor:e==="dark"?"rgb(64 66 70)":"#fff",color:e==="dark"?"white":"#2d3748"},children:[v.jsx("option",{value:"",children:"Select Category"}),p.map((E,b)=>v.jsx("option",{value:E,children:E},b))]}),v.jsxs("select",{value:c,onChange:E=>f(E.target.value),className:"px-4 py-3 w-full rounded-md bg-gray-50 border-transparent outline-0 text-sm focus:ring-2 focus:ring-indigo-600",style:{backgroundColor:e==="dark"?"rgb(64 66 70)":"#fff",color:e==="dark"?"white":"#2d3748"},children:[v.jsx("option",{value:"",children:"Best Match"}),v.jsx("option",{value:"lth",children:"Price: Low to High"}),v.jsx("option",{value:"htl",children:"Price: High to Low"})]})]})})]})})})}function Xt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var rO=typeof Symbol=="function"&&Symbol.observable||"@@observable",qE=rO,qg=()=>Math.random().toString(36).substring(7).split("").join("."),iO={INIT:`@@redux/INIT${qg()}`,REPLACE:`@@redux/REPLACE${qg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qg()}`},th=iO;function j0(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function E2(t,e,n){if(typeof t!="function")throw new Error(Xt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xt(1));return n(E2)(t,e)}let i=t,a=e,l=new Map,c=l,f=0,h=!1;function p(){c===l&&(c=new Map,l.forEach((C,P)=>{c.set(P,C)}))}function y(){if(h)throw new Error(Xt(3));return a}function E(C){if(typeof C!="function")throw new Error(Xt(4));if(h)throw new Error(Xt(5));let P=!0;p();const L=f++;return c.set(L,C),function(){if(P){if(h)throw new Error(Xt(6));P=!1,p(),c.delete(L),l=null}}}function b(C){if(!j0(C))throw new Error(Xt(7));if(typeof C.type>"u")throw new Error(Xt(8));if(typeof C.type!="string")throw new Error(Xt(17));if(h)throw new Error(Xt(9));try{h=!0,a=i(a,C)}finally{h=!1}return(l=c).forEach(L=>{L()}),C}function T(C){if(typeof C!="function")throw new Error(Xt(10));i=C,b({type:th.REPLACE})}function A(){const C=E;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(Xt(11));function L(){const z=P;z.next&&z.next(y())}return L(),{unsubscribe:C(L)}},[qE](){return this}}}return b({type:th.INIT}),{dispatch:b,subscribe:E,getState:y,replaceReducer:T,[qE]:A}}function sO(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:th.INIT})>"u")throw new Error(Xt(12));if(typeof n(void 0,{type:th.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xt(13))})}function aO(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const i=Object.keys(n);let a;try{sO(n)}catch(l){a=l}return function(c={},f){if(a)throw a;let h=!1;const p={};for(let y=0;y<i.length;y++){const E=i[y],b=n[E],T=c[E],A=b(T,f);if(typeof A>"u")throw f&&f.type,new Error(Xt(14));p[E]=A,h=h||A!==T}return h=h||i.length!==Object.keys(c).length,h?p:c}}function nh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function oO(...t){return e=>(n,i)=>{const a=e(n,i);let l=()=>{throw new Error(Xt(15))};const c={getState:a.getState,dispatch:(h,...p)=>l(h,...p)},f=t.map(h=>h(c));return l=nh(...f)(a.dispatch),{...a,dispatch:l}}}function lO(t){return j0(t)&&"type"in t&&typeof t.type=="string"}var w2=Symbol.for("immer-nothing"),GE=Symbol.for("immer-draftable"),zn=Symbol.for("immer-state");function cr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fl=Object.getPrototypeOf;function Ua(t){return!!t&&!!t[zn]}function Ii(t){var e;return t?T2(t)||Array.isArray(t)||!!t[GE]||!!((e=t.constructor)!=null&&e[GE])||Gh(t)||Kh(t):!1}var uO=Object.prototype.constructor.toString();function T2(t){if(!t||typeof t!="object")return!1;const e=fl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===uO}function rh(t,e){qh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function qh(t){const e=t[zn];return e?e.type_:Array.isArray(t)?1:Gh(t)?2:Kh(t)?3:0}function Cy(t,e){return qh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function x2(t,e,n){const i=qh(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function cO(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Gh(t){return t instanceof Map}function Kh(t){return t instanceof Set}function Ca(t){return t.copy_||t.base_}function Iy(t,e){if(Gh(t))return new Map(t);if(Kh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=T2(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[zn];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const c=a[l],f=i[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(i[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:t[c]})}return Object.create(fl(t),i)}else{const i=fl(t);if(i!==null&&n)return{...t};const a=Object.create(i);return Object.assign(a,t)}}function V0(t,e=!1){return Qh(t)||Ua(t)||!Ii(t)||(qh(t)>1&&(t.set=t.add=t.clear=t.delete=fO),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>V0(i,!0))),t}function fO(){cr(2)}function Qh(t){return Object.isFrozen(t)}var dO={};function za(t){const e=dO[t];return e||cr(0,t),e}var dc;function S2(){return dc}function hO(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function KE(t,e){e&&(za("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ny(t){Dy(t),t.drafts_.forEach(mO),t.drafts_=null}function Dy(t){t===dc&&(dc=t.parent_)}function QE(t){return dc=hO(dc,t)}function mO(t){const e=t[zn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function YE(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[zn].modified_&&(Ny(e),cr(4)),Ii(t)&&(t=ih(e,t),e.parent_||sh(e,t)),e.patches_&&za("Patches").generateReplacementPatches_(n[zn].base_,t,e.patches_,e.inversePatches_)):t=ih(e,n,[]),Ny(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==w2?t:void 0}function ih(t,e,n){if(Qh(e))return e;const i=e[zn];if(!i)return rh(e,(a,l)=>WE(t,i,e,a,l,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return sh(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),rh(l,(f,h)=>WE(t,i,a,f,h,n,c)),sh(t,a,!1),n&&t.patches_&&za("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function WE(t,e,n,i,a,l,c){if(Ua(a)){const f=l&&e&&e.type_!==3&&!Cy(e.assigned_,i)?l.concat(i):void 0,h=ih(t,a,f);if(x2(n,i,h),Ua(h))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(Ii(a)&&!Qh(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ih(t,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&sh(t,a)}}function sh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&V0(e,n)}function pO(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:S2(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=U0;n&&(a=[i],l=hc);const{revoke:c,proxy:f}=Proxy.revocable(a,l);return i.draft_=f,i.revoke_=c,f}var U0={get(t,e){if(e===zn)return t;const n=Ca(t);if(!Cy(n,e))return gO(t,n,e);const i=n[e];return t.finalized_||!Ii(i)?i:i===Gg(t.base_,e)?(Kg(t),t.copy_[e]=Oy(i,t)):i},has(t,e){return e in Ca(t)},ownKeys(t){return Reflect.ownKeys(Ca(t))},set(t,e,n){const i=A2(Ca(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const a=Gg(Ca(t),e),l=a==null?void 0:a[zn];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(cO(n,a)&&(n!==void 0||Cy(t.base_,e)))return!0;Kg(t),ky(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Gg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Kg(t),ky(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ca(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){cr(11)},getPrototypeOf(t){return fl(t.base_)},setPrototypeOf(){cr(12)}},hc={};rh(U0,(t,e)=>{hc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});hc.deleteProperty=function(t,e){return hc.set.call(this,t,e,void 0)};hc.set=function(t,e,n){return U0.set.call(this,t[0],e,n,t[0])};function Gg(t,e){const n=t[zn];return(n?Ca(n):t)[e]}function gO(t,e,n){var a;const i=A2(e,n);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(t.draft_):void 0}function A2(t,e){if(!(e in t))return;let n=fl(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=fl(n)}}function ky(t){t.modified_||(t.modified_=!0,t.parent_&&ky(t.parent_))}function Kg(t){t.copy_||(t.copy_=Iy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var yO=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(h=l,...p){return c.produce(h,y=>n.call(this,y,...p))}}typeof n!="function"&&cr(6),i!==void 0&&typeof i!="function"&&cr(7);let a;if(Ii(e)){const l=QE(this),c=Oy(e,void 0);let f=!0;try{a=n(c),f=!1}finally{f?Ny(l):Dy(l)}return KE(l,i),YE(a,l)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===w2&&(a=void 0),this.autoFreeze_&&V0(a,!0),i){const l=[],c=[];za("Patches").generateReplacementPatches_(e,a,l,c),i(l,c)}return a}else cr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...f)=>this.produceWithPatches(c,h=>e(h,...f));let i,a;return[this.produce(e,n,(c,f)=>{i=c,a=f}),i,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ii(t)||cr(8),Ua(t)&&(t=vO(t));const e=QE(this),n=Oy(t,void 0);return n[zn].isManual_=!0,Dy(e),n}finishDraft(t,e){const n=t&&t[zn];(!n||!n.isManual_)&&cr(9);const{scope_:i}=n;return KE(i,e),YE(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const i=za("Patches").applyPatches_;return Ua(t)?i(t,e):this.produce(t,a=>i(a,e))}};function Oy(t,e){const n=Gh(t)?za("MapSet").proxyMap_(t,e):Kh(t)?za("MapSet").proxySet_(t,e):pO(t,e);return(e?e.scope_:S2()).drafts_.push(n),n}function vO(t){return Ua(t)||cr(10,t),R2(t)}function R2(t){if(!Ii(t)||Qh(t))return t;const e=t[zn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Iy(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Iy(t,!0);return rh(n,(i,a)=>{x2(n,i,R2(a))}),e&&(e.finalized_=!1),n}var $n=new yO,C2=$n.produce;$n.produceWithPatches.bind($n);$n.setAutoFreeze.bind($n);$n.setUseStrictShallowCopy.bind($n);$n.applyPatches.bind($n);$n.createDraft.bind($n);$n.finishDraft.bind($n);function I2(t){return({dispatch:n,getState:i})=>a=>l=>typeof l=="function"?l(n,i,t):a(l)}var _O=I2(),bO=I2,EO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nh:nh.apply(null,arguments)};function XE(t,e){function n(...i){if(e){let a=e(...i);if(!a)throw new Error(Si(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>lO(i)&&i.type===t,n}var N2=class Yu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Yu.prototype)}static get[Symbol.species](){return Yu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Yu(...e[0].concat(this)):new Yu(...e.concat(this))}};function ZE(t){return Ii(t)?C2(t,()=>{}):t}function JE(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function wO(t){return typeof t=="boolean"}var TO=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new N2;return n&&(wO(n)?c.push(_O):c.push(bO(n.extraArgument))),c},xO="RTK_autoBatch",ew=t=>e=>{setTimeout(e,t)},SO=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let a=!0,l=!1,c=!1;const f=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ew(10):t.type==="callback"?t.queueNotification:ew(t.timeout),p=()=>{c=!1,l&&(l=!1,f.forEach(y=>y()))};return Object.assign({},i,{subscribe(y){const E=()=>a&&y(),b=i.subscribe(E);return f.add(y),()=>{b(),f.delete(y)}},dispatch(y){var E;try{return a=!((E=y==null?void 0:y.meta)!=null&&E[xO]),l=!a,l&&(c||(c=!0,h(p))),i.dispatch(y)}finally{a=!0}}})},AO=t=>function(n){const{autoBatch:i=!0}=n??{};let a=new N2(t);return i&&a.push(SO(typeof i=="object"?i:void 0)),a};function RO(t){const e=TO(),{reducer:n=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let f;if(typeof n=="function")f=n;else if(j0(n))f=aO(n);else throw new Error(Si(1));let h;typeof i=="function"?h=i(e):h=e();let p=nh;a&&(p=EO({trace:!1,...typeof a=="object"&&a}));const y=oO(...h),E=AO(y);let b=typeof c=="function"?c(E):E();const T=p(...b);return E2(f,l,T)}function D2(t){const e={},n=[];let i;const a={addCase(l,c){const f=typeof l=="string"?l:l.type;if(!f)throw new Error(Si(28));if(f in e)throw new Error(Si(29));return e[f]=c,a},addMatcher(l,c){return n.push({matcher:l,reducer:c}),a},addDefaultCase(l){return i=l,a}};return t(a),[e,n,i]}function CO(t){return typeof t=="function"}function IO(t,e){let[n,i,a]=D2(e),l;if(CO(t))l=()=>ZE(t());else{const f=ZE(t);l=()=>f}function c(f=l(),h){let p=[n[h.type],...i.filter(({matcher:y})=>y(h)).map(({reducer:y})=>y)];return p.filter(y=>!!y).length===0&&(p=[a]),p.reduce((y,E)=>{if(E)if(Ua(y)){const T=E(y,h);return T===void 0?y:T}else{if(Ii(y))return C2(y,b=>E(b,h));{const b=E(y,h);if(b===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return y},f)}return c.getInitialState=l,c}var NO=Symbol.for("rtk-slice-createasyncthunk");function DO(t,e){return`${t}/${e}`}function kO({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[NO];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(Si(11));const f=(typeof a.reducers=="function"?a.reducers(MO()):a.reducers)||{},h=Object.keys(f),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(I,z){const q=typeof I=="string"?I:I.type;if(!q)throw new Error(Si(12));if(q in p.sliceCaseReducersByType)throw new Error(Si(13));return p.sliceCaseReducersByType[q]=z,y},addMatcher(I,z){return p.sliceMatchers.push({matcher:I,reducer:z}),y},exposeAction(I,z){return p.actionCreators[I]=z,y},exposeCaseReducer(I,z){return p.sliceCaseReducersByName[I]=z,y}};h.forEach(I=>{const z=f[I],q={reducerName:I,type:DO(l,I),createNotation:typeof a.reducers=="function"};jO(z)?UO(q,z,y,e):LO(q,z,y)});function E(){const[I={},z=[],q=void 0]=typeof a.extraReducers=="function"?D2(a.extraReducers):[a.extraReducers],te={...I,...p.sliceCaseReducersByType};return IO(a.initialState,O=>{for(let N in te)O.addCase(N,te[N]);for(let N of p.sliceMatchers)O.addMatcher(N.matcher,N.reducer);for(let N of z)O.addMatcher(N.matcher,N.reducer);q&&O.addDefaultCase(q)})}const b=I=>I,T=new Map;let A;function D(I,z){return A||(A=E()),A(I,z)}function C(){return A||(A=E()),A.getInitialState()}function P(I,z=!1){function q(O){let N=O[I];return typeof N>"u"&&z&&(N=C()),N}function te(O=b){const N=JE(T,z,()=>new WeakMap);return JE(N,O,()=>{const M={};for(const[V,U]of Object.entries(a.selectors??{}))M[V]=OO(U,O,C,z);return M})}return{reducerPath:I,getSelectors:te,get selectors(){return te(q)},selectSlice:q}}const L={name:l,reducer:D,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:C,...P(c),injectInto(I,{reducerPath:z,...q}={}){const te=z??c;return I.inject({reducerPath:te,reducer:D},q),{...L,...P(te,!0)}}};return L}}function OO(t,e,n,i){function a(l,...c){let f=e(l);return typeof f>"u"&&i&&(f=n()),t(f,...c)}return a.unwrapped=t,a}var PO=kO();function MO(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function LO({type:t,reducerName:e,createNotation:n},i,a){let l,c;if("reducer"in i){if(n&&!VO(i))throw new Error(Si(17));l=i.reducer,c=i.prepare}else l=i;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?XE(t,c):XE(t))}function jO(t){return t._reducerDefinitionType==="asyncThunk"}function VO(t){return t._reducerDefinitionType==="reducerWithPrepare"}function UO({type:t,reducerName:e},n,i,a){if(!a)throw new Error(Si(18));const{payloadCreator:l,fulfilled:c,pending:f,rejected:h,settled:p,options:y}=n,E=a(t,l,y);i.exposeAction(e,E),c&&i.addCase(E.fulfilled,c),f&&i.addCase(E.pending,f),h&&i.addCase(E.rejected,h),p&&i.addMatcher(E.settled,p),i.exposeCaseReducer(e,{fulfilled:c||Ed,pending:f||Ed,rejected:h||Ed,settled:p||Ed})}function Ed(){}function Si(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const zO=JSON.parse(localStorage.getItem("cart"))??[],k2=PO({name:"cart",initialState:zO,reducers:{addToCart(t,e){t.push(e.payload)},deleteFromCart(t,e){return t.filter(n=>n.id!=e.payload.id)}}}),{addToCart:z0,deleteFromCart:tw}=k2.actions,$O=k2.reducer;function FO(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}FO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Oc=t=>typeof t=="number"&&!isNaN(t),$a=t=>typeof t=="string",Ni=t=>typeof t=="function",BO=t=>$a(t)||Oc(t),Py=t=>$a(t)||Ni(t)?t:null,HO=(t,e)=>t===!1||Oc(t)&&t>0?t:e,My=t=>w.isValidElement(t)||$a(t)||Ni(t)||Oc(t);function qO(t,e,n=300){let{scrollHeight:i,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function GO({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:f,done:h,nodeRef:p,isIn:y,playToast:E}){let b=n?`${t}--${c}`:t,T=n?`${e}--${c}`:e,A=w.useRef(0);return w.useLayoutEffect(()=>{let D=p.current,C=b.split(" "),P=L=>{L.target===p.current&&(E(),D.removeEventListener("animationend",P),D.removeEventListener("animationcancel",P),A.current===0&&L.type!=="animationcancel"&&D.classList.remove(...C))};D.classList.add(...C),D.addEventListener("animationend",P),D.addEventListener("animationcancel",P)},[]),w.useEffect(()=>{let D=p.current,C=()=>{D.removeEventListener("animationend",C),i?qO(D,h,a):h()};y||(f?C():(A.current=1,D.className+=` ${T}`,D.addEventListener("animationend",C)))},[y]),de.createElement(de.Fragment,null,l)}}function nw(t,e){return{content:O2(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function O2(t,e,n=!1){return w.isValidElement(t)&&!$a(t.type)?w.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Ni(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function KO({closeToast:t,theme:e,ariaLabel:n="close"}){return de.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},de.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},de.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function QO({delay:t,isRunning:e,closeToast:n,type:i="default",hide:a,className:l,controlledProgress:c,progress:f,rtl:h,isIn:p,theme:y}){let E=a||c&&f===0,b={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};c&&(b.transform=`scaleX(${f})`);let T=dr("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),A=Ni(l)?l({rtl:h,type:i,defaultClassName:T}):dr(T,l),D={[c&&f>=1?"onTransitionEnd":"onAnimationEnd"]:c&&f<1?null:()=>{p&&n()}};return de.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},de.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),de.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:A,style:b,...D}))}var YO=1,P2=()=>`${YO++}`;function WO(t,e,n){let i=1,a=0,l=[],c=[],f=e,h=new Map,p=new Set,y=L=>(p.add(L),()=>p.delete(L)),E=()=>{c=Array.from(h.values()),p.forEach(L=>L())},b=({containerId:L,toastId:I,updateId:z})=>{let q=L?L!==t:t!==1,te=h.has(I)&&z==null;return q||te},T=(L,I)=>{h.forEach(z=>{var q;(I==null||I===z.props.toastId)&&((q=z.toggle)==null||q.call(z,L))})},A=L=>{var I,z;(z=(I=L.props)==null?void 0:I.onClose)==null||z.call(I,L.removalReason),L.isActive=!1},D=L=>{if(L==null)h.forEach(A);else{let I=h.get(L);I&&A(I)}E()},C=()=>{a-=l.length,l=[]},P=L=>{var I,z;let{toastId:q,updateId:te}=L.props,O=te==null;L.staleId&&h.delete(L.staleId),L.isActive=!0,h.set(q,L),E(),n(nw(L,O?"added":"updated")),O&&((z=(I=L.props).onOpen)==null||z.call(I))};return{id:t,props:f,observe:y,toggle:T,removeToast:D,toasts:h,clearQueue:C,buildToast:(L,I)=>{if(b(I))return;let{toastId:z,updateId:q,data:te,staleId:O,delay:N}=I,M=q==null;M&&a++;let V={...f,style:f.toastStyle,key:i++,...Object.fromEntries(Object.entries(I).filter(([B,j])=>j!=null)),toastId:z,updateId:q,data:te,isIn:!1,className:Py(I.className||f.toastClassName),progressClassName:Py(I.progressClassName||f.progressClassName),autoClose:I.isLoading?!1:HO(I.autoClose,f.autoClose),closeToast(B){h.get(z).removalReason=B,D(z)},deleteToast(){let B=h.get(z);if(B!=null){if(n(nw(B,"removed")),h.delete(z),a--,a<0&&(a=0),l.length>0){P(l.shift());return}E()}}};V.closeButton=f.closeButton,I.closeButton===!1||My(I.closeButton)?V.closeButton=I.closeButton:I.closeButton===!0&&(V.closeButton=My(f.closeButton)?f.closeButton:!0);let U={content:L,props:V,staleId:O};f.limit&&f.limit>0&&a>f.limit&&M?l.push(U):Oc(N)?setTimeout(()=>{P(U)},N):P(U)},setProps(L){f=L},setToggle:(L,I)=>{let z=h.get(L);z&&(z.toggle=I)},isToastActive:L=>{var I;return(I=h.get(L))==null?void 0:I.isActive},getSnapshot:()=>c}}var _n=new Map,mc=[],Ly=new Set,XO=t=>Ly.forEach(e=>e(t)),M2=()=>_n.size>0;function ZO(){mc.forEach(t=>j2(t.content,t.options)),mc=[]}var JO=(t,{containerId:e})=>{var n;return(n=_n.get(e||1))==null?void 0:n.toasts.get(t)};function L2(t,e){var n;if(e)return!!((n=_n.get(e))!=null&&n.isToastActive(t));let i=!1;return _n.forEach(a=>{a.isToastActive(t)&&(i=!0)}),i}function e3(t){if(!M2()){mc=mc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||BO(t))_n.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=_n.get(t.containerId);e?e.removeToast(t.id):_n.forEach(n=>{n.removeToast(t.id)})}}var t3=(t={})=>{_n.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function j2(t,e){My(t)&&(M2()||mc.push({content:t,options:e}),_n.forEach(n=>{n.buildToast(t,e)}))}function n3(t){var e;(e=_n.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function V2(t,e){_n.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function r3(t){let e=t.containerId||1;return{subscribe(n){let i=WO(e,t,XO);_n.set(e,i);let a=i.observe(n);return ZO(),()=>{a(),_n.delete(e)}},setProps(n){var i;(i=_n.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=_n.get(e))==null?void 0:n.getSnapshot()}}}function i3(t){return Ly.add(t),()=>{Ly.delete(t)}}function s3(t){return t&&($a(t.toastId)||Oc(t.toastId))?t.toastId:P2()}function Pc(t,e){return j2(t,e),e.toastId}function Yh(t,e){return{...e,type:e&&e.type||t,toastId:s3(e)}}function Wh(t){return(e,n)=>Pc(e,Yh(t,n))}function we(t,e){return Pc(t,Yh("default",e))}we.loading=(t,e)=>Pc(t,Yh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function a3(t,{pending:e,error:n,success:i},a){let l;e&&(l=$a(e)?we.loading(e,a):we.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(p,y,E)=>{if(y==null){we.dismiss(l);return}let b={type:p,...c,...a,data:E},T=$a(y)?{render:y}:y;return l?we.update(l,{...b,...T}):we(T.render,{...b,...T}),E},h=Ni(t)?t():t;return h.then(p=>f("success",i,p)).catch(p=>f("error",n,p)),h}we.promise=a3;we.success=Wh("success");we.info=Wh("info");we.error=Wh("error");we.warning=Wh("warning");we.warn=we.warning;we.dark=(t,e)=>Pc(t,Yh("default",{theme:"dark",...e}));function o3(t){e3(t)}we.dismiss=o3;we.clearWaitingQueue=t3;we.isActive=L2;we.update=(t,e={})=>{let n=JO(t,e);if(n){let{props:i,content:a}=n,l={delay:100,...i,...e,toastId:e.toastId||t,updateId:P2()};l.toastId!==t&&(l.staleId=t);let c=l.render||a;delete l.render,Pc(c,l)}};we.done=t=>{we.update(t,{progress:1})};we.onChange=i3;we.play=t=>V2(!0,t);we.pause=t=>V2(!1,t);function l3(t){var e;let{subscribe:n,getSnapshot:i,setProps:a}=w.useRef(r3(t)).current;a(t);let l=(e=w.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function c(f){if(!l)return[];let h=new Map;return t.newestOnTop&&l.reverse(),l.forEach(p=>{let{position:y}=p.props;h.has(y)||h.set(y,[]),h.get(y).push(p)}),Array.from(h,p=>f(p[0],p[1]))}return{getToastToRender:c,isToastActive:L2,count:l==null?void 0:l.length}}function u3(t){let[e,n]=w.useState(!1),[i,a]=w.useState(!1),l=w.useRef(null),c=w.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:h,closeToast:p,onClick:y,closeOnClick:E}=t;n3({id:t.toastId,containerId:t.containerId,fn:n}),w.useEffect(()=>{if(t.pauseOnFocusLoss)return b(),()=>{T()}},[t.pauseOnFocusLoss]);function b(){document.hasFocus()||P(),window.addEventListener("focus",C),window.addEventListener("blur",P)}function T(){window.removeEventListener("focus",C),window.removeEventListener("blur",P)}function A(O){if(t.draggable===!0||t.draggable===O.pointerType){L();let N=l.current;c.canCloseOnClick=!0,c.canDrag=!0,N.style.transition="none",t.draggableDirection==="x"?(c.start=O.clientX,c.removalDistance=N.offsetWidth*(t.draggablePercent/100)):(c.start=O.clientY,c.removalDistance=N.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function D(O){let{top:N,bottom:M,left:V,right:U}=l.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&t.pauseOnHover&&O.clientX>=V&&O.clientX<=U&&O.clientY>=N&&O.clientY<=M?P():C()}function C(){n(!0)}function P(){n(!1)}function L(){c.didMove=!1,document.addEventListener("pointermove",z),document.addEventListener("pointerup",q)}function I(){document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",q)}function z(O){let N=l.current;if(c.canDrag&&N){c.didMove=!0,e&&P(),t.draggableDirection==="x"?c.delta=O.clientX-c.start:c.delta=O.clientY-c.start,c.start!==O.clientX&&(c.canCloseOnClick=!1);let M=t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;N.style.transform=`translate3d(${M},0)`,N.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function q(){I();let O=l.current;if(c.canDrag&&c.didMove&&O){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let te={onPointerDown:A,onPointerUp:D};return f&&h&&(te.onMouseEnter=P,t.stacked||(te.onMouseLeave=C)),E&&(te.onClick=O=>{y&&y(O),c.canCloseOnClick&&p(!0)}),{playToast:C,pauseToast:P,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:te}}var c3=typeof window<"u"?w.useLayoutEffect:w.useEffect,Xh=({theme:t,type:e,isLoading:n,...i})=>de.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function f3(t){return de.createElement(Xh,{...t},de.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function d3(t){return de.createElement(Xh,{...t},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function h3(t){return de.createElement(Xh,{...t},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function m3(t){return de.createElement(Xh,{...t},de.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function p3(){return de.createElement("div",{className:"Toastify__spinner"})}var jy={info:d3,warning:f3,success:h3,error:m3,spinner:p3},g3=t=>t in jy;function y3({theme:t,type:e,isLoading:n,icon:i}){let a=null,l={theme:t,type:e};return i===!1||(Ni(i)?a=i({...l,isLoading:n}):w.isValidElement(i)?a=w.cloneElement(i,l):n?a=jy.spinner():g3(e)&&(a=jy[e](l))),a}var v3=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:a,playToast:l}=u3(t),{closeButton:c,children:f,autoClose:h,onClick:p,type:y,hideProgressBar:E,closeToast:b,transition:T,position:A,className:D,style:C,progressClassName:P,updateId:L,role:I,progress:z,rtl:q,toastId:te,deleteToast:O,isIn:N,isLoading:M,closeOnClick:V,theme:U,ariaLabel:B}=t,j=dr("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":q},{"Toastify__toast--close-on-click":V}),he=Ni(D)?D({rtl:q,position:A,type:y,defaultClassName:j}):dr(j,D),ve=y3(t),K=!!z||!h,ie={closeToast:b,type:y,theme:U},ue=null;return c===!1||(Ni(c)?ue=c(ie):w.isValidElement(c)?ue=w.cloneElement(c,ie):ue=KO(ie)),de.createElement(T,{isIn:N,done:O,position:A,preventExitTransition:n,nodeRef:i,playToast:l},de.createElement("div",{id:te,tabIndex:0,onClick:p,"data-in":N,className:he,...a,style:C,ref:i,...N&&{role:I,"aria-label":B}},ve!=null&&de.createElement("div",{className:dr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},ve),O2(f,t,!e),ue,!t.customProgressBar&&de.createElement(QO,{...L&&!K?{key:`p-${L}`}:{},rtl:q,theme:U,delay:h,isRunning:e,isIn:N,closeToast:b,hide:E,type:y,className:P,controlledProgress:K,progress:z||0})))},_3=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),b3=GO(_3("bounce",!0)),E3={position:"top-right",transition:b3,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function w3(t){let e={...E3,...t},n=t.stacked,[i,a]=w.useState(!0),l=w.useRef(null),{getToastToRender:c,isToastActive:f,count:h}=l3(e),{className:p,style:y,rtl:E,containerId:b,hotKeys:T}=e;function A(C){let P=dr("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":E});return Ni(p)?p({position:C,rtl:E,defaultClassName:P}):dr(P,Py(p))}function D(){n&&(a(!0),we.play())}return c3(()=>{var C;if(n){let P=l.current.querySelectorAll('[data-in="true"]'),L=12,I=(C=e.position)==null?void 0:C.includes("top"),z=0,q=0;Array.from(P).reverse().forEach((te,O)=>{let N=te;N.classList.add("Toastify__toast--stacked"),O>0&&(N.dataset.collapsed=`${i}`),N.dataset.pos||(N.dataset.pos=I?"top":"bot");let M=z*(i?.2:1)+(i?0:L*O);N.style.setProperty("--y",`${I?M:M*-1}px`),N.style.setProperty("--g",`${L}`),N.style.setProperty("--s",`${1-(i?q:0)}`),z+=N.offsetHeight,q+=.025})}},[i,h,n]),w.useEffect(()=>{function C(P){var L;let I=l.current;T(P)&&((L=I.querySelector('[tabIndex="0"]'))==null||L.focus(),a(!1),we.pause()),P.key==="Escape"&&(document.activeElement===I||I!=null&&I.contains(document.activeElement))&&(a(!0),we.play())}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[T]),de.createElement("section",{ref:l,className:"Toastify",id:b,onMouseEnter:()=>{n&&(a(!1),we.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((C,P)=>{let L=P.length?{...y}:{...y,pointerEvents:"none"};return de.createElement("div",{tabIndex:-1,className:A(C),"data-stacked":n,style:L,key:`c-${C}`},P.map(({content:I,props:z})=>de.createElement(v3,{...z,stacked:n,collapseAll:D,isIn:f(z.toastId,z.containerId),key:`t-${z.key}`},I)))}))}function T3(){const t=w.useContext(jt),{mode:e,product:n,searchkey:i,setSearchkey:a,filterType:l,setFilterType:c,filterPrice:f,setFilterPrice:h}=t,p=Hh(),y=kc(b=>b.cart),E=b=>{p(z0(b)),we.success("Add to cart",{position:"top-center"})};return w.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(y))},[y]),v.jsx("section",{className:"text-gray-600 body-font",children:v.jsxs("div",{className:"container px-5 py-8 md:py-16 mx-auto",children:[v.jsxs("div",{className:"lg:w-1/2 w-full mb-6 lg:mb-10",children:[v.jsx("h1",{className:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900",style:{color:e==="dark"?"white":""},children:"Our Latest Collection"}),v.jsx("div",{className:"h-1 w-20 bg-orange-400 rounded"})]}),v.jsx("div",{className:"flex flex-wrap -m-4",children:n.filter(b=>b.title.toLowerCase().includes(i.toLowerCase())).filter(b=>b.category.toLowerCase().includes(l.toLowerCase())).filter(b=>{if(f){const T=f.split("-"),A=parseInt(T[0]),D=T[1]==="+"?1/0:parseInt(T[1]);return b.price>=A&&b.price<=D}return!0}).sort((b,T)=>{if(b.price&&T.price){if(f==="htl")return T.price-b.price;if(f==="lth")return b.price-T.price}return 0}).slice(0,8).map((b,T)=>{const{title:A,price:D,imageUrl:C,id:P,rating:L=0,totalRatings:I=0}=b;return v.jsx("div",{className:"p-4 md:w-1/4 drop-shadow-lg",children:v.jsxs("div",{className:"h-full border-2 hover:shadow-gray-100 hover:shadow-2xl transition-shadow duration-300 ease-in-out border-gray-200 border-opacity-60 rounded-2xl overflow-hidden",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[v.jsx("div",{onClick:()=>window.location.href=`/productinfo/${P}`,className:"flex justify-center cursor-pointer",children:v.jsx("img",{className:"rounded-2xl w-full h-86 p-3 hover:scale-110 transition-transform duration-300 ease-in-out",src:C,alt:"product"})}),v.jsxs("div",{className:"p-5 border-t-2",children:[v.jsx("h2",{className:"tracking-widest text-xs title-font font-medium text-gray-400 mb-1",style:{color:e==="dark"?"white":""},children:"E- MART"}),v.jsx("h1",{className:"title-font text-lg hideExtra font-medium text-gray-900 mb-3",style:{color:e==="dark"?"white":""},children:A}),v.jsxs("p",{className:"leading-relaxed mb-3 font-bold",style:{color:e==="dark"?"white":""},children:[D," TK"]}),v.jsxs("div",{className:"flex items-center mb-3",children:[Array.from({length:5}).map((z,q)=>{const te=q+1;return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:te<=Math.round(L)?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5 text-orange-400",children:v.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})},q)}),v.jsxs("span",{className:"text-gray-600 ml-2",style:{color:e==="dark"?"white":""},children:["(",I," Reviews)"]})]}),v.jsx("div",{className:" flex justify-center",children:v.jsx("button",{type:"button",onClick:()=>E(b),className:"focus:outline-none text-white bg-orange-400 hover:bg-orange-500 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm w-full cursor py-2",children:"Add To Cart"})}),v.jsx("div",{className:"flex justify-center mt-2",children:v.jsx("button",{onClick:()=>window.location.href=`/productinfo/${P}`,className:"focus:outline-none text-white bg-blue-500 hover:bg-blue-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm w-full cursor py-2",children:"View"})})]})]})},T)})})]})})}function x3(){const t=w.useContext(jt),{mode:e}=t;return v.jsx("div",{children:v.jsx("section",{className:"text-gray-600 body-font mb-10",children:v.jsxs("div",{className:"container px-5 py-10 mx-auto",children:[v.jsx("h1",{className:" text-center text-3xl font-bold text-black",style:{color:e==="dark"?"white":""},children:"Testimonial"}),v.jsxs("h2",{className:" text-center text-2xl font-semibold mb-10",style:{color:e==="dark"?"white":""},children:["What our ",v.jsx("span",{className:" text-orange-400",children:"customers"})," are saying"]}),v.jsxs("div",{className:"flex flex-wrap -m-4",children:[v.jsx("div",{className:"lg:w-1/3 lg:mb-0 mb-6 p-4",children:v.jsxs("div",{className:"h-full text-center",children:[v.jsx("img",{alt:"testimonial",className:"w-20 h-20 mb-8 object-cover object-center rounded-full inline-block border-2 border-gray-200 bg-gray-100",src:"https://res.cloudinary.com/dvzvnbvmw/image/upload/v1741874092/websiteLogo_yqdiz4.png"}),v.jsx("p",{style:{color:e==="dark"?"white":""},className:"leading-relaxed",children:"Edison bulb retro cloud bread echo park, helvetica stumptown taiyaki taxidermy 90's cronut +1 kinfolk. Single-origin coffee ennui shaman taiyaki vape DIY tote bag drinking vinegar cronut adaptogen squid fanny pack vaporware."}),v.jsx("span",{className:"inline-block h-1 w-10 rounded bg-orange-400 mt-6 mb-4"}),v.jsx("h2",{style:{color:e==="dark"?"orange":""},className:"text-gray-900 font-medium title-font tracking-wider text-sm uppercase",children:"Azman Sarker"}),v.jsx("p",{style:{color:e==="dark"?"white":""},className:"text-gray-500",children:"Senior Product Designer"})]})}),v.jsx("div",{className:"lg:w-1/3 lg:mb-0 mb-6 p-4",children:v.jsxs("div",{className:"h-full text-center",children:[v.jsx("img",{alt:"testimonial",className:"w-20 h-20 mb-8 object-cover object-center rounded-full inline-block border-2 border-gray-200 bg-gray-100",src:"https://cdn-icons-png.flaticon.com/128/2763/2763444.png"}),v.jsx("p",{style:{color:e==="dark"?"white":""},className:"leading-relaxed",children:"Edison bulb retro cloud bread echo park, helvetica stumptown taiyaki taxidermy 90's cronut +1 kinfolk. Single-origin coffee ennui shaman taiyaki vape DIY tote bag drinking vinegar cronut adaptogen squid fanny pack vaporware."}),v.jsx("span",{className:"inline-block h-1 w-10 rounded bg-orange-400 mt-6 mb-4"}),v.jsx("h2",{style:{color:e==="dark"?"orange":""},className:"text-gray-900 font-medium title-font tracking-wider text-sm uppercase",children:"React Js"}),v.jsx("p",{style:{color:e==="dark"?"white":""},className:"text-gray-500",children:"UI Develeoper"})]})}),v.jsx("div",{className:"lg:w-1/3 lg:mb-0 p-4",children:v.jsxs("div",{className:"h-full text-center",children:[v.jsx("img",{alt:"testimonial",className:"w-20 h-20 mb-8 object-cover object-center rounded-full inline-block border-2 border-gray-200 bg-gray-100",src:"https://webknudocs.vercel.app/logo/react.png"}),v.jsx("p",{style:{color:e==="dark"?"white":""},className:"leading-relaxed",children:"Edison bulb retro cloud bread echo park, helvetica stumptown taiyaki taxidermy 90's cronut +1 kinfolk. Single-origin coffee ennui shaman taiyaki vape DIY tote bag drinking vinegar cronut adaptogen squid fanny pack vaporware."}),v.jsx("span",{className:"inline-block h-1 w-10 rounded bg-orange-400 mt-6 mb-4"}),v.jsx("h2",{style:{color:e==="dark"?"orange":""},className:"text-gray-900 font-medium title-font tracking-wider text-sm uppercase",children:"React Js"}),v.jsx("p",{style:{color:e==="dark"?"white":""},className:"text-gray-500",children:"CTO"})]})})]})]})})})}function S3(){const t=w.useContext(jt),{toggleMode:e,mode:n}=t;return v.jsx("div",{children:v.jsx("section",{className:"text-gray-600 body-font",children:v.jsx("div",{className:"container px-5 md:py-5  mx-auto",children:v.jsxs("div",{className:"flex flex-wrap -m-4 text-center",children:[v.jsx("div",{className:"p-4 md:w-1/3 sm:w-1/2 w-full",children:v.jsxs("div",{className:"border-2 hover:shadow-xl hover:shadow-gray-200 border-gray-200 bg-gray-100 shadow-[inset_0_0_2px_rgba(0,0,0,0.6)] px-4 py-6 rounded-lg",style:{backgroundColor:n==="dark"?"rgb(46 49 55)":"",color:n==="dark"?"white":""},children:[v.jsx("svg",{className:"text-orange-400 w-12 h-12 mb-3 inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),v.jsx("h2",{className:"title-font font-medium text-lg text-gray-900",style:{color:n==="dark"?"white":""},children:"Premium Tshirts"}),v.jsx("p",{className:"leading-relaxed",children:"Our T-Shirts are 100% made of cotton."})]})}),v.jsx("div",{className:"p-4 md:w-1/3 sm:w-1/2 w-full",children:v.jsxs("div",{className:"border-2 hover:shadow-xl hover:shadow-gray-200 border-gray-200 bg-gray-100  px-4 py-6 rounded-lg",style:{backgroundColor:n==="dark"?"rgb(46 49 55)":"",color:n==="dark"?"white":""},children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"text-orange-400 w-12 h-12 mb-3 inline-block",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})}),v.jsx("h2",{className:"title-font font-medium text-lg text-gray-900",style:{color:n==="dark"?"white":""},children:" Shipping"}),v.jsx("p",{className:"leading-relaxed",children:"We ship all over Bangladesh."})]})}),v.jsx("div",{className:"p-4 md:w-1/3 sm:w-1/2 w-full",children:v.jsxs("div",{className:"border-2 hover:shadow-xl hover:shadow-gray-200 border-gray-200 bg-gray-100 shadow-[inset_0_0_2px_rgba(0,0,0,0.6)] px-4 py-6 rounded-lg",style:{backgroundColor:n==="dark"?"rgb(46 49 55)":"",color:n==="dark"?"white":""},children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"text-orange-400 w-12 h-12 mb-3 inline-block",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25H9m6 3H9m3 6l-3-3h1.5a3 3 0 100-6M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsx("h2",{className:"title-font font-medium text-lg text-gray-900",style:{color:n==="dark"?"white":""},children:"Exciting Offers"}),v.jsx("p",{className:"leading-relaxed",children:"We provide amazing offers & discounts"})]})})]})})})})}const A3=()=>{const t=w.useContext(jt),{mode:e}=t;return v.jsxs(Wa,{children:[v.jsx(nO,{}),v.jsx(b2,{}),v.jsx(T3,{}),v.jsx(at,{to:"/allproducts",className:"flex justify-center items-center text-md  ",style:{color:e==="dark"?"white":""},children:"more products..."}),v.jsx(S3,{}),v.jsx(x3,{})]})};function $0(){return v.jsx("div",{children:v.jsxs("div",{role:"status",className:"absolute top-0 right-0 bottom-0 left-0 m-auto w-[3em] h-10 md:h-32 z-50",children:[v.jsxs("svg",{"aria-hidden":"true",className:"w-10 h-10 text-gray-300 animate-spin fill-violet-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),v.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),v.jsx("span",{className:"sr-only",children:"Loading..."})]})})}function R3(){const t=JSON.parse(localStorage.getItem("user")).user.uid,e=w.useContext(jt),{mode:n,loading:i,order:a,submitReview:l}=e,c=a.filter(f=>f.userid===t);return v.jsx(Wa,{children:v.jsxs("div",{className:"p-4",children:[i&&v.jsx($0,{}),c.length===0?v.jsx("p",{className:"text-center text-lg",children:"No orders found!"}):c.map((f,h)=>v.jsxs("div",{children:[v.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Order Placed: ",f.date||"Unknown date"]}),f.cartItems&&f.cartItems.map((p,y)=>v.jsxs("div",{className:`rounded-lg shadow-md p-6 flex flex-col sm:flex-row sm:justify-between mb-6 ${n==="dark"?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:[v.jsx("img",{src:p.imageUrl,alt:p.title,className:"w-full sm:w-40 h-35 rounded-lg"}),v.jsxs("div",{className:"sm:ml-4 flex flex-col justify-between mt-4 sm:mt-0 w-full",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-bold",children:p.title}),v.jsx("p",{className:"mt-1 text-sm",children:p.description}),v.jsxs("p",{className:"mt-1 text-sm font-semibold",children:["Price: ",p.price]})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("label",{className:"block text-sm mb-2 font-semibold",children:"Rate this product:"}),v.jsxs("select",{onChange:E=>l(p.id,parseInt(E.target.value)),defaultValue:"",className:"w-32 p-2 rounded-md border",children:[v.jsx("option",{value:"",disabled:!0,children:"Select Stars"}),[...Array(10)].map((E,b)=>v.jsxs("option",{value:b+1,children:[b+1," Star",b+1>1?"s":""]},b+1))]})]})]})]},y))]},h))]})})}function C3({name:t,address:e,pincode:n,phoneNumber:i,setName:a,setAddress:l,setPincode:c,setPhoneNumber:f,buyNow:h}){let[p,y]=w.useState(!1);function E(){y(!1)}function b(){y(!0)}return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"  text-center rounded-lg text-white font-bold",children:v.jsx("button",{type:"button",onClick:b,className:"w-full  bg-violet-600 py-2 text-center rounded-lg text-white font-bold ",children:"Buy Now"})}),v.jsx(_s,{appear:!0,show:p,as:w.Fragment,children:v.jsxs(eh,{as:"div",className:"relative z-10",onClose:E,children:[v.jsx(_s.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),v.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:v.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:v.jsx(_s.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:v.jsx(eh.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl p-2  text-left align-middle shadow-xl transition-all bg-gray-50",children:v.jsx("section",{className:"",children:v.jsx("div",{className:"flex flex-col items-center justify-center py-8 mx-auto  lg:py-0",children:v.jsx("div",{className:"w-full  rounded-lg md:mt-0 sm:max-w-md xl:p-0 ",children:v.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[v.jsxs("form",{className:"space-y-4 md:space-y-6",action:"#",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-900",children:"Enter Full Name"}),v.jsx("input",{value:t,onChange:T=>a(T.target.value),type:"name",name:"name",id:"name",className:" border outline-0 border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-100",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900",children:"Enter Full Address"}),v.jsx("input",{value:e,onChange:T=>l(T.target.value),type:"text",name:"address",id:"address",className:" border outline-0 border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-100",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"pincode",className:"block mb-2 text-sm font-medium text-gray-900",children:"Enter Pincode"}),v.jsx("input",{value:n,onChange:T=>c(T.target.value),type:"text",name:"pincode",id:"pincode",className:" border outline-0 border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-100",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"mobileNumber",className:"block mb-2 text-sm font-medium text-gray-900",children:"Enter Mobile Number"}),v.jsx("input",{value:i,onChange:T=>f(T.target.value),type:"text",name:"mobileNumber",id:"mobileNumber",className:" border outline-0 border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-100",required:!0})]})]}),v.jsx("button",{onClick:()=>{h(),E()},type:"button",className:"focus:outline-none w-full text-white bg-violet-600 hover:bg-violet-800 cursor outline-0 font-medium rounded-lg text-sm px-5 py-2.5 ",children:"Order Now"})]})})})})})})})})]})})]})}const I3=()=>{};var rw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},N3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},z2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,h=a+2<t.length,p=h?t[a+2]:0,y=l>>2,E=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,T=p&63;h||(T=64,c||(b=64)),i.push(n[y],n[E],n[b],n[T])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const E=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||E==null)throw new D3;const b=l<<2|f>>4;if(i.push(b),p!==64){const T=f<<4&240|p>>2;if(i.push(T),E!==64){const A=p<<6&192|E;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class D3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k3=function(t){const e=U2(t);return z2.encodeByteArray(e,!0)},ah=function(t){return k3(t).replace(/\./g,"")},$2=function(t){try{return z2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=()=>O3().__FIREBASE_DEFAULTS__,M3=()=>{if(typeof process>"u"||typeof rw>"u")return;const t=rw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$2(t[1]);return e&&JSON.parse(e)},Zh=()=>{try{return I3()||P3()||M3()||L3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},F2=t=>{var e,n;return(n=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},j3=t=>{const e=F2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},B2=()=>{var t;return(t=Zh())===null||t===void 0?void 0:t.config},H2=t=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ah(JSON.stringify(n)),ah(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function $3(){var t;const e=(t=Zh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function H3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q3(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function G3(){return!$3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K3(){try{return typeof indexedDB=="object"}catch{return!1}}function Q3(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="FirebaseError";class Li extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Y3,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?W3(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Li(a,f,i)}}function W3(t,e){return t.replace(X3,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const X3=/\{\$([^}]+)}/g;function Z3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(iw(l)&&iw(c)){if(!Fa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function iw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Wu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Xu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function J3(t,e){const n=new e5(t,e);return n.subscribe.bind(n)}class e5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");t5(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Qg),a.error===void 0&&(a.error=Qg),a.complete===void 0&&(a.complete=Qg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class Ba{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new V3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i5(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:r5(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r5(t){return t===Ia?void 0:t}function i5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const a5={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},o5=Ue.INFO,l5={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},u5=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=l5[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class F0{constructor(e){this.name=e,this._logLevel=o5,this._logHandler=u5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const c5=(t,e)=>e.some(n=>t instanceof n);let sw,aw;function f5(){return sw||(sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d5(){return aw||(aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q2=new WeakMap,Vy=new WeakMap,G2=new WeakMap,Yg=new WeakMap,B0=new WeakMap;function h5(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Es(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&q2.set(n,t)}).catch(()=>{}),B0.set(e,t),e}function m5(t){if(Vy.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Vy.set(t,e)}let Uy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||G2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p5(t){Uy=t(Uy)}function g5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Wg(this),e,...n);return G2.set(i,e.sort?e.sort():[e]),Es(i)}:d5().includes(t)?function(...e){return t.apply(Wg(this),e),Es(q2.get(this))}:function(...e){return Es(t.apply(Wg(this),e))}}function y5(t){return typeof t=="function"?g5(t):(t instanceof IDBTransaction&&m5(t),c5(t,f5())?new Proxy(t,Uy):t)}function Es(t){if(t instanceof IDBRequest)return h5(t);if(Yg.has(t))return Yg.get(t);const e=y5(t);return e!==t&&(Yg.set(t,e),B0.set(e,t)),e}const Wg=t=>B0.get(t);function v5(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Es(c);return i&&c.addEventListener("upgradeneeded",h=>{i(Es(c.result),h.oldVersion,h.newVersion,Es(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),f.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const _5=["get","getKey","getAll","getAllKeys","count"],b5=["put","add","delete","clear"],Xg=new Map;function ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xg.get(e))return Xg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=b5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||_5.includes(n)))return;const l=async function(c,...f){const h=this.transaction(c,a?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&h.done]))[0]};return Xg.set(e,l),l}p5(t=>({...t,get:(e,n,i)=>ow(e,n)||t.get(e,n,i),has:(e,n)=>!!ow(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w5(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function w5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zy="@firebase/app",lw="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new F0("@firebase/app"),T5="@firebase/app-compat",x5="@firebase/analytics-compat",S5="@firebase/analytics",A5="@firebase/app-check-compat",R5="@firebase/app-check",C5="@firebase/auth",I5="@firebase/auth-compat",N5="@firebase/database",D5="@firebase/data-connect",k5="@firebase/database-compat",O5="@firebase/functions",P5="@firebase/functions-compat",M5="@firebase/installations",L5="@firebase/installations-compat",j5="@firebase/messaging",V5="@firebase/messaging-compat",U5="@firebase/performance",z5="@firebase/performance-compat",$5="@firebase/remote-config",F5="@firebase/remote-config-compat",B5="@firebase/storage",H5="@firebase/storage-compat",q5="@firebase/firestore",G5="@firebase/vertexai",K5="@firebase/firestore-compat",Q5="firebase",Y5="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="[DEFAULT]",W5={[zy]:"fire-core",[T5]:"fire-core-compat",[S5]:"fire-analytics",[x5]:"fire-analytics-compat",[R5]:"fire-app-check",[A5]:"fire-app-check-compat",[C5]:"fire-auth",[I5]:"fire-auth-compat",[N5]:"fire-rtdb",[D5]:"fire-data-connect",[k5]:"fire-rtdb-compat",[O5]:"fire-fn",[P5]:"fire-fn-compat",[M5]:"fire-iid",[L5]:"fire-iid-compat",[j5]:"fire-fcm",[V5]:"fire-fcm-compat",[U5]:"fire-perf",[z5]:"fire-perf-compat",[$5]:"fire-rc",[F5]:"fire-rc-compat",[B5]:"fire-gcs",[H5]:"fire-gcs-compat",[q5]:"fire-fst",[K5]:"fire-fst-compat",[G5]:"fire-vertex","fire-js":"fire-js",[Q5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,X5=new Map,Fy=new Map;function uw(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dl(t){const e=t.name;if(Fy.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Fy.set(e,t);for(const n of oh.values())uw(n,t);for(const n of X5.values())uw(n,t);return!0}function H0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new Mc("app","Firebase",Z5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=Y5;function K2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:$y,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw ws.create("bad-app-name",{appName:String(a)});if(n||(n=B2()),!n)throw ws.create("no-options");const l=oh.get(a);if(l){if(Fa(n,l.options)&&Fa(i,l.config))return l;throw ws.create("duplicate-app",{appName:a})}const c=new s5(a);for(const h of Fy.values())c.addComponent(h);const f=new J5(n,i,c);return oh.set(a,f),f}function Q2(t=$y){const e=oh.get(t);if(!e&&t===$y&&B2())return K2();if(!e)throw ws.create("no-app",{appName:t});return e}function Ts(t,e,n){var i;let a=(i=W5[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(f.join(" "));return}dl(new Ba(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="firebase-heartbeat-database",tP=1,pc="firebase-heartbeat-store";let Zg=null;function Y2(){return Zg||(Zg=v5(eP,tP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ws.create("idb-open",{originalErrorMessage:t.message})})),Zg}async function nP(t){try{const n=(await Y2()).transaction(pc),i=await n.objectStore(pc).get(W2(t));return await n.done,i}catch(e){if(e instanceof Li)Di.warn(e.message);else{const n=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(n.message)}}}async function cw(t,e){try{const i=(await Y2()).transaction(pc,"readwrite");await i.objectStore(pc).put(e,W2(t)),await i.done}catch(n){if(n instanceof Li)Di.warn(n.message);else{const i=ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Di.warn(i.message)}}}function W2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=1024,iP=30;class sP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=fw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>iP){const c=lP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Di.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fw(),{heartbeatsToSend:i,unsentEntries:a}=aP(this._heartbeatsCache.heartbeats),l=ah(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Di.warn(n),""}}}function fw(){return new Date().toISOString().substring(0,10)}function aP(t,e=rP){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),dw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),dw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class oP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K3()?Q3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function dw(t){return ah(JSON.stringify({version:2,heartbeats:t})).length}function lP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){dl(new Ba("platform-logger",e=>new E5(e),"PRIVATE")),dl(new Ba("heartbeat",e=>new sP(e),"PRIVATE")),Ts(zy,lw,t),Ts(zy,lw,"esm2017"),Ts("fire-js","")}uP("");var hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,X2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,N){function M(){}M.prototype=N.prototype,O.D=N.prototype,O.prototype=new M,O.prototype.constructor=O,O.C=function(V,U,B){for(var j=Array(arguments.length-2),he=2;he<arguments.length;he++)j[he-2]=arguments[he];return N.prototype[U].apply(V,j)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,N,M){M||(M=0);var V=Array(16);if(typeof N=="string")for(var U=0;16>U;++U)V[U]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(U=0;16>U;++U)V[U]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=O.g[0],M=O.g[1],U=O.g[2];var B=O.g[3],j=N+(B^M&(U^B))+V[0]+3614090360&4294967295;N=M+(j<<7&4294967295|j>>>25),j=B+(U^N&(M^U))+V[1]+3905402710&4294967295,B=N+(j<<12&4294967295|j>>>20),j=U+(M^B&(N^M))+V[2]+606105819&4294967295,U=B+(j<<17&4294967295|j>>>15),j=M+(N^U&(B^N))+V[3]+3250441966&4294967295,M=U+(j<<22&4294967295|j>>>10),j=N+(B^M&(U^B))+V[4]+4118548399&4294967295,N=M+(j<<7&4294967295|j>>>25),j=B+(U^N&(M^U))+V[5]+1200080426&4294967295,B=N+(j<<12&4294967295|j>>>20),j=U+(M^B&(N^M))+V[6]+2821735955&4294967295,U=B+(j<<17&4294967295|j>>>15),j=M+(N^U&(B^N))+V[7]+4249261313&4294967295,M=U+(j<<22&4294967295|j>>>10),j=N+(B^M&(U^B))+V[8]+1770035416&4294967295,N=M+(j<<7&4294967295|j>>>25),j=B+(U^N&(M^U))+V[9]+2336552879&4294967295,B=N+(j<<12&4294967295|j>>>20),j=U+(M^B&(N^M))+V[10]+4294925233&4294967295,U=B+(j<<17&4294967295|j>>>15),j=M+(N^U&(B^N))+V[11]+2304563134&4294967295,M=U+(j<<22&4294967295|j>>>10),j=N+(B^M&(U^B))+V[12]+1804603682&4294967295,N=M+(j<<7&4294967295|j>>>25),j=B+(U^N&(M^U))+V[13]+4254626195&4294967295,B=N+(j<<12&4294967295|j>>>20),j=U+(M^B&(N^M))+V[14]+2792965006&4294967295,U=B+(j<<17&4294967295|j>>>15),j=M+(N^U&(B^N))+V[15]+1236535329&4294967295,M=U+(j<<22&4294967295|j>>>10),j=N+(U^B&(M^U))+V[1]+4129170786&4294967295,N=M+(j<<5&4294967295|j>>>27),j=B+(M^U&(N^M))+V[6]+3225465664&4294967295,B=N+(j<<9&4294967295|j>>>23),j=U+(N^M&(B^N))+V[11]+643717713&4294967295,U=B+(j<<14&4294967295|j>>>18),j=M+(B^N&(U^B))+V[0]+3921069994&4294967295,M=U+(j<<20&4294967295|j>>>12),j=N+(U^B&(M^U))+V[5]+3593408605&4294967295,N=M+(j<<5&4294967295|j>>>27),j=B+(M^U&(N^M))+V[10]+38016083&4294967295,B=N+(j<<9&4294967295|j>>>23),j=U+(N^M&(B^N))+V[15]+3634488961&4294967295,U=B+(j<<14&4294967295|j>>>18),j=M+(B^N&(U^B))+V[4]+3889429448&4294967295,M=U+(j<<20&4294967295|j>>>12),j=N+(U^B&(M^U))+V[9]+568446438&4294967295,N=M+(j<<5&4294967295|j>>>27),j=B+(M^U&(N^M))+V[14]+3275163606&4294967295,B=N+(j<<9&4294967295|j>>>23),j=U+(N^M&(B^N))+V[3]+4107603335&4294967295,U=B+(j<<14&4294967295|j>>>18),j=M+(B^N&(U^B))+V[8]+1163531501&4294967295,M=U+(j<<20&4294967295|j>>>12),j=N+(U^B&(M^U))+V[13]+2850285829&4294967295,N=M+(j<<5&4294967295|j>>>27),j=B+(M^U&(N^M))+V[2]+4243563512&4294967295,B=N+(j<<9&4294967295|j>>>23),j=U+(N^M&(B^N))+V[7]+1735328473&4294967295,U=B+(j<<14&4294967295|j>>>18),j=M+(B^N&(U^B))+V[12]+2368359562&4294967295,M=U+(j<<20&4294967295|j>>>12),j=N+(M^U^B)+V[5]+4294588738&4294967295,N=M+(j<<4&4294967295|j>>>28),j=B+(N^M^U)+V[8]+2272392833&4294967295,B=N+(j<<11&4294967295|j>>>21),j=U+(B^N^M)+V[11]+1839030562&4294967295,U=B+(j<<16&4294967295|j>>>16),j=M+(U^B^N)+V[14]+4259657740&4294967295,M=U+(j<<23&4294967295|j>>>9),j=N+(M^U^B)+V[1]+2763975236&4294967295,N=M+(j<<4&4294967295|j>>>28),j=B+(N^M^U)+V[4]+1272893353&4294967295,B=N+(j<<11&4294967295|j>>>21),j=U+(B^N^M)+V[7]+4139469664&4294967295,U=B+(j<<16&4294967295|j>>>16),j=M+(U^B^N)+V[10]+3200236656&4294967295,M=U+(j<<23&4294967295|j>>>9),j=N+(M^U^B)+V[13]+681279174&4294967295,N=M+(j<<4&4294967295|j>>>28),j=B+(N^M^U)+V[0]+3936430074&4294967295,B=N+(j<<11&4294967295|j>>>21),j=U+(B^N^M)+V[3]+3572445317&4294967295,U=B+(j<<16&4294967295|j>>>16),j=M+(U^B^N)+V[6]+76029189&4294967295,M=U+(j<<23&4294967295|j>>>9),j=N+(M^U^B)+V[9]+3654602809&4294967295,N=M+(j<<4&4294967295|j>>>28),j=B+(N^M^U)+V[12]+3873151461&4294967295,B=N+(j<<11&4294967295|j>>>21),j=U+(B^N^M)+V[15]+530742520&4294967295,U=B+(j<<16&4294967295|j>>>16),j=M+(U^B^N)+V[2]+3299628645&4294967295,M=U+(j<<23&4294967295|j>>>9),j=N+(U^(M|~B))+V[0]+4096336452&4294967295,N=M+(j<<6&4294967295|j>>>26),j=B+(M^(N|~U))+V[7]+1126891415&4294967295,B=N+(j<<10&4294967295|j>>>22),j=U+(N^(B|~M))+V[14]+2878612391&4294967295,U=B+(j<<15&4294967295|j>>>17),j=M+(B^(U|~N))+V[5]+4237533241&4294967295,M=U+(j<<21&4294967295|j>>>11),j=N+(U^(M|~B))+V[12]+1700485571&4294967295,N=M+(j<<6&4294967295|j>>>26),j=B+(M^(N|~U))+V[3]+2399980690&4294967295,B=N+(j<<10&4294967295|j>>>22),j=U+(N^(B|~M))+V[10]+4293915773&4294967295,U=B+(j<<15&4294967295|j>>>17),j=M+(B^(U|~N))+V[1]+2240044497&4294967295,M=U+(j<<21&4294967295|j>>>11),j=N+(U^(M|~B))+V[8]+1873313359&4294967295,N=M+(j<<6&4294967295|j>>>26),j=B+(M^(N|~U))+V[15]+4264355552&4294967295,B=N+(j<<10&4294967295|j>>>22),j=U+(N^(B|~M))+V[6]+2734768916&4294967295,U=B+(j<<15&4294967295|j>>>17),j=M+(B^(U|~N))+V[13]+1309151649&4294967295,M=U+(j<<21&4294967295|j>>>11),j=N+(U^(M|~B))+V[4]+4149444226&4294967295,N=M+(j<<6&4294967295|j>>>26),j=B+(M^(N|~U))+V[11]+3174756917&4294967295,B=N+(j<<10&4294967295|j>>>22),j=U+(N^(B|~M))+V[2]+718787259&4294967295,U=B+(j<<15&4294967295|j>>>17),j=M+(B^(U|~N))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+N&4294967295,O.g[1]=O.g[1]+(U+(j<<21&4294967295|j>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+B&4294967295}i.prototype.u=function(O,N){N===void 0&&(N=O.length);for(var M=N-this.blockSize,V=this.B,U=this.h,B=0;B<N;){if(U==0)for(;B<=M;)a(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<N;)if(V[U++]=O.charCodeAt(B++),U==this.blockSize){a(this,V),U=0;break}}else for(;B<N;)if(V[U++]=O[B++],U==this.blockSize){a(this,V),U=0;break}}this.h=U,this.o+=N},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var N=1;N<O.length-8;++N)O[N]=0;var M=8*this.o;for(N=O.length-8;N<O.length;++N)O[N]=M&255,M/=256;for(this.u(O),O=Array(16),N=M=0;4>N;++N)for(var V=0;32>V;V+=8)O[M++]=this.g[N]>>>V&255;return O};function l(O,N){var M=f;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=N(O)}function c(O,N){this.h=N;for(var M=[],V=!0,U=O.length-1;0<=U;U--){var B=O[U]|0;V&&B==N||(M[U]=B,V=!1)}this.g=M}var f={};function h(O){return-128<=O&&128>O?l(O,function(N){return new c([N|0],0>N?-1:0)}):new c([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return E;if(0>O)return C(p(-O));for(var N=[],M=1,V=0;O>=M;V++)N[V]=O/M|0,M*=4294967296;return new c(N,0)}function y(O,N){if(O.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(O.charAt(0)=="-")return C(y(O.substring(1),N));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=p(Math.pow(N,8)),V=E,U=0;U<O.length;U+=8){var B=Math.min(8,O.length-U),j=parseInt(O.substring(U,U+B),N);8>B?(B=p(Math.pow(N,B)),V=V.j(B).add(p(j))):(V=V.j(M),V=V.add(p(j)))}return V}var E=h(0),b=h(1),T=h(16777216);t=c.prototype,t.m=function(){if(D(this))return-C(this).m();for(var O=0,N=1,M=0;M<this.g.length;M++){var V=this.i(M);O+=(0<=V?V:4294967296+V)*N,N*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(D(this))return"-"+C(this).toString(O);for(var N=p(Math.pow(O,6)),M=this,V="";;){var U=z(M,N).g;M=P(M,U.j(N));var B=((0<M.g.length?M.g[0]:M.h)>>>0).toString(O);if(M=U,A(M))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var N=0;N<O.g.length;N++)if(O.g[N]!=0)return!1;return!0}function D(O){return O.h==-1}t.l=function(O){return O=P(this,O),D(O)?-1:A(O)?0:1};function C(O){for(var N=O.g.length,M=[],V=0;V<N;V++)M[V]=~O.g[V];return new c(M,~O.h).add(b)}t.abs=function(){return D(this)?C(this):this},t.add=function(O){for(var N=Math.max(this.g.length,O.g.length),M=[],V=0,U=0;U<=N;U++){var B=V+(this.i(U)&65535)+(O.i(U)&65535),j=(B>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);V=j>>>16,B&=65535,j&=65535,M[U]=j<<16|B}return new c(M,M[M.length-1]&-2147483648?-1:0)};function P(O,N){return O.add(C(N))}t.j=function(O){if(A(this)||A(O))return E;if(D(this))return D(O)?C(this).j(C(O)):C(C(this).j(O));if(D(O))return C(this.j(C(O)));if(0>this.l(T)&&0>O.l(T))return p(this.m()*O.m());for(var N=this.g.length+O.g.length,M=[],V=0;V<2*N;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<O.g.length;U++){var B=this.i(V)>>>16,j=this.i(V)&65535,he=O.i(U)>>>16,ve=O.i(U)&65535;M[2*V+2*U]+=j*ve,L(M,2*V+2*U),M[2*V+2*U+1]+=B*ve,L(M,2*V+2*U+1),M[2*V+2*U+1]+=j*he,L(M,2*V+2*U+1),M[2*V+2*U+2]+=B*he,L(M,2*V+2*U+2)}for(V=0;V<N;V++)M[V]=M[2*V+1]<<16|M[2*V];for(V=N;V<2*N;V++)M[V]=0;return new c(M,0)};function L(O,N){for(;(O[N]&65535)!=O[N];)O[N+1]+=O[N]>>>16,O[N]&=65535,N++}function I(O,N){this.g=O,this.h=N}function z(O,N){if(A(N))throw Error("division by zero");if(A(O))return new I(E,E);if(D(O))return N=z(C(O),N),new I(C(N.g),C(N.h));if(D(N))return N=z(O,C(N)),new I(C(N.g),N.h);if(30<O.g.length){if(D(O)||D(N))throw Error("slowDivide_ only works with positive integers.");for(var M=b,V=N;0>=V.l(O);)M=q(M),V=q(V);var U=te(M,1),B=te(V,1);for(V=te(V,2),M=te(M,2);!A(V);){var j=B.add(V);0>=j.l(O)&&(U=U.add(M),B=j),V=te(V,1),M=te(M,1)}return N=P(O,U.j(N)),new I(U,N)}for(U=E;0<=O.l(N);){for(M=Math.max(1,Math.floor(O.m()/N.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=p(M),j=B.j(N);D(j)||0<j.l(O);)M-=V,B=p(M),j=B.j(N);A(B)&&(B=b),U=U.add(B),O=P(O,j)}return new I(U,O)}t.A=function(O){return z(this,O).h},t.and=function(O){for(var N=Math.max(this.g.length,O.g.length),M=[],V=0;V<N;V++)M[V]=this.i(V)&O.i(V);return new c(M,this.h&O.h)},t.or=function(O){for(var N=Math.max(this.g.length,O.g.length),M=[],V=0;V<N;V++)M[V]=this.i(V)|O.i(V);return new c(M,this.h|O.h)},t.xor=function(O){for(var N=Math.max(this.g.length,O.g.length),M=[],V=0;V<N;V++)M[V]=this.i(V)^O.i(V);return new c(M,this.h^O.h)};function q(O){for(var N=O.g.length+1,M=[],V=0;V<N;V++)M[V]=O.i(V)<<1|O.i(V-1)>>>31;return new c(M,O.h)}function te(O,N){var M=N>>5;N%=32;for(var V=O.g.length-M,U=[],B=0;B<V;B++)U[B]=0<N?O.i(B+M)>>>N|O.i(B+M+1)<<32-N:O.i(B+M);return new c(U,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,X2=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,xs=c}).apply(typeof hw<"u"?hw:typeof self<"u"?self:typeof window<"u"?window:{});var wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z2,Zu,J2,kd,By,eS,tS,nS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,x){return d==Array.prototype||d==Object.prototype||(d[_]=x.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof wd=="object"&&wd];for(var _=0;_<d.length;++_){var x=d[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function a(d,_){if(_)e:{var x=i;d=d.split(".");for(var k=0;k<d.length-1;k++){var Q=d[k];if(!(Q in x))break e;x=x[Q]}d=d[d.length-1],k=x[d],_=_(k),_!=k&&_!=null&&e(x,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var x=0,k=!1,Q={next:function(){if(!k&&x<d.length){var J=x++;return{value:_(J,d[J]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function h(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function p(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,x){return d.call.apply(d.bind,arguments)}function E(d,_,x){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,k),d.apply(_,Q)}}return function(){return d.apply(_,arguments)}}function b(d,_,x){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,b.apply(null,arguments)}function T(d,_){var x=Array.prototype.slice.call(arguments,1);return function(){var k=x.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function A(d,_){function x(){}x.prototype=_.prototype,d.aa=_.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(k,Q,J){for(var me=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)me[$e-2]=arguments[$e];return _.prototype[Q].apply(k,me)}}function D(d){const _=d.length;if(0<_){const x=Array(_);for(let k=0;k<_;k++)x[k]=d[k];return x}return[]}function C(d,_){for(let x=1;x<arguments.length;x++){const k=arguments[x];if(h(k)){const Q=d.length||0,J=k.length||0;d.length=Q+J;for(let me=0;me<J;me++)d[Q+me]=k[me]}else d.push(k)}}class P{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(d){return/^[\s\xa0]*$/.test(d)}function I(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function z(d){return z[" "](d),d}z[" "]=function(){};var q=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function te(d,_,x){for(const k in d)_.call(x,d[k],k,d)}function O(d,_){for(const x in d)_.call(void 0,d[x],x,d)}function N(d){const _={};for(const x in d)_[x]=d[x];return _}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(d,_){let x,k;for(let Q=1;Q<arguments.length;Q++){k=arguments[Q];for(x in k)d[x]=k[x];for(let J=0;J<M.length;J++)x=M[J],Object.prototype.hasOwnProperty.call(k,x)&&(d[x]=k[x])}}function U(d){var _=1;d=d.split(":");const x=[];for(;0<_&&d.length;)x.push(d.shift()),_--;return d.length&&x.push(d.join(":")),x}function B(d){f.setTimeout(()=>{throw d},0)}function j(){var d=ce;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class he{constructor(){this.h=this.g=null}add(_,x){const k=ve.get();k.set(_,x),this.h?this.h.next=k:this.g=k,this.h=k}}var ve=new P(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,ce=new he,$=()=>{const d=f.Promise.resolve(void 0);ie=()=>{d.then(ee)}};var ee=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(x){B(x)}var _=ve;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}ue=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};f.addEventListener("test",x,_),f.removeEventListener("test",x,_)}catch{}return d}();function Ne(d,_){if(oe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(q){e:{try{z(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else x=="mouseover"?_=d.fromElement:x=="mouseout"&&(_=d.toElement);this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ne.aa.h.call(this)}}A(Ne,oe);var Ae={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function tn(d,_,x,k,Q){this.listener=d,this.proxy=null,this.src=_,this.type=x,this.capture=!!k,this.ha=Q,this.key=++Ge,this.da=this.fa=!1}function ji(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Yr(d){this.src=d,this.g={},this.h=0}Yr.prototype.add=function(d,_,x,k,Q){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var me=Bs(d,_,k,Q);return-1<me?(_=d[me],x||(_.fa=!1)):(_=new tn(_,this.src,J,!!k,Q),_.fa=x,d.push(_)),_};function Fs(d,_){var x=_.type;if(x in d.g){var k=d.g[x],Q=Array.prototype.indexOf.call(k,_,void 0),J;(J=0<=Q)&&Array.prototype.splice.call(k,Q,1),J&&(ji(_),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Bs(d,_,x,k){for(var Q=0;Q<d.length;++Q){var J=d[Q];if(!J.da&&J.listener==_&&J.capture==!!x&&J.ha==k)return Q}return-1}var Hs="closure_lm_"+(1e6*Math.random()|0),Ml={};function Kc(d,_,x,k,Q){if(Array.isArray(_)){for(var J=0;J<_.length;J++)Kc(d,_[J],x,k,Q);return null}return x=Qc(x),d&&d[ht]?d.K(_,x,p(k)?!!k.capture:!1,Q):Fn(d,_,x,!1,k,Q)}function Fn(d,_,x,k,Q,J){if(!_)throw Error("Invalid event type");var me=p(Q)?!!Q.capture:!!Q,$e=to(d);if($e||(d[Hs]=$e=new Yr(d)),x=$e.add(_,x,k,me,J),x.proxy)return x;if(k=Tm(),x.proxy=k,k.src=d,k.listener=x,d.addEventListener)be||(Q=me),Q===void 0&&(Q=!1),d.addEventListener(_.toString(),k,Q);else if(d.attachEvent)d.attachEvent(qs(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Tm(){function d(x){return _.call(d.src,d.listener,x)}const _=xm;return d}function Ll(d,_,x,k,Q){if(Array.isArray(_))for(var J=0;J<_.length;J++)Ll(d,_[J],x,k,Q);else k=p(k)?!!k.capture:!!k,x=Qc(x),d&&d[ht]?(d=d.i,_=String(_).toString(),_ in d.g&&(J=d.g[_],x=Bs(J,x,k,Q),-1<x&&(ji(J[x]),Array.prototype.splice.call(J,x,1),J.length==0&&(delete d.g[_],d.h--)))):d&&(d=to(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Bs(_,x,k,Q)),(x=-1<d?_[d]:null)&&eo(x))}function eo(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ht])Fs(_.i,d);else{var x=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(x,k,d.capture):_.detachEvent?_.detachEvent(qs(x),k):_.addListener&&_.removeListener&&_.removeListener(k),(x=to(_))?(Fs(x,d),x.h==0&&(x.src=null,_[Hs]=null)):ji(d)}}}function qs(d){return d in Ml?Ml[d]:Ml[d]="on"+d}function xm(d,_){if(d.da)d=!0;else{_=new Ne(_,this);var x=d.listener,k=d.ha||d.src;d.fa&&eo(d),d=x.call(k,_)}return d}function to(d){return d=d[Hs],d instanceof Yr?d:null}var jl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qc(d){return typeof d=="function"?d:(d[jl]||(d[jl]=function(_){return d.handleEvent(_)}),d[jl])}function mt(){fe.call(this),this.i=new Yr(this),this.M=this,this.F=null}A(mt,fe),mt.prototype[ht]=!0,mt.prototype.removeEventListener=function(d,_,x,k){Ll(this,d,_,x,k)};function We(d,_){var x,k=d.F;if(k)for(x=[];k;k=k.F)x.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new oe(_,d);else if(_ instanceof oe)_.target=_.target||d;else{var Q=_;_=new oe(k,d),V(_,Q)}if(Q=!0,x)for(var J=x.length-1;0<=J;J--){var me=_.g=x[J];Q=In(me,k,!0,_)&&Q}if(me=_.g=d,Q=In(me,k,!0,_)&&Q,Q=In(me,k,!1,_)&&Q,x)for(J=0;J<x.length;J++)me=_.g=x[J],Q=In(me,k,!1,_)&&Q}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var x=d.g[_],k=0;k<x.length;k++)ji(x[k]);delete d.g[_],d.h--}}this.F=null},mt.prototype.K=function(d,_,x,k){return this.i.add(String(d),_,!1,x,k)},mt.prototype.L=function(d,_,x,k){return this.i.add(String(d),_,!0,x,k)};function In(d,_,x,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,J=0;J<_.length;++J){var me=_[J];if(me&&!me.da&&me.capture==x){var $e=me.listener,Dt=me.ha||me.src;me.fa&&Fs(d.i,me),Q=$e.call(Dt,k)!==!1&&Q}}return Q&&!k.defaultPrevented}function nn(d,_,x){if(typeof d=="function")x&&(d=b(d,x));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function Yc(d){d.g=nn(()=>{d.g=null,d.i&&(d.i=!1,Yc(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Sm extends fe{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Yc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(d){fe.call(this),this.h=d,this.g={}}A(Gs,fe);var Ks=[];function Qs(d){te(d.g,function(_,x){this.g.hasOwnProperty(x)&&eo(_)},d),d.g={}}Gs.prototype.N=function(){Gs.aa.N.call(this),Qs(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=f.JSON.stringify,no=f.JSON.parse,Ys=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Vl(){}Vl.prototype.h=null;function Ul(d){return d.h||(d.h=d.i())}function zl(){}var Wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xr(){oe.call(this,"d")}A(Xr,oe);function $l(){oe.call(this,"c")}A($l,oe);var br={},Fl=null;function Vi(){return Fl=Fl||new mt}br.La="serverreachability";function ro(d){oe.call(this,br.La,d)}A(ro,oe);function Ui(d){const _=Vi();We(_,new ro(_))}br.STAT_EVENT="statevent";function Wc(d,_){oe.call(this,br.STAT_EVENT,d),this.stat=_}A(Wc,oe);function lt(d){const _=Vi();We(_,new Wc(_,d))}br.Ma="timingevent";function Nt(d,_){oe.call(this,br.Ma,d),this.size=_}A(Nt,oe);function Tt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function Bl(d,_,x,k,Q,J){d.info(function(){if(d.g)if(J)for(var me="",$e=J.split("&"),Dt=0;Dt<$e.length;Dt++){var Fe=$e[Dt].split("=");if(1<Fe.length){var Ut=Fe[0];Fe=Fe[1];var kt=Ut.split("_");me=2<=kt.length&&kt[1]=="type"?me+(Ut+"="+Fe+"&"):me+(Ut+"=redacted&")}}else me=null;else me=J;return"XMLHTTP REQ ("+k+") [attempt "+Q+"]: "+_+`
`+x+`
`+me})}function Am(d,_,x,k,Q,J,me){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Q+"]: "+_+`
`+x+`
`+J+" "+me})}function zi(d,_,x,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ws(d,x)+(k?" "+k:"")})}function Xc(d,_){d.info(function(){return"TIMEOUT: "+_})}Bn.prototype.info=function(){};function Ws(d,_){if(!d.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var k=x[d];if(!(2>k.length)){var Q=k[1];if(Array.isArray(Q)&&!(1>Q.length)){var J=Q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var me=1;me<Q.length;me++)Q[me]=""}}}}return rr(x)}catch{return _}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Er;function wr(){}A(wr,Vl),wr.prototype.g=function(){return new XMLHttpRequest},wr.prototype.i=function(){return{}},Er=new wr;function hn(d,_,x,k){this.j=d,this.i=_,this.l=x,this.R=k||1,this.U=new Gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var Hl={},io={};function ir(d,_,x){d.L=1,d.v=ta(Nn(_)),d.m=x,d.P=!0,Jr(d,null)}function Jr(d,_){d.F=Date.now(),Xs(d),d.A=Nn(d.v);var x=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Wl(x.i,"t",k),d.C=0,x=d.j.J,d.h=new vt,d.g=mf(d.j,x?_:null,!d.m),0<d.O&&(d.M=new Sm(b(d.Y,d,d.g),d.O)),_=d.U,x=d.g,k=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ks[0]=Q.toString()),Q=Ks);for(var J=0;J<Q.length;J++){var me=Kc(x,Q[J],k||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Ui(),Bl(d.i,d.u,d.A,d.l,d.R,d.m)}hn.prototype.ca=function(d){d=d.target;const _=this.M;_&&Kn(d)==3?_.j():this.Y(d)},hn.prototype.Y=function(d){try{if(d==this.g)e:{const kt=Kn(this.g);var _=this.g.Ba();const oi=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||af(this.g)))){this.J||kt!=4||_==7||(_==8||0>=oi?Ui(3):Ui(2)),Fi(this);var x=this.g.Z();this.X=x;t:if(Zc(this)){var k=af(this.g);d="";var Q=k.length,J=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),Tr(this);var me="";break t}this.h.i=new f.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,d+=this.h.i.decode(k[_],{stream:!(J&&_==Q-1)});k.length=0,this.h.g+=d,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=x==200,Am(this.i,this.u,this.A,this.l,this.R,kt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Dt=this.g;if(($e=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L($e)){var Fe=$e;break t}}Fe=null}if(x=Fe)zi(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,x);else{this.o=!1,this.s=3,lt(12),qt(this),Tr(this);break e}}if(this.P){x=!0;let Gt;for(;!this.J&&this.C<me.length;)if(Gt=Jc(this,me),Gt==io){kt==4&&(this.s=4,lt(14),x=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Hl){this.s=4,lt(15),zi(this.i,this.l,me,"[Invalid Chunk]"),x=!1;break}else zi(this.i,this.l,Gt,null),Zs(this,Gt);if(Zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||me.length!=0||this.h.h||(this.s=1,lt(16),x=!1),this.o=this.o&&x,!x)zi(this.i,this.l,me,"[Invalid Chunked Response]"),qt(this),Tr(this);else if(0<me.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),ua(Ut),Ut.M=!0,lt(11))}}else zi(this.i,this.l,me,null),Zs(this,me);kt==4&&qt(this),this.o&&!this.J&&(kt==4?ff(this.j,this):(this.o=!1,Xs(this)))}else Dm(this.g),x==400&&0<me.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),qt(this),Tr(this)}}}catch{}finally{}};function Zc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Jc(d,_){var x=d.C,k=_.indexOf(`
`,x);return k==-1?io:(x=Number(_.substring(x,k)),isNaN(x)?Hl:(k+=1,k+x>_.length?io:(_=_.slice(k,k+x),d.C=k+x,_)))}hn.prototype.cancel=function(){this.J=!0,qt(this)};function Xs(d){d.S=Date.now()+d.I,ef(d,d.I)}function ef(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Tt(b(d.ba,d),_)}function Fi(d){d.B&&(f.clearTimeout(d.B),d.B=null)}hn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Xc(this.i,this.A),this.L!=2&&(Ui(),lt(17)),qt(this),this.s=2,Tr(this)):ef(this,this.S-d)};function Tr(d){d.j.G==0||d.J||ff(d.j,d)}function qt(d){Fi(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Qs(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Zs(d,_){try{var x=d.j;if(x.G!=0&&(x.g==d||ql(x.h,d))){if(!d.K&&ql(x.h,d)&&x.G==3){try{var k=x.Da.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Q=k;if(Q[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)yo(x),po(x);else break e;tu(x),lt(18)}}else x.za=Q[1],0<x.za-x.T&&37500>Q[2]&&x.F&&x.v==0&&!x.C&&(x.C=Tt(b(x.Za,x),6e3));if(1>=ao(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else ai(x,11)}else if((d.K||x.g==d)&&yo(x),!L(_))for(Q=x.Da.g.parse(_),_=0;_<Q.length;_++){let Fe=Q[_];if(x.T=Fe[0],Fe=Fe[1],x.G==2)if(Fe[0]=="c"){x.K=Fe[1],x.ia=Fe[2];const Ut=Fe[3];Ut!=null&&(x.la=Ut,x.j.info("VER="+x.la));const kt=Fe[4];kt!=null&&(x.Aa=kt,x.j.info("SVER="+x.Aa));const oi=Fe[5];oi!=null&&typeof oi=="number"&&0<oi&&(k=1.5*oi,x.L=k,x.j.info("backChannelRequestTimeoutMs_="+k)),k=x;const Gt=d.g;if(Gt){const Nr=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var J=k.h;J.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(oo(J,J.h),J.h=null))}if(k.D){const ru=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;ru&&(k.ya=ru,Je(k.I,k.D,ru))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),k=x;var me=d;if(k.qa=hf(k,k.J?k.ia:null,k.W),me.K){mn(k.h,me);var $e=me,Dt=k.L;Dt&&($e.I=Dt),$e.B&&(Fi($e),Xs($e)),k.g=me}else uf(k);0<x.i.length&&go(x)}else Fe[0]!="stop"&&Fe[0]!="close"||ai(x,7);else x.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?ai(x,7):Jl(x):Fe[0]!="noop"&&x.l&&x.l.ta(Fe),x.v=0)}}Ui(4)}catch{}}var tf=class{constructor(d,_){this.g=d,this.map=_}};function ei(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function so(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ao(d){return d.h?1:d.g?d.g.size:0}function ql(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function oo(d,_){d.g?d.g.add(_):d.h=_}function mn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}ei.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Gl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const x of d.g.values())_=_.concat(x.D);return _}return D(d.i)}function Rm(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var _=[],x=d.length,k=0;k<x;k++)_.push(d[k]);return _}_=[],x=0;for(k in d)_[x++]=d[k];return _}function lo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var _=[];d=d.length;for(var x=0;x<d;x++)_.push(x);return _}_=[],x=0;for(const k in d)_[x++]=k;return _}}}function Kl(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var x=lo(d),k=Rm(d),Q=k.length,J=0;J<Q;J++)_.call(void 0,k[J],x&&x[J],d)}var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cm(d,_){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var k=d[x].indexOf("="),Q=null;if(0<=k){var J=d[x].substring(0,k);Q=d[x].substring(k+1)}else J=d[x];_(J,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function xt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof xt){this.h=d.h,ea(this,d.j),this.o=d.o,this.g=d.g,Bi(this,d.s),this.l=d.l;var _=d.i,x=new ni;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),ti(this,x),this.m=d.m}else d&&(_=String(d).match(Js))?(this.h=!1,ea(this,_[1]||"",!0),this.o=Hn(_[2]||""),this.g=Hn(_[3]||"",!0),Bi(this,_[4]),this.l=Hn(_[5]||"",!0),ti(this,_[6]||"",!0),this.m=Hn(_[7]||"")):(this.h=!1,this.i=new ni(null,this.h))}xt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(na(_,Ql,!0),":");var x=this.g;return(x||_=="file")&&(d.push("//"),(_=this.o)&&d.push(na(_,Ql,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(na(x,x.charAt(0)=="/"?Im:Yl,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",na(x,uo)),d.join("")};function Nn(d){return new xt(d)}function ea(d,_,x){d.j=x?Hn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Bi(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function ti(d,_,x){_ instanceof ni?(d.i=_,rf(d.i,d.h)):(x||(_=na(_,Nm)),d.i=new ni(_,d.h))}function Je(d,_,x){d.i.set(_,x)}function ta(d){return Je(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Hn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function na(d,_,x){return typeof d=="string"?(d=encodeURI(d).replace(_,nf),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function nf(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ql=/[#\/\?@]/g,Yl=/[#\?:]/g,Im=/[#\?]/g,Nm=/[#\?@]/g,uo=/#/g;function ni(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function qn(d){d.g||(d.g=new Map,d.h=0,d.i&&Cm(d.i,function(_,x){d.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}t=ni.prototype,t.add=function(d,_){qn(this),this.i=null,d=xr(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(_),this.h+=1,this};function ri(d,_){qn(d),_=xr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function ii(d,_){return qn(d),_=xr(d,_),d.g.has(_)}t.forEach=function(d,_){qn(this),this.g.forEach(function(x,k){x.forEach(function(Q){d.call(_,Q,k,this)},this)},this)},t.na=function(){qn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let k=0;k<_.length;k++){const Q=d[k];for(let J=0;J<Q.length;J++)x.push(_[k])}return x},t.V=function(d){qn(this);let _=[];if(typeof d=="string")ii(this,d)&&(_=_.concat(this.g.get(xr(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)_=_.concat(d[x])}return _},t.set=function(d,_){return qn(this),this.i=null,d=xr(this,d),ii(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Wl(d,_,x){ri(d,_),0<x.length&&(d.i=null,d.g.set(xr(d,_),D(x)),d.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var k=_[x];const J=encodeURIComponent(String(k)),me=this.V(k);for(k=0;k<me.length;k++){var Q=J;me[k]!==""&&(Q+="="+encodeURIComponent(String(me[k]))),d.push(Q)}}return this.i=d.join("&")};function xr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function rf(d,_){_&&!d.j&&(qn(d),d.i=null,d.g.forEach(function(x,k){var Q=k.toLowerCase();k!=Q&&(ri(this,k),Wl(this,Q,x))},d)),d.j=_}function ra(d,_){const x=new Bn;if(f.Image){const k=new Image;k.onload=T(Gn,x,"TestLoadImage: loaded",!0,_,k),k.onerror=T(Gn,x,"TestLoadImage: error",!1,_,k),k.onabort=T(Gn,x,"TestLoadImage: abort",!1,_,k),k.ontimeout=T(Gn,x,"TestLoadImage: timeout",!1,_,k),f.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function sr(d,_){const x=new Bn,k=new AbortController,Q=setTimeout(()=>{k.abort(),Gn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then(J=>{clearTimeout(Q),J.ok?Gn(x,"TestPingServer: ok",!0,_):Gn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Gn(x,"TestPingServer: error",!1,_)})}function Gn(d,_,x,k,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),k(x)}catch{}}function ia(){this.g=new Ys}function Sr(d,_,x){const k=x||"";try{Kl(d,function(Q,J){let me=Q;p(Q)&&(me=rr(Q)),_.push(k+J+"="+encodeURIComponent(me))})}catch(Q){throw _.push(k+"type="+encodeURIComponent("_badmap")),Q}}function Hi(d){this.l=d.Ub||null,this.j=d.eb||!1}A(Hi,Vl),Hi.prototype.g=function(){return new si(this.l,this.j)},Hi.prototype.i=function(d){return function(){return d}}({});function si(d,_){mt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(si,mt),t=si.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Rr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ar(this):Rr(this),this.readyState==3&&Xl(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ar(this))},t.Qa=function(d){this.g&&(this.response=d,Ar(this))},t.ga=function(){this.g&&Ar(this)};function Ar(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Rr(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=_.next();return d.join(`\r
`)};function Rr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Zl(d){let _="";return te(d,function(x,k){_+=k,_+=":",_+=x,_+=`\r
`}),_}function Vt(d,_,x){e:{for(k in x){var k=!1;break e}k=!0}k||(x=Zl(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):Je(d,_,x))}function Qe(d){mt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Qe,mt);var co=/^https?$/i,sa=["POST","PUT"];t=Qe.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,x,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Er.g(),this.v=this.o?Ul(this.o):Ul(Er),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(J){sf(this,J);return}if(d=x||"",x=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Q in k)x.set(Q,k[Q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const J of k.keys())x.set(J,k.get(J));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(x.keys()).find(J=>J.toLowerCase()=="content-type"),Q=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(sa,_,void 0))||k||Q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of x)this.g.setRequestHeader(J,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){sf(this,J)}};function sf(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,fo(d),Cr(d)}function fo(d){d.A||(d.A=!0,We(d,"complete"),We(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,We(this,"complete"),We(this,"abort"),Cr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),Qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ho(this):this.bb())},t.bb=function(){ho(this)};function ho(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Kn(d)!=4||d.Z()!=2)){if(d.u&&Kn(d)==4)nn(d.Ea,0,d);else if(We(d,"readystatechange"),Kn(d)==4){d.h=!1;try{const me=d.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var k;if(k=me===0){var Q=String(d.D).match(Js)[1]||null;!Q&&f.self&&f.self.location&&(Q=f.self.location.protocol.slice(0,-1)),k=!co.test(Q?Q.toLowerCase():"")}x=k}if(x)We(d,"complete"),We(d,"success");else{d.m=6;try{var J=2<Kn(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",fo(d)}}finally{Cr(d)}}}}function Cr(d,_){if(d.g){aa(d);const x=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||We(d,"ready");try{x.onreadystatechange=k}catch{}}}function aa(d){d.I&&(f.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Kn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),no(_)}};function af(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Dm(d){const _={};d=(d.g&&2<=Kn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(L(d[k]))continue;var x=U(d[k]);const Q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const J=_[Q]||[];_[Q]=J,J.push(x)}O(_,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(d,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||_}function mo(d){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,d),this.cb=oa("retryDelaySeedMs",1e4,d),this.Wa=oa("forwardChannelMaxRetries",2,d),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(d&&d.concurrentRequestLimit),this.Da=new ia,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mo.prototype,t.la=8,t.G=1,t.connect=function(d,_,x,k){lt(0),this.W=d,this.H=_||{},x&&k!==void 0&&(this.H.OSID=x,this.H.OAID=k),this.F=this.X,this.I=hf(this,null,this.W),go(this)};function Jl(d){if(of(d),d.G==3){var _=d.U++,x=Nn(d.I);if(Je(x,"SID",d.K),Je(x,"RID",_),Je(x,"TYPE","terminate"),la(d,x),_=new hn(d,d.j,_),_.L=2,_.v=ta(Nn(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&f.Image&&(new Image().src=_.v,x=!0),x||(_.g=mf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Xs(_)}df(d)}function po(d){d.g&&(ua(d),d.g.cancel(),d.g=null)}function of(d){po(d),d.u&&(f.clearTimeout(d.u),d.u=null),yo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function go(d){if(!so(d.h)&&!d.s){d.s=!0;var _=d.Ga;ie||$(),ue||(ie(),ue=!0),ce.add(_,d),d.B=0}}function km(d,_){return ao(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Tt(b(d.Ga,d,_),nu(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new hn(this,this.j,d);let J=this.o;if(this.S&&(J?(J=N(J),V(J,this.S)):J=this.S),this.m!==null||this.O||(Q.H=J,J=null),this.P)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var k=this.i[x];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,4096<_){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=lf(this,Q,_),x=Nn(this.I),Je(x,"RID",d),Je(x,"CVER",22),this.D&&Je(x,"X-HTTP-Session-Id",this.D),la(this,x),J&&(this.O?_="headers="+encodeURIComponent(String(Zl(J)))+"&"+_:this.m&&Vt(x,this.m,J)),oo(this.h,Q),this.Ua&&Je(x,"TYPE","init"),this.P?(Je(x,"$req",_),Je(x,"SID","null"),Q.T=!0,ir(Q,x,null)):ir(Q,x,_),this.G=2}}else this.G==3&&(d?eu(this,d):this.i.length==0||so(this.h)||eu(this))};function eu(d,_){var x;_?x=_.l:x=d.U++;const k=Nn(d.I);Je(k,"SID",d.K),Je(k,"RID",x),Je(k,"AID",d.T),la(d,k),d.m&&d.o&&Vt(k,d.m,d.o),x=new hn(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),_&&(d.i=_.D.concat(d.i)),_=lf(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),oo(d.h,x),ir(x,k,_)}function la(d,_){d.H&&te(d.H,function(x,k){Je(_,k,x)}),d.l&&Kl({},function(x,k){Je(_,k,x)})}function lf(d,_,x){x=Math.min(d.i.length,x);var k=d.l?b(d.l.Na,d.l,d):null;e:{var Q=d.i;let J=-1;for(;;){const me=["count="+x];J==-1?0<x?(J=Q[0].g,me.push("ofs="+J)):J=0:me.push("ofs="+J);let $e=!0;for(let Dt=0;Dt<x;Dt++){let Fe=Q[Dt].g;const Ut=Q[Dt].map;if(Fe-=J,0>Fe)J=Math.max(0,Q[Dt].g-100),$e=!1;else try{Sr(Ut,me,"req"+Fe+"_")}catch{k&&k(Ut)}}if($e){k=me.join("&");break e}}}return d=d.i.splice(0,x),_.D=d,k}function uf(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ie||$(),ue||(ie(),ue=!0),ce.add(_,d),d.v=0}}function tu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Tt(b(d.Fa,d),nu(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,cf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Tt(b(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),po(this),cf(this))};function ua(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function cf(d){d.g=new hn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Nn(d.qa);Je(_,"RID","rpc"),Je(_,"SID",d.K),Je(_,"AID",d.T),Je(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Je(_,"TO",d.ja),Je(_,"TYPE","xmlhttp"),la(d,_),d.m&&d.o&&Vt(_,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=ta(Nn(_)),x.m=null,x.P=!0,Jr(x,d)}t.Za=function(){this.C!=null&&(this.C=null,po(this),tu(this),lt(19))};function yo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function ff(d,_){var x=null;if(d.g==_){yo(d),ua(d),d.g=null;var k=2}else if(ql(d.h,_))x=_.D,mn(d.h,_),k=1;else return;if(d.G!=0){if(_.o)if(k==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var Q=d.B;k=Vi(),We(k,new Nt(k,x)),go(d)}else uf(d);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(k==1&&km(d,_)||k==2&&tu(d)))switch(x&&0<x.length&&(_=d.h,_.i=_.i.concat(x)),Q){case 1:ai(d,5);break;case 4:ai(d,10);break;case 3:ai(d,6);break;default:ai(d,2)}}}function nu(d,_){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*_}function ai(d,_){if(d.j.info("Error code "+_),_==2){var x=b(d.fb,d),k=d.Xa;const Q=!k;k=new xt(k||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ea(k,"https"),ta(k),Q?ra(k.toString(),x):sr(k.toString(),x)}else lt(2);d.G=0,d.l&&d.l.sa(_),df(d),of(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function df(d){if(d.G=0,d.ka=[],d.l){const _=Gl(d.h);(_.length!=0||d.i.length!=0)&&(C(d.ka,_),C(d.ka,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.ra()}}function hf(d,_,x){var k=x instanceof xt?Nn(x):new xt(x);if(k.g!="")_&&(k.g=_+"."+k.g),Bi(k,k.s);else{var Q=f.location;k=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var J=new xt(null);k&&ea(J,k),_&&(J.g=_),Q&&Bi(J,Q),x&&(J.l=x),k=J}return x=d.D,_=d.ya,x&&_&&Je(k,x,_),Je(k,"VER",d.la),la(d,k),k}function mf(d,_,x){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Qe(new Hi({eb:x})):new Qe(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pf(){}t=pf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vo(){}vo.prototype.g=function(d,_){return new pn(d,_)};function pn(d,_){mt.call(this),this.g=new mo(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!L(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!L(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Ir(this)}A(pn,mt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Jl(this.g)},pn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=rr(d),d=x);_.i.push(new tf(_.Ya++,d)),_.G==3&&go(_)},pn.prototype.N=function(){this.g.l=null,delete this.j,Jl(this.g),delete this.g,pn.aa.N.call(this)};function gf(d){Xr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const x in _){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}A(gf,Xr);function yf(){$l.call(this),this.status=1}A(yf,$l);function Ir(d){this.g=d}A(Ir,pf),Ir.prototype.ua=function(){We(this.g,"a")},Ir.prototype.ta=function(d){We(this.g,new gf(d))},Ir.prototype.sa=function(d){We(this.g,new yf)},Ir.prototype.ra=function(){We(this.g,"b")},vo.prototype.createWebChannel=vo.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,nS=function(){return new vo},tS=function(){return Vi()},eS=br,By={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,kd=$i,Zr.COMPLETE="complete",J2=Zr,zl.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Zu=zl,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,Z2=Qe}).apply(typeof wd<"u"?wd:typeof self<"u"?self:typeof window<"u"?window:{});const mw="@firebase/firestore",pw="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new F0("@firebase/firestore");function Qo(){return Ha.logLevel}function pe(t,...e){if(Ha.logLevel<=Ue.DEBUG){const n=e.map(q0);Ha.debug(`Firestore (${Il}): ${t}`,...n)}}function ki(t,...e){if(Ha.logLevel<=Ue.ERROR){const n=e.map(q0);Ha.error(`Firestore (${Il}): ${t}`,...n)}}function hl(t,...e){if(Ha.logLevel<=Ue.WARN){const n=e.map(q0);Ha.warn(`Firestore (${Il}): ${t}`,...n)}}function q0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: `+t;throw ki(e),new Error(e)}function Ye(t,e){t||Ce()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class fP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dP{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let i=this.i;const a=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let l=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ai,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const h=l;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},f=h=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ai)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string"),new rS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new on(e)}}class hP{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mP{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new hP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pP{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,tr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new gw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new gw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=gP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Me(t,e){return t<e?-1:t>e?1:0}function Hy(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),a=e.codePointAt(n);if(i!==a){if(i<128&&a<128)return Me(i,a);{const l=iS(),c=yP(l.encode(yw(t,n)),l.encode(yw(e,n)));return c!==0?c:Me(i,a)}}n+=i>65535?2:1}return Me(t.length,e.length)}function yw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function yP(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Me(t[n],e[n]);return Me(t.length,e.length)}function ml(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=-62135596800,_w=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*_w);return new wt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vw)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_w}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new wt(0,0))}static max(){return new Ie(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="__name__";class Lr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ce(),i===void 0?i=e.length-n:i>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Lr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Me(e.length,n.length)}static compareSegments(e,n){const i=Lr.isNumericId(e),a=Lr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Lr.extractNumericId(e).compare(Lr.extractNumericId(n)):Hy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class ot extends Lr{construct(e,n,i){return new ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const vP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Lr{construct(e,n,i){return new Jt(e,n,i)}static isValidIdentifier(e){return vP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bw}static keyField(){return new Jt([bw])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ge(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new ge(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ot.fromString(e))}static fromName(e){return new Ee(ot.fromString(e).popFirst(5))}static empty(){return new Ee(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=-1;function _P(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(i===1e9?new wt(n+1,0):new wt(n,i));return new Is(a,Ee.empty(),e)}function bP(t){return new Is(t.readTime,t.key,gc)}class Is{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Is(Ie.min(),Ee.empty(),gc)}static max(){return new Is(Ie.max(),Ee.empty(),gc)}}function EP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==wP)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,i)=>{n(e)})}static reject(e){return new le((n,i)=>{i(e)})}static waitFor(e){return new le((n,i)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},h=>i(h))}),c=!0,l===a&&n()})}static or(e){let n=le.resolve(!1);for(const i of e)n=n.next(a=>a?le.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new le((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let h=0;h<l;h++){const p=h;n(e[p]).next(y=>{c[p]=y,++f,f===l&&i(c)},y=>a(y))}})}static doWhile(e,n){return new le((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function xP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Jh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-1;function em(t){return t==null}function lh(t){return t===0&&1/t==-1/0}function SP(t){return typeof t=="number"&&Number.isInteger(t)&&!lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="";function AP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ew(e)),e=RP(t.get(n),e);return Ew(e)}function RP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case aS:n+="";break;default:n+=l}}return n}function Ew(t){return t+aS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Td(this.root,e,this.comparator,!1)}getReverseIterator(){return new Td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Td(this.root,e,this.comparator,!0)}}class Td{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??Zt.RED,this.left=a??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new Zt(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,i,a,l){return this}insert(e,n,i){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tw(this.data.getIterator())}getIteratorFrom(e){return new Tw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Tw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Mt(Jt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new lS("Invalid base64 string: "+l):l}}(e);return new en(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const CP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=CP.exec(t);if(Ye(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="server_timestamp",cS="__type__",fS="__previous_value__",dS="__local_write_time__";function K0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[cS])===null||n===void 0?void 0:n.stringValue)===uS}function tm(t){const e=t.mapValue.fields[fS];return K0(e)?tm(e):e}function yc(t){const e=Ns(t.mapValue.fields[dS].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n,i,a,l,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p}}const uh="(default)";class vc{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="__type__",NP="__max__",xd={mapValue:{}},mS="__vector__",ch="value";function ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?K0(t)?4:kP(t)?9007199254740991:DP(t)?10:11:Ce()}function Gr(t,e){if(t===e)return!0;const n=ks(t);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yc(t).isEqual(yc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ns(a.timestampValue),f=Ns(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Ds(a.bytesValue).isEqual(Ds(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Et(a.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(a.geoPointValue.longitude)===Et(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Et(a.integerValue)===Et(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Et(a.doubleValue),f=Et(l.doubleValue);return c===f?lh(c)===lh(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(ww(c)!==ww(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!Gr(c[h],f[h])))return!1;return!0}(t,e);default:return Ce()}}function _c(t,e){return(t.values||[]).find(n=>Gr(n,e))!==void 0}function pl(t,e){if(t===e)return 0;const n=ks(t),i=ks(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Et(l.integerValue||l.doubleValue),h=Et(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(t,e);case 3:return xw(t.timestampValue,e.timestampValue);case 4:return xw(yc(t),yc(e));case 5:return Hy(t.stringValue,e.stringValue);case 6:return function(l,c){const f=Ds(l),h=Ds(c);return f.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),h=c.split("/");for(let p=0;p<f.length&&p<h.length;p++){const y=Me(f[p],h[p]);if(y!==0)return y}return Me(f.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Me(Et(l.latitude),Et(c.latitude));return f!==0?f:Me(Et(l.longitude),Et(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Sw(t.arrayValue,e.arrayValue);case 10:return function(l,c){var f,h,p,y;const E=l.fields||{},b=c.fields||{},T=(f=E[ch])===null||f===void 0?void 0:f.arrayValue,A=(h=b[ch])===null||h===void 0?void 0:h.arrayValue,D=Me(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:Sw(T,A)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===xd.mapValue&&c===xd.mapValue)return 0;if(l===xd.mapValue)return 1;if(c===xd.mapValue)return-1;const f=l.fields||{},h=Object.keys(f),p=c.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let E=0;E<h.length&&E<y.length;++E){const b=Hy(h[E],y[E]);if(b!==0)return b;const T=pl(f[h[E]],p[y[E]]);if(T!==0)return T}return Me(h.length,y.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function xw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Ns(t),i=Ns(e),a=Me(n.seconds,i.seconds);return a!==0?a:Me(n.nanos,i.nanos)}function Sw(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=pl(n[a],i[a]);if(l)return l}return Me(n.length,i.length)}function gl(t){return qy(t)}function qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ns(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ds(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=qy(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${qy(n.fields[c])}`;return a+"}"}(t.mapValue):Ce()}function Od(t){switch(ks(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tm(t);return e?16+Od(e):16;case 5:return 2*t.stringValue.length;case 6:return Ds(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Od(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return js(i.fields,(l,c)=>{a+=l.length+Od(c)}),a}(t.mapValue);default:throw Ce()}}function Aw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gy(t){return!!t&&"integerValue"in t}function Q0(t){return!!t&&"arrayValue"in t}function Rw(t){return!!t&&"nullValue"in t}function Cw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pd(t){return!!t&&"mapValue"in t}function DP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[hS])===null||n===void 0?void 0:n.stringValue)===mS}function ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return js(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ic(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=Jt.emptyPath(),i={},a=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const h=this.getFieldsMap(n);this.applyChanges(h,i,a),i={},a=[],n=f.popLast()}c?i[f.lastSegment()]=ic(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Pd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){js(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Rn(ic(this.value))}}function pS(t){const e=[];return js(t.fields,(n,i)=>{const a=new Jt([n]);if(Pd(i)){const l=pS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,i,a,l,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new un(e,0,Ie.min(),Ie.min(),Ie.min(),Rn.empty(),0)}static newFoundDocument(e,n,i,a){return new un(e,1,n,Ie.min(),i,a,0)}static newNoDocument(e,n){return new un(e,2,n,Ie.min(),Ie.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ie.min(),Ie.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function Iw(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),n.key):i=pl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Nw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n="asc"){this.field=e,this.dir=n}}function OP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{}class Ct extends gS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new MP(e,n,i):n==="array-contains"?new VP(e,i):n==="in"?new UP(e,i):n==="not-in"?new zP(e,i):n==="array-contains-any"?new $P(e,i):new Ct(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new LP(e,i):new jP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pl(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends gS{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new pr(e,n)}matches(e){return yS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function yS(t){return t.op==="and"}function vS(t){return PP(t)&&yS(t)}function PP(t){for(const e of t.filters)if(e instanceof pr)return!1;return!0}function Ky(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+gl(t.value);if(vS(t))return t.filters.map(e=>Ky(e)).join(",");{const e=t.filters.map(n=>Ky(n)).join(",");return`${t.op}(${e})`}}function _S(t,e){return t instanceof Ct?function(i,a){return a instanceof Ct&&i.op===a.op&&i.field.isEqual(a.field)&&Gr(i.value,a.value)}(t,e):t instanceof pr?function(i,a){return a instanceof pr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,f)=>l&&_S(c,a.filters[f]),!0):!1}(t,e):void Ce()}function bS(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${gl(n.value)}`}(t):t instanceof pr?function(n){return n.op.toString()+" {"+n.getFilters().map(bS).join(" ,")+"}"}(t):"Filter"}class MP extends Ct{constructor(e,n,i){super(e,n,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class LP extends Ct{constructor(e,n){super(e,"in",n),this.keys=ES("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jP extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=ES("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ES(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class VP extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Q0(n)&&_c(n.arrayValue,this.value)}}class UP extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_c(this.value.arrayValue,n)}}class zP extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!_c(this.value.arrayValue,n)}}class $P extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Q0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>_c(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.le=null}}function Dw(t,e=null,n=[],i=[],a=null,l=null,c=null){return new FP(t,e,n,i,a,l,c)}function Y0(t){const e=ke(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Ky(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>gl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>gl(i)).join(",")),e.le=n}return e.le}function W0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_S(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nw(t.startAt,e.startAt)&&Nw(t.endAt,e.endAt)}function Qy(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n=null,i=[],a=[],l=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function BP(t,e,n,i,a,l,c,f){return new kl(t,e,n,i,a,l,c,f)}function nm(t){return new kl(t)}function kw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wS(t){return t.collectionGroup!==null}function sc(t){const e=ke(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Mt(Jt.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new bc(l,i))}),n.has(Jt.keyField().canonicalString())||e.he.push(new bc(Jt.keyField(),i))}return e.he}function zr(t){const e=ke(t);return e.Pe||(e.Pe=HP(e,sc(t))),e.Pe}function HP(t,e){if(t.limitType==="F")return Dw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new bc(a.field,l)});const n=t.endAt?new fh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new fh(t.startAt.position,t.startAt.inclusive):null;return Dw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Yy(t,e){const n=t.filters.concat([e]);return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wy(t,e,n){return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rm(t,e){return W0(zr(t),zr(e))&&t.limitType===e.limitType}function TS(t){return`${Y0(zr(t))}|lt:${t.limitType}`}function Yo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>bS(a)).join(", ")}]`),em(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>gl(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>gl(a)).join(",")),`Target(${i})`}(zr(t))}; limitType=${t.limitType})`}function im(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ee.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of sc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(c,f,h){const p=Iw(c,f,h);return c.inclusive?p<=0:p<0}(i.startAt,sc(i),a)||i.endAt&&!function(c,f,h){const p=Iw(c,f,h);return c.inclusive?p>=0:p>0}(i.endAt,sc(i),a))}(t,e)}function qP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xS(t){return(e,n)=>{let i=!1;for(const a of sc(t)){const l=GP(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function GP(t,e,n){const i=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(l,c,f){const h=c.data.field(l),p=f.data.field(l);return h!==null&&p!==null?pl(h,p):Ce()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return oS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new dt(Ee.comparator);function Oi(){return KP}const SS=new dt(Ee.comparator);function Ju(...t){let e=SS;for(const n of t)e=e.insert(n.key,n);return e}function AS(t){let e=SS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Oa(){return ac()}function RS(){return ac()}function ac(){return new Xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const QP=new dt(Ee.comparator),YP=new Mt(Ee.comparator);function ze(...t){let e=YP;for(const n of t)e=e.add(n);return e}const WP=new Mt(Me);function XP(){return WP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function CS(t){return{integerValue:""+t}}function ZP(t,e){return SP(e)?CS(e):X0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this._=void 0}}function JP(t,e,n){return t instanceof dh?function(a,l){const c={fields:{[cS]:{stringValue:uS},[dS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&K0(l)&&(l=tm(l)),l&&(c.fields[fS]=l),{mapValue:c}}(n,e):t instanceof Ec?NS(t,e):t instanceof wc?DS(t,e):function(a,l){const c=IS(a,l),f=Ow(c)+Ow(a.Ie);return Gy(c)&&Gy(a.Ie)?CS(f):X0(a.serializer,f)}(t,e)}function eM(t,e,n){return t instanceof Ec?NS(t,e):t instanceof wc?DS(t,e):n}function IS(t,e){return t instanceof hh?function(i){return Gy(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class dh extends sm{}class Ec extends sm{constructor(e){super(),this.elements=e}}function NS(t,e){const n=kS(e);for(const i of t.elements)n.some(a=>Gr(a,i))||n.push(i);return{arrayValue:{values:n}}}class wc extends sm{constructor(e){super(),this.elements=e}}function DS(t,e){let n=kS(e);for(const i of t.elements)n=n.filter(a=>!Gr(a,i));return{arrayValue:{values:n}}}class hh extends sm{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Ow(t){return Et(t.integerValue||t.doubleValue)}function kS(t){return Q0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tM(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof Ec&&a instanceof Ec||i instanceof wc&&a instanceof wc?ml(i.elements,a.elements,Gr):i instanceof hh&&a instanceof hh?Gr(i.Ie,a.Ie):i instanceof dh&&a instanceof dh}(t.transform,e.transform)}class nM{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class am{}function OS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Z0(t.key,nr.none()):new jc(t.key,t.data,nr.none());{const n=t.data,i=Rn.empty();let a=new Mt(Jt.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Vs(t.key,i,new Vn(a.toArray()),nr.none())}}function rM(t,e,n){t instanceof jc?function(a,l,c){const f=a.value.clone(),h=Mw(a.fieldTransforms,l,c.transformResults);f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Vs?function(a,l,c){if(!Md(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Mw(a.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(PS(a)),h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function oc(t,e,n,i){return t instanceof jc?function(l,c,f,h){if(!Md(l.precondition,c))return f;const p=l.value.clone(),y=Lw(l.fieldTransforms,h,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof Vs?function(l,c,f,h){if(!Md(l.precondition,c))return f;const p=Lw(l.fieldTransforms,h,c),y=c.data;return y.setAll(PS(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(t,e,n,i):function(l,c,f){return Md(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function iM(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=IS(i.transform,a||null);l!=null&&(n===null&&(n=Rn.empty()),n.set(i.field,l))}return n||null}function Pw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ml(i,a,(l,c)=>tM(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jc extends am{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Vs extends am{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function PS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Mw(t,e,n){const i=new Map;Ye(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,eM(c,f,n[a]))}return i}function Lw(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,JP(l,c,e))}return i}class Z0 extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sM extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&rM(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=oc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=oc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=RS();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const h=OS(c,f);h!==null&&i.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(n,i)=>Pw(n,i))&&ml(this.baseMutations,e.baseMutations,(n,i)=>Pw(n,i))}}class J0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Ye(e.mutations.length===i.length);let a=function(){return QP}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new J0(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,He;function uM(t){switch(t){case ae.OK:return Ce();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ce()}}function MS(t){if(t===void 0)return ki("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Rt.OK:return ae.OK;case Rt.CANCELLED:return ae.CANCELLED;case Rt.UNKNOWN:return ae.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ae.INTERNAL;case Rt.UNAVAILABLE:return ae.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ae.NOT_FOUND;case Rt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Rt.ABORTED:return ae.ABORTED;case Rt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Rt.DATA_LOSS:return ae.DATA_LOSS;default:return Ce()}}(He=Rt||(Rt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new xs([4294967295,4294967295],0);function jw(t){const e=iS().encode(t),n=new X2;return n.update(e),new Uint8Array(n.digest())}function Vw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new xs([n,i],0),new xs([a,l],0)]}class ev{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(i<0)throw new ec(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=xs.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply(xs.fromNumber(i)));return a.compare(cM)===1&&(a=new xs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=jw(e),[i,a]=Vw(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ev(l,a,n);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Ee===0)return;const n=jw(e),[i,a]=Vw(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new om(Ie.min(),a,new dt(Me),Oi(),ze())}}class Vc{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Vc(i,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class LS{constructor(e,n){this.targetId=e,this.ge=n}}class jS{constructor(e,n,i=en.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Uw{constructor(){this.pe=0,this.ye=zw(),this.we=en.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ze(),n=ze(),i=ze();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ce()}}),new Vc(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=zw()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class fM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Oi(),this.$e=Sd(),this.Ue=Sd(),this.Ke=new dt(Me)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(Qy(l))if(i===0){const c=new Ee(l.path);this.ze(n,c,un.newNoDocument(c,Ie.min()))}else Ye(i===1);else{const c=this.et(n);if(c!==i){const f=this.tt(e),h=f?this.nt(f,e,c):1;if(h!==0){this.Ye(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Ds(i).toUint8Array()}catch(h){if(h instanceof lS)return hl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new ev(c,a,l)}catch(h){return hl(h instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const f=this.Xe(c);if(f){if(l.current&&Qy(f.target)){const h=new Ee(f.target.path);this._t(h).has(c)||this.ut(c,h)||this.ze(c,h,un.newNoDocument(h,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let i=ze();this.Ue.forEach((l,c)=>{let f=!0;c.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new om(e,n,this.Ke,this.Qe,i);return this.Qe=Oi(),this.$e=Sd(),this.Ue=Sd(),this.Ke=new dt(Me),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Uw,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Mt(Me),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Mt(Me),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Uw),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Sd(){return new dt(Ee.comparator)}function zw(){return new dt(Ee.comparator)}const dM={asc:"ASCENDING",desc:"DESCENDING"},hM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mM={and:"AND",or:"OR"};class pM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xy(t,e){return t.useProto3Json||em(e)?e:{value:e}}function mh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gM(t,e){return mh(t,e.toTimestamp())}function $r(t){return Ye(!!t),Ie.fromTimestamp(function(n){const i=Ns(n);return new wt(i.seconds,i.nanos)}(t))}function tv(t,e){return Zy(t,e).canonicalString()}function Zy(t,e){const n=function(a){return new ot(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function US(t){const e=ot.fromString(t);return Ye(HS(e)),e}function Jy(t,e){return tv(t.databaseId,e.path)}function Jg(t,e){const n=US(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee($S(n))}function zS(t,e){return tv(t.databaseId,e)}function yM(t){const e=US(t);return e.length===4?ot.emptyPath():$S(e)}function e0(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $S(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $w(t,e,n){return{name:Jy(t,e),fields:n.value.mapValue.fields}}function vM(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Ye(y===void 0||typeof y=="string"),en.fromBase64String(y||"")):(Ye(y===void 0||y instanceof Buffer||y instanceof Uint8Array),en.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(p){const y=p.code===void 0?ae.UNKNOWN:MS(p.code);return new ge(y,p.message||"")}(c);n=new jS(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Jg(t,i.document.name),l=$r(i.document.updateTime),c=i.document.createTime?$r(i.document.createTime):Ie.min(),f=new Rn({mapValue:{fields:i.document.fields}}),h=un.newFoundDocument(a,l,c,f),p=i.targetIds||[],y=i.removedTargetIds||[];n=new Ld(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Jg(t,i.document),l=i.readTime?$r(i.readTime):Ie.min(),c=un.newNoDocument(a,l),f=i.removedTargetIds||[];n=new Ld([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Jg(t,i.document),l=i.removedTargetIds||[];n=new Ld([],l,a,null)}else{if(!("filter"in e))return Ce();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new lM(a,l),f=i.targetId;n=new LS(f,c)}}return n}function _M(t,e){let n;if(e instanceof jc)n={update:$w(t,e.key,e.value)};else if(e instanceof Z0)n={delete:Jy(t,e.key)};else if(e instanceof Vs)n={update:$w(t,e.key,e.data),updateMask:CM(e.fieldMask)};else{if(!(e instanceof sM))return Ce();n={verify:Jy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof dh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ec)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof wc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof hh)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw Ce()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:gM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce()}(t,e.precondition)),n}function bM(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?$r(a.updateTime):$r(l);return c.isEqual(Ie.min())&&(c=$r(l)),new nM(c,a.transformResults||[])}(n,e))):[]}function EM(t,e){return{documents:[zS(t,e.path)]}}function wM(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=zS(t,a);const l=function(p){if(p.length!==0)return BS(pr.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:Wo(b.field),direction:SM(b.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Xy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:a}}function TM(t){let e=yM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Ye(i===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(E){const b=FS(E);return b instanceof pr&&vS(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(E){return E.map(b=>function(A){return new bc(Xo(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(b))}(n.orderBy));let f=null;n.limit&&(f=function(E){let b;return b=typeof E=="object"?E.value:E,em(b)?null:b}(n.limit));let h=null;n.startAt&&(h=function(E){const b=!!E.before,T=E.values||[];return new fh(T,b)}(n.startAt));let p=null;return n.endAt&&(p=function(E){const b=!E.before,T=E.values||[];return new fh(T,b)}(n.endAt)),BP(e,a,c,l,f,"F",h,p)}function xM(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Xo(n.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Xo(n.unaryFilter.field);return Ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Xo(n.unaryFilter.field);return Ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xo(n.unaryFilter.field);return Ct.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(Xo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pr.create(n.compositeFilter.filters.map(i=>FS(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function SM(t){return dM[t]}function AM(t){return hM[t]}function RM(t){return mM[t]}function Wo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return Jt.fromServerFormat(t.fieldPath)}function BS(t){return t instanceof Ct?function(n){if(n.op==="=="){if(Cw(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NAN"}};if(Rw(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cw(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NAN"}};if(Rw(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(n.field),op:AM(n.op),value:n.value}}}(t):t instanceof pr?function(n){const i=n.getFilters().map(a=>BS(a));return i.length===1?i[0]:{compositeFilter:{op:RM(n.op),filters:i}}}(t):Ce()}function CM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,i,a,l=Ie.min(),c=Ie.min(),f=en.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.Tt=e}}function NM(t){const e=TM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.Tn=new kM}addToCollectionParentIndex(e,n){return this.Tn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Is.min())}updateCollectionGroup(e,n,i){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class kM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Mt(ot.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Mt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qS=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(qS,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new yl(0)}static Kn(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="LruGarbageCollector",OM=1048576;function Hw([t,e],[n,i]){const a=Me(t,n);return a===0?Me(e,i):a}class PM{constructor(e){this.Hn=e,this.buffer=new Mt(Hw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Hw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(Bw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Dl(n)?pe(Bw,"Ignoring IndexedDB error during garbage collection: ",n):await Nl(n)}await this.er(3e5)})}}class LM{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Jh.ae);const i=new PM(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Fw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fw):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,c,f,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(i=E,f=Date.now(),this.removeTargets(e,i,n))).next(E=>(l=E,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(p=Date.now(),Qo()<=Ue.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(h-f)+`ms
	Removed ${E} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function jM(t,e){return new LM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?le.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&oc(i.mutation,a,Vn.empty(),wt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ze()){const a=Oa();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let c=Ju();return l.forEach((f,h)=>{c=c.insert(f,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Oa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ze()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,i,a){let l=Oi();const c=ac(),f=function(){return ac()}();return n.forEach((h,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Vs)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),oc(y.mutation,p,y.mutation.getFieldMask(),wt.now())):c.set(p.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,l).next(h=>(h.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var E;return f.set(p,new UM(y,(E=c.get(p))!==null&&E!==void 0?E:null))}),f))}recalculateAndSaveOverlays(e,n){const i=ac();let a=new dt((c,f)=>c-f),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let y=i.get(h)||Vn.empty();y=f.applyToLocalView(p,y),i.set(h,y);const E=(a.get(f.batchId)||ze()).add(h);a=a.insert(f.batchId,E)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,y=h.value,E=RS();y.forEach(b=>{if(!l.has(b)){const T=OS(n.get(b),i.get(b));T!==null&&E.set(b,T),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,E))}return le.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):le.resolve(Oa());let f=gc,h=l;return c.next(p=>le.forEach(p,(y,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(y)?le.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{h=h.insert(y,b)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,h,p,ze())).next(y=>({batchId:f,changes:AS(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(i=>{let a=Ju();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Ju();return this.indexManager.getCollectionParents(e,l).next(f=>le.forEach(f,h=>{const p=function(E,b){return new kl(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(y=>{y.forEach((E,b)=>{c=c.insert(E,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(c=>{l.forEach((h,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))});let f=Ju();return c.forEach((h,p)=>{const y=l.get(h);y!==void 0&&oc(y.mutation,p,Vn.empty(),wt.now()),im(n,p)&&(f=f.insert(h,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return le.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:$r(a.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:NM(a.bundledQuery),readTime:$r(a.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.overlays=new dt(Ee.comparator),this.Rr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Oa();return le.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),le.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),le.resolve()}getOverlaysForCollection(e,n,i){const a=Oa(),l=n.length+1,c=new Ee(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&h.largestBatchId>i&&a.set(h.getKey(),h)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new dt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Oa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Oa(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return le.resolve(f)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new oM(n,i));let l=this.Rr.get(n);l===void 0&&(l=ze(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this.Vr=new Mt(Ht.mr),this.gr=new Mt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new Ht(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new Ht(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new Ee(new ot([])),i=new Ht(n,e),a=new Ht(n,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ee(new ot([])),i=new Ht(n,e),a=new Ht(n,e+1);let l=ze();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new Ht(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ee.comparator(e.key,n.key)||Me(e.Cr,n.Cr)}static pr(e,n){return Me(e.Cr,n.Cr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt(Ht.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new aM(l,n,i,a);this.mutationQueue.push(c);for(const f of a)this.Mr=this.Mr.add(new Ht(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,n){return le.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?G0:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ht(n,0),a=new Ht(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const f=this.Or(c.Cr);l.push(f)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Mt(Me);return n.forEach(a=>{const l=new Ht(a,0),c=new Ht(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],f=>{i=i.add(f.Cr)})}),le.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ee.isDocumentKey(l)||(l=l.child(""));const c=new Ht(new Ee(l),0);let f=new Mt(Me);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(h.Cr)),!0)},c),le.resolve(this.Br(f))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ye(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return le.forEach(n.mutations,a=>{const l=new Ht(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new Ht(n,0),a=this.Mr.firstAfterOrEqual(i);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.kr=e,this.docs=function(){return new dt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return le.resolve(i?i.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let i=Oi();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))}),le.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Oi();const c=n.path,f=new Ee(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||EP(bP(y),i)<=0||(a.has(y.key)||im(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ce()}qr(e,n){return le.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new GM(this)}getSize(e){return le.resolve(this.size)}}class GM extends VM{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),le.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.persistence=e,this.Qr=new Xa(n=>Y0(n),W0),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Ur=new nv,this.targetCount=0,this.Kr=yl.Un()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),le.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new yl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.zn(n),le.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),le.waitFor(l).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return le.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),le.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),le.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return le.resolve(i)}containsKey(e,n){return le.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Jh(0),this.zr=!1,this.zr=!0,this.jr=new BM,this.referenceDelegate=e(this),this.Hr=new KM(this),this.indexManager=new DM,this.remoteDocumentCache=function(a){return new qM(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new IM(n),this.Yr=new $M(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new HM(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){pe("MemoryPersistence","Starting transaction:",e);const a=new QM(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return le.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class QM extends TP{constructor(e){super(),this.currentSequenceNumber=e}}class rv{constructor(e){this.persistence=e,this.ti=new nv,this.ni=null}static ri(e){return new rv(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),le.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),le.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,i=>{const a=Ee.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,Ie.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return le.or([()=>le.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ph{constructor(e,n){this.persistence=e,this.oi=new Xa(i=>AP(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=jM(this,n)}static ri(e,n){return new ph(e,n)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return le.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?le.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(f=>{f||(i++,l.removeEntry(c,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),le.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Od(e.data.value)),n}ar(e,n,i){return le.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return le.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=ze(),a=ze();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new iv(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return G3()?8:xP(dn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new YM;return this._s(e,n,c).next(f=>{if(l.result=f,this.Xi)return this.us(e,n,c,f.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(Qo()<=Ue.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):(Qo()<=Ue.DEBUG&&pe("QueryEngine","Query:",Yo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(Qo()<=Ue.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):le.resolve())}rs(e,n){if(kw(n))return le.resolve(null);let i=zr(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Wy(n,null,"F"),i=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ze(...l);return this.ns.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(h=>{const p=this.cs(n,f);return this.ls(n,p,c,h.readTime)?this.rs(e,Wy(n,null,"F")):this.hs(e,p,n,h)}))})))}ss(e,n,i,a){return kw(n)||a.isEqual(Ie.min())?le.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(n,l);return this.ls(n,c,i,a)?le.resolve(null):(Qo()<=Ue.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Yo(n)),this.hs(e,c,n,_P(a,gc)).next(f=>f))})}cs(e,n){let i=new Mt(xS(e));return n.forEach((a,l)=>{im(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return Qo()<=Ue.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Yo(n)),this.ns.getDocumentsMatchingQuery(e,n,Is.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="LocalStore",XM=3e8;class ZM{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new dt(Me),this.Is=new Xa(l=>Y0(l),W0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function JM(t,e,n,i){return new ZM(t,e,n,i)}async function KS(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let h=ze();for(const p of a){c.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return n.localDocuments.getDocuments(i,h).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:f}))})})}function e9(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,p,y){const E=p.batch,b=E.keys();let T=le.resolve();return b.forEach(A=>{T=T.next(()=>y.getEntry(h,A)).next(D=>{const C=p.docVersions.get(A);Ye(C!==null),D.version.compareTo(C)<0&&(E.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))})}),T.next(()=>f.mutationQueue.removeMutationBatch(h,E))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let h=ze();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function QS(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function t9(t,e){const n=ke(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const f=[];e.targetChanges.forEach((y,E)=>{const b=a.get(E);if(!b)return;f.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,E).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,E)));let T=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?T=T.withResumeToken(en.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,i)),a=a.insert(E,T),function(D,C,P){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=XM?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(b,T,y)&&f.push(n.Hr.updateTargetData(l,T))});let h=Oi(),p=ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(n9(l,c,e.documentUpdates).next(y=>{h=y.Vs,p=y.fs})),!i.isEqual(Ie.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(E=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(y)}return le.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,h,p)).next(()=>h)}).then(l=>(n.Ts=a,l))}function n9(t,e,n){let i=ze(),a=ze();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Oi();return n.forEach((f,h)=>{const p=l.get(f);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),h.isNoDocument()&&h.version.isEqual(Ie.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):pe(sv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)}),{Vs:c,fs:a}})}function r9(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=G0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function i9(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,le.resolve(a)):n.Hr.allocateTargetId(i).next(c=>(a=new bs(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function t0(t,e,n){const i=ke(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Dl(c))throw c;pe(sv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function qw(t,e,n){const i=ke(t);let a=Ie.min(),l=ze();return i.persistence.runTransaction("Execute query","readwrite",c=>function(h,p,y){const E=ke(h),b=E.Is.get(y);return b!==void 0?le.resolve(E.Ts.get(b)):E.Hr.getTargetData(p,y)}(i,c,zr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,f.targetId).next(h=>{l=h})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,n?a:Ie.min(),n?l:ze())).next(f=>(s9(i,qP(e),f),{documents:f,gs:l})))}function s9(t,e,n){let i=t.Es.get(e)||Ie.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class Gw{constructor(){this.activeTargetIds=XP()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a9{constructor(){this.ho=new Gw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Gw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="ConnectivityMonitor";class Qw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(Kw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(Kw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function n0(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="RestConnection",l9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===uh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,n,i,a,l){const c=n0(),f=this.bo(e,n.toUriEncodedString());pe(ey,`Sending RPC '${e}' ${c}:`,f,i);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,a,l),this.vo(e,f,h,i).then(p=>(pe(ey,`Received RPC '${e}' ${c}: `,p),p),p=>{throw hl(ey,`RPC '${e}' ${c} failed with error: `,p,"url: ",f,"request:",i),p})}Co(e,n,i,a,l,c){return this.So(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Il}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,n){const i=l9[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class f9 extends u9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=n0();return new Promise((c,f)=>{const h=new Z2;h.setWithCredentials(!0),h.listenOnce(J2.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case kd.NO_ERROR:const y=h.getResponseJson();pe(an,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case kd.TIMEOUT:pe(an,`RPC '${e}' ${l} timed out`),f(new ge(ae.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const E=h.getStatus();if(pe(an,`RPC '${e}' ${l} failed with status:`,E,"response text:",h.getResponseText()),E>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b==null?void 0:b.error;if(T&&T.status&&T.message){const A=function(C){const P=C.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(P)>=0?P:ae.UNKNOWN}(T.status);f(new ge(A,T.message))}else f(new ge(ae.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ge(ae.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{pe(an,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);pe(an,`RPC '${e}' ${l} sending request:`,a),h.send(n,"POST",p,i,15)})}Wo(e,n,i){const a=n0(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=nS(),f=tS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const y=l.join("");pe(an,`Creating RPC '${e}' stream ${a}: ${y}`,h);const E=c.createWebChannel(y,h);let b=!1,T=!1;const A=new c9({Fo:C=>{T?pe(an,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(b||(pe(an,`Opening RPC '${e}' stream ${a} transport.`),E.open(),b=!0),pe(an,`RPC '${e}' stream ${a} sending:`,C),E.send(C))},Mo:()=>E.close()}),D=(C,P,L)=>{C.listen(P,I=>{try{L(I)}catch(z){setTimeout(()=>{throw z},0)}})};return D(E,Zu.EventType.OPEN,()=>{T||(pe(an,`RPC '${e}' stream ${a} transport opened.`),A.Qo())}),D(E,Zu.EventType.CLOSE,()=>{T||(T=!0,pe(an,`RPC '${e}' stream ${a} transport closed`),A.Uo())}),D(E,Zu.EventType.ERROR,C=>{T||(T=!0,hl(an,`RPC '${e}' stream ${a} transport errored:`,C),A.Uo(new ge(ae.UNAVAILABLE,"The operation could not be completed")))}),D(E,Zu.EventType.MESSAGE,C=>{var P;if(!T){const L=C.data[0];Ye(!!L);const I=L,z=(I==null?void 0:I.error)||((P=I[0])===null||P===void 0?void 0:P.error);if(z){pe(an,`RPC '${e}' stream ${a} received error:`,z);const q=z.status;let te=function(M){const V=Rt[M];if(V!==void 0)return MS(V)}(q),O=z.message;te===void 0&&(te=ae.INTERNAL,O="Unknown error status: "+q+" with message "+z.message),T=!0,A.Uo(new ge(te,O)),E.close()}else pe(an,`RPC '${e}' stream ${a} received:`,L),A.Ko(L)}}),D(f,eS.STAT_EVENT,C=>{C.stat===By.PROXY?pe(an,`RPC '${e}' stream ${a} detected buffering proxy`):C.stat===By.NOPROXY&&pe(an,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function ty(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t){return new pM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="PersistentStream";class WS{constructor(e,n,i,a,l,c,f,h){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new YS(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new ge(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(Yw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(pe(Yw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d9 extends WS{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=vM(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?$r(c.readTime):Ie.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=e0(this.serializer),n.addTarget=function(l,c){let f;const h=c.target;if(f=Qy(h)?{documents:EM(l,h)}:{query:wM(l,h).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=VS(l,c.resumeToken);const p=Xy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ie.min())>0){f.readTime=mh(l,c.snapshotVersion.toTimestamp());const p=Xy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const i=xM(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=e0(this.serializer),n.removeTarget=e,this.I_(n)}}class h9 extends WS{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=bM(e.writeResults,e.commitTime),i=$r(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=e0(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>_M(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{}class p9 extends m9{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Zy(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ae.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(e,Zy(n,i),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(ae.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class g9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ki(n),this.N_=!1):pe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="RemoteStore";class y9{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Za(this)&&(pe(qa,"Restarting streams for network reachability change."),await async function(h){const p=ke(h);p.W_.add(4),await Uc(p),p.j_.set("Unknown"),p.W_.delete(4),await um(p)}(this))})}),this.j_=new g9(i,a)}}async function um(t){if(Za(t))for(const e of t.G_)await e(!0)}async function Uc(t){for(const e of t.G_)await e(!1)}function XS(t,e){const n=ke(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),uv(n)?lv(n):Ol(n).c_()&&ov(n,e))}function av(t,e){const n=ke(t),i=Ol(n);n.K_.delete(e),i.c_()&&ZS(n,e),n.K_.size===0&&(i.c_()?i.P_():Za(n)&&n.j_.set("Unknown"))}function ov(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ol(t).y_(e)}function ZS(t,e){t.H_.Ne(e),Ol(t).w_(e)}function lv(t){t.H_=new fM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ol(t).start(),t.j_.B_()}function uv(t){return Za(t)&&!Ol(t).u_()&&t.K_.size>0}function Za(t){return ke(t).W_.size===0}function JS(t){t.H_=void 0}async function v9(t){t.j_.set("Online")}async function _9(t){t.K_.forEach((e,n)=>{ov(t,e)})}async function b9(t,e){JS(t),uv(t)?(t.j_.q_(e),lv(t)):t.j_.set("Unknown")}async function E9(t,e,n){if(t.j_.set("Online"),e instanceof jS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.K_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.K_.delete(f),a.H_.removeTarget(f))}(t,e)}catch(i){pe(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await gh(t,i)}else if(e instanceof Ld?t.H_.We(e):e instanceof LS?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ie.min()))try{const i=await QS(t.localStore);n.compareTo(i)>=0&&await function(l,c){const f=l.H_.ot(c);return f.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=l.K_.get(p);y&&l.K_.set(p,y.withResumeToken(h.resumeToken,c))}}),f.targetMismatches.forEach((h,p)=>{const y=l.K_.get(h);if(!y)return;l.K_.set(h,y.withResumeToken(en.EMPTY_BYTE_STRING,y.snapshotVersion)),ZS(l,h);const E=new bs(y.target,h,p,y.sequenceNumber);ov(l,E)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(i){pe(qa,"Failed to raise snapshot:",i),await gh(t,i)}}async function gh(t,e,n){if(!Dl(e))throw e;t.W_.add(1),await Uc(t),t.j_.set("Offline"),n||(n=()=>QS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe(qa,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await um(t)})}function eA(t,e){return e().catch(n=>gh(t,n,e))}async function cm(t){const e=ke(t),n=Os(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:G0;for(;w9(e);)try{const a=await r9(e.localStore,i);if(a===null){e.U_.length===0&&n.P_();break}i=a.batchId,T9(e,a)}catch(a){await gh(e,a)}tA(e)&&nA(e)}function w9(t){return Za(t)&&t.U_.length<10}function T9(t,e){t.U_.push(e);const n=Os(t);n.c_()&&n.S_&&n.b_(e.mutations)}function tA(t){return Za(t)&&!Os(t).u_()&&t.U_.length>0}function nA(t){Os(t).start()}async function x9(t){Os(t).C_()}async function S9(t){const e=Os(t);for(const n of t.U_)e.b_(n.mutations)}async function A9(t,e,n){const i=t.U_.shift(),a=J0.from(i,e,n);await eA(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await cm(t)}async function R9(t,e){e&&Os(t).S_&&await async function(i,a){if(function(c){return uM(c)&&c!==ae.ABORTED}(a.code)){const l=i.U_.shift();Os(i).h_(),await eA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await cm(i)}}(t,e),tA(t)&&nA(t)}async function Ww(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),pe(qa,"RemoteStore received new credentials");const i=Za(n);n.W_.add(3),await Uc(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await um(n)}async function C9(t,e){const n=ke(t);e?(n.W_.delete(2),await um(n)):e||(n.W_.add(2),await Uc(n),n.j_.set("Unknown"))}function Ol(t){return t.J_||(t.J_=function(n,i,a){const l=ke(n);return l.M_(),new d9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:v9.bind(null,t),No:_9.bind(null,t),Lo:b9.bind(null,t),p_:E9.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),uv(t)?lv(t):t.j_.set("Unknown")):(await t.J_.stop(),JS(t))})),t.J_}function Os(t){return t.Y_||(t.Y_=function(n,i,a){const l=ke(n);return l.M_(),new h9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:x9.bind(null,t),Lo:R9.bind(null,t),D_:S9.bind(null,t),v_:A9.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await cm(t)):(await t.Y_.stop(),t.U_.length>0&&(pe(qa,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,f=new cv(e,n,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fv(t,e){if(ki("AsyncQueue",`${e}: ${t}`),Dl(t))return new ge(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ee.comparator(n.key,i.key):(n,i)=>Ee.comparator(n.key,i.key),this.keyedMap=Ju(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new rl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.Z_=new dt(Ee.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class vl{constructor(e,n,i,a,l,c,f,h,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new vl(e,n,rl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class N9{constructor(){this.queries=Zw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=ke(n),l=a.queries;a.queries=Zw(),l.forEach((c,f)=>{for(const h of f.ta)h.onError(i)})})(this,new ge(ae.ABORTED,"Firestore shutting down"))}}function Zw(){return new Xa(t=>TS(t),rm)}async function dv(t,e){const n=ke(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new I9,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=fv(c,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&mv(n)}async function hv(t,e){const n=ke(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function D9(t,e){const n=ke(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ta)f.oa(a)&&(i=!0);c.ea=a}}i&&mv(n)}function k9(t,e,n){const i=ke(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function mv(t){t.ia.forEach(e=>{e.next()})}var r0,Jw;(Jw=r0||(r0={}))._a="default",Jw.Cache="cache";class pv{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new vl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==r0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.key=e}}class iA{constructor(e){this.key=e}}class O9{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ze(),this.mutatedKeys=ze(),this.ya=xS(e),this.wa=new rl(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new Xw,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,E)=>{const b=a.get(y),T=im(this.query,E)?E:null,A=!!b&&this.mutatedKeys.has(b.key),D=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;b&&T?b.data.isEqual(T.data)?A!==D&&(i.track({type:3,doc:T}),C=!0):this.va(b,T)||(i.track({type:2,doc:T}),C=!0,(h&&this.ya(T,h)>0||p&&this.ya(T,p)<0)&&(f=!0)):!b&&T?(i.track({type:0,doc:T}),C=!0):b&&!T&&(i.track({type:1,doc:b}),C=!0,(h||p)&&(f=!0)),C&&(T?(c=c.add(T),l=D?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:f,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,E)=>function(T,A){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return D(T)-D(A)}(y.type,E.type)||this.ya(y.doc,E.doc)),this.Ca(i),a=a!=null&&a;const f=n&&!a?this.Fa():[],h=this.pa.size===0&&this.current&&!a?1:0,p=h!==this.ga;return this.ga=h,c.length!==0||p?{snapshot:new vl(this.query,e.wa,l,c,e.mutatedKeys,h===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Xw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ze(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new iA(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new rA(i))}),n}Oa(e){this.fa=e.gs,this.pa=ze();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return vl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const gv="SyncEngine";class P9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class M9{constructor(e){this.key=e,this.Ba=!1}}class L9{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Xa(f=>TS(f),rm),this.qa=new Map,this.Qa=new Set,this.$a=new dt(Ee.comparator),this.Ua=new Map,this.Ka=new nv,this.Wa={},this.Ga=new Map,this.za=yl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function j9(t,e,n=!0){const i=cA(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await sA(i,e,n,!0),a}async function V9(t,e){const n=cA(t);await sA(n,e,!0,!1)}async function sA(t,e,n,i){const a=await i9(t.localStore,zr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await U9(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&XS(t.remoteStore,a),f}async function U9(t,e,n,i,a){t.Ha=(E,b,T)=>async function(D,C,P,L){let I=C.view.ba(P);I.ls&&(I=await qw(D.localStore,C.query,!1).then(({documents:O})=>C.view.ba(O,I)));const z=L&&L.targetChanges.get(C.targetId),q=L&&L.targetMismatches.get(C.targetId)!=null,te=C.view.applyChanges(I,D.isPrimaryClient,z,q);return tT(D,C.targetId,te.Ma),te.snapshot}(t,E,b,T);const l=await qw(t.localStore,e,!0),c=new O9(e,l.gs),f=c.ba(l.documents),h=Vc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,h);tT(t,n,p.Ma);const y=new P9(e,n,c);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function z9(t,e,n){const i=ke(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!rm(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await t0(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&av(i.remoteStore,a.targetId),i0(i,a.targetId)}).catch(Nl)):(i0(i,a.targetId),await t0(i.localStore,a.targetId,!0))}async function $9(t,e){const n=ke(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),av(n.remoteStore,i.targetId))}async function F9(t,e,n){const i=Y9(t);try{const a=await function(c,f){const h=ke(c),p=wt.now(),y=f.reduce((T,A)=>T.add(A.key),ze());let E,b;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=Oi(),D=ze();return h.ds.getEntries(T,y).next(C=>{A=C,A.forEach((P,L)=>{L.isValidDocument()||(D=D.add(P))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,A)).next(C=>{E=C;const P=[];for(const L of f){const I=iM(L,E.get(L.key).overlayedDocument);I!=null&&P.push(new Vs(L.key,I,pS(I.value.mapValue),nr.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,P,f)}).next(C=>{b=C;const P=C.applyToLocalDocumentSet(E,D);return h.documentOverlayCache.saveOverlays(T,C.batchId,P)})}).then(()=>({batchId:b.batchId,changes:AS(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,f,h){let p=c.Wa[c.currentUser.toKey()];p||(p=new dt(Me)),p=p.insert(f,h),c.Wa[c.currentUser.toKey()]=p}(i,a.batchId,n),await zc(i,a.changes),await cm(i.remoteStore)}catch(a){const l=fv(a,"Failed to persist write");n.reject(l)}}async function aA(t,e){const n=ke(t);try{const i=await t9(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ua.get(l);c&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?Ye(c.Ba):a.removedDocuments.size>0&&(Ye(c.Ba),c.Ba=!1))}),await zc(n,i,e)}catch(i){await Nl(i)}}function eT(t,e,n){const i=ke(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,c)=>{const f=c.view.sa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const h=ke(c);h.onlineState=f;let p=!1;h.queries.forEach((y,E)=>{for(const b of E.ta)b.sa(f)&&(p=!0)}),p&&mv(h)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function B9(t,e,n){const i=ke(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ua.get(e),l=a&&a.key;if(l){let c=new dt(Ee.comparator);c=c.insert(l,un.newNoDocument(l,Ie.min()));const f=ze().add(l),h=new om(Ie.min(),new Map,new dt(Me),c,f);await aA(i,h),i.$a=i.$a.remove(l),i.Ua.delete(e),yv(i)}else await t0(i.localStore,e,!1).then(()=>i0(i,e,n)).catch(Nl)}async function H9(t,e){const n=ke(t),i=e.batch.batchId;try{const a=await e9(n.localStore,e);lA(n,i,null),oA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zc(n,a)}catch(a){await Nl(a)}}async function q9(t,e,n){const i=ke(t);try{const a=await function(c,f){const h=ke(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,f).next(E=>(Ye(E!==null),y=E.keys(),h.mutationQueue.removeMutationBatch(p,E))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(i.localStore,e);lA(i,e,n),oA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await zc(i,a)}catch(a){await Nl(a)}}function oA(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function lA(t,e,n){const i=ke(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function i0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||uA(t,i)})}function uA(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(av(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),yv(t))}function tT(t,e,n){for(const i of n)i instanceof rA?(t.Ka.addReference(i.key,e),G9(t,i)):i instanceof iA?(pe(gv,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||uA(t,i.key)):Ce()}function G9(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(pe(gv,"New document in limbo: "+n),t.Qa.add(i),yv(t))}function yv(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ee(ot.fromString(e)),i=t.za.next();t.Ua.set(i,new M9(n)),t.$a=t.$a.insert(n,i),XS(t.remoteStore,new bs(zr(nm(n.path)),i,"TargetPurposeLimboResolution",Jh.ae))}}async function zc(t,e,n){const i=ke(t),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((f,h)=>{c.push(i.Ha(h,e,n).then(p=>{var y;if((p||n)&&i.isPrimaryClient){const E=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(h.targetId,E?"current":"not-current")}if(p){a.push(p);const E=iv.Yi(h.targetId,p);l.push(E)}}))}),await Promise.all(c),i.La.p_(a),await async function(h,p){const y=ke(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>le.forEach(p,b=>le.forEach(b.Hi,T=>y.persistence.referenceDelegate.addReference(E,b.targetId,T)).next(()=>le.forEach(b.Ji,T=>y.persistence.referenceDelegate.removeReference(E,b.targetId,T)))))}catch(E){if(!Dl(E))throw E;pe(sv,"Failed to update sequence numbers: "+E)}for(const E of p){const b=E.targetId;if(!E.fromCache){const T=y.Ts.get(b),A=T.snapshotVersion,D=T.withLastLimboFreeSnapshotVersion(A);y.Ts=y.Ts.insert(b,D)}}}(i.localStore,l))}async function K9(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){pe(gv,"User change. New user:",e.toKey());const i=await KS(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(f=>{f.forEach(h=>{h.reject(new ge(ae.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zc(n,i.Rs)}}function Q9(t,e){const n=ke(t),i=n.Ua.get(e);if(i&&i.Ba)return ze().add(i.key);{let a=ze();const l=n.qa.get(e);if(!l)return a;for(const c of l){const f=n.ka.get(c);a=a.unionWith(f.view.Sa)}return a}}function cA(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B9.bind(null,e),e.La.p_=D9.bind(null,e.eventManager),e.La.Ja=k9.bind(null,e.eventManager),e}function Y9(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q9.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return JM(this.persistence,new WM,e.initialUser,this.serializer)}Xa(e){return new GS(rv.ri,this.serializer)}Za(e){return new a9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class W9 extends yh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ye(this.persistence.referenceDelegate instanceof ph);const i=this.persistence.referenceDelegate.garbageCollector;return new MM(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new GS(i=>ph.ri(i,n),this.serializer)}}class s0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>eT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=K9.bind(null,this.syncEngine),await C9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N9}()}createDatastore(e){const n=lm(e.databaseInfo.databaseId),i=function(l){return new f9(l)}(e.databaseInfo);return function(l,c,f,h){return new p9(l,c,f,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,c,f){return new y9(i,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>eT(this.syncEngine,n,0),function(){return Qw.D()?new Qw:new o9}())}createSyncEngine(e,n){return function(a,l,c,f,h,p,y){const E=new L9(a,l,c,f,h,p);return y&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=ke(a);pe(qa,"RemoteStore shutting down."),l.W_.add(5),await Uc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}s0.provider={build:()=>new s0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class X9{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=sS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{pe(Ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(pe(Ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=fv(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ny(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Ps,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await KS(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z9(t);pe(Ps,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Ww(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>Ww(e.remoteStore,a)),t._onlineComponents=e}async function Z9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Ps,"Using user provided OfflineComponentProvider");try{await ny(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;hl("Error using user provided cache. Falling back to memory cache: "+n),await ny(t,new yh)}}else pe(Ps,"Using default OfflineComponentProvider"),await ny(t,new W9(void 0));return t._offlineComponents}async function fA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Ps,"Using user provided OnlineComponentProvider"),await nT(t,t._uninitializedComponentsProvider._online)):(pe(Ps,"Using default OnlineComponentProvider"),await nT(t,new s0))),t._onlineComponents}function J9(t){return fA(t).then(e=>e.syncEngine)}async function vh(t){const e=await fA(t),n=e.eventManager;return n.onListen=j9.bind(null,e.syncEngine),n.onUnlisten=z9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$9.bind(null,e.syncEngine),n}function eL(t,e,n={}){const i=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,h,p){const y=new vv({next:b=>{y.su(),c.enqueueAndForget(()=>hv(l,E));const T=b.docs.has(f);!T&&b.fromCache?p.reject(new ge(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&b.fromCache&&h&&h.source==="server"?p.reject(new ge(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),E=new pv(nm(f.path),y,{includeMetadataChanges:!0,Ta:!0});return dv(l,E)}(await vh(t),t.asyncQueue,e,n,i)),i.promise}function tL(t,e,n={}){const i=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,h,p){const y=new vv({next:b=>{y.su(),c.enqueueAndForget(()=>hv(l,E)),b.fromCache&&h.source==="server"?p.reject(new ge(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),E=new pv(f,y,{includeMetadataChanges:!0,Ta:!0});return dv(l,E)}(await vh(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e,n){if(!n)throw new ge(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nL(t,e,n,i){if(e===!0&&i===!0)throw new ge(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iT(t){if(!Ee.isDocumentKey(t))throw new ge(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sT(t){if(Ee.isDocumentKey(t))throw new ge(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function Cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fm(t);throw new ge(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firestore.googleapis.com",aT=!0;class oT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mA,this.ssl=aT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:aT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OM)throw new ge(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new cP;switch(i.type){case"firstParty":return new mP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=rT.get(n);i&&(pe("ComponentProvider","Removing Datastore"),rT.delete(n),i.terminate())}(this),Promise.resolve()}}function rL(t,e,n,i={}){var a;const l=(t=Cn(t,dm))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;l.host!==mA&&l.host!==f&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:i});if(!Fa(h,c)&&(t._setSettings(h),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=on.MOCK_USER;else{p=U3(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ge(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(E)}t._authCredentials=new fP(new rS(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class fn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Ss extends Us{constructor(e,n,i){super(e,n,nm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Ee(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function Zo(t,e,...n){if(t=Lt(t),hA("collection","path",e),t instanceof dm){const i=ot.fromString(e,...n);return sT(i),new Ss(t,null,i)}{if(!(t instanceof fn||t instanceof Ss))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return sT(i),new Ss(t.firestore,null,i)}}function Ei(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=sS.newId()),hA("doc","path",e),t instanceof dm){const i=ot.fromString(e,...n);return iT(i),new fn(t,null,new Ee(i))}{if(!(t instanceof fn||t instanceof Ss))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return iT(i),new fn(t.firestore,t instanceof Ss?t.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="AsyncQueue";class uT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new YS(this,"async_queue_retry"),this.Su=()=>{const i=ty();i&&pe(lT,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=ty();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=ty();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ai;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Dl(e))throw e;pe(lT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw ki("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=cv.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function cT(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Pi extends dm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new uT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uT(e),this._firestoreClient=void 0,await e}}}function iL(t,e){const n=typeof t=="object"?t:Q2(),i=typeof t=="string"?t:uh,a=H0(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=j3("firestore");l&&rL(a,...l)}return a}function hm(t){if(t._terminated)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sL(t),t._firestoreClient}function sL(t){var e,n,i;const a=t._freezeSettings(),l=function(f,h,p,y){return new IP(f,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,dA(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new X9(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _l(en.fromBase64String(e))}catch(n){throw new ge(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _l(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=/^__.*__$/;class oL{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}class pA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class wv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return _h(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(gA(this.Lu)&&aL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class lL{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||lm(e)}ju(e,n,i,a=!1){return new wv({Lu:e,methodName:n,zu:i,path:Jt.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pm(t){const e=t._freezeSettings(),n=lm(t._databaseId);return new lL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yA(t,e,n,i,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);Tv("Data must be an object, but it was:",c,i);const f=vA(i,c);let h,p;if(l.merge)h=new Vn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const b=a0(e,E,n);if(!c.contains(b))throw new ge(ae.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);bA(y,b)||y.push(b)}h=new Vn(y),p=c.fieldTransforms.filter(E=>h.covers(E.field))}else h=null,p=c.fieldTransforms;return new oL(new Rn(f),h,p)}class gm extends _v{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gm}}function uL(t,e,n,i){const a=t.ju(1,e,n);Tv("Data must be an object, but it was:",a,i);const l=[],c=Rn.empty();js(i,(h,p)=>{const y=xv(e,h,n);p=Lt(p);const E=a.Uu(y);if(p instanceof gm)l.push(y);else{const b=$c(p,E);b!=null&&(l.push(y),c.set(y,b))}});const f=new Vn(l);return new pA(c,f,a.fieldTransforms)}function cL(t,e,n,i,a,l){const c=t.ju(1,e,n),f=[a0(e,i,n)],h=[a];if(l.length%2!=0)throw new ge(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(a0(e,l[b])),h.push(l[b+1]);const p=[],y=Rn.empty();for(let b=f.length-1;b>=0;--b)if(!bA(p,f[b])){const T=f[b];let A=h[b];A=Lt(A);const D=c.Uu(T);if(A instanceof gm)p.push(T);else{const C=$c(A,D);C!=null&&(p.push(T),y.set(T,C))}}const E=new Vn(p);return new pA(y,E,c.fieldTransforms)}function fL(t,e,n,i=!1){return $c(n,t.ju(i?4:3,e))}function $c(t,e){if(_A(t=Lt(t)))return Tv("Unsupported field value:",e,t),vA(t,e);if(t instanceof _v)return function(i,a){if(!gA(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const f of i){let h=$c(f,a.Ku(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=Lt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=wt.fromDate(i);return{timestampValue:mh(a.serializer,l)}}if(i instanceof wt){const l=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:mh(a.serializer,l)}}if(i instanceof bv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof _l)return{bytesValue:VS(a.serializer,i._byteString)};if(i instanceof fn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:tv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ev)return function(c,f){return{mapValue:{fields:{[hS]:{stringValue:mS},[ch]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.Wu("VectorValues must only contain numeric values.");return X0(f.serializer,p)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${fm(i)}`)}(t,e)}function vA(t,e){const n={};return oS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(t,(i,a)=>{const l=$c(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function _A(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof bv||t instanceof _l||t instanceof fn||t instanceof _v||t instanceof Ev)}function Tv(t,e,n){if(!_A(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=fm(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function a0(t,e,n){if((e=Lt(e))instanceof mm)return e._internalPath;if(typeof e=="string")return xv(t,e);throw _h("Field path arguments must be of type string or ",t,!1,void 0,n)}const dL=new RegExp("[~\\*/\\[\\]]");function xv(t,e,n){if(e.search(dL)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mm(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _h(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${i}`),c&&(h+=` in document ${a}`),h+=")"),new ge(ae.INVALID_ARGUMENT,f+t+h)}function bA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hL extends EA{data(){return super.data()}}function Sv(t,e){return typeof e=="string"?xv(t,e):e instanceof mm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Av{}class TA extends Av{}function fT(t,e,...n){let i=[];e instanceof Av&&i.push(e),i=i.concat(n),function(l){const c=l.filter(h=>h instanceof Cv).length,f=l.filter(h=>h instanceof Rv).length;if(c>1||c>0&&f>0)throw new ge(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)t=a._apply(t);return t}class Rv extends TA{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Rv(e,n,i)}_apply(e){const n=this._parse(e);return xA(e._query,n),new Us(e.firestore,e.converter,Yy(e._query,n))}_parse(e){const n=pm(e.firestore);return function(l,c,f,h,p,y,E){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){hT(E,y);const A=[];for(const D of E)A.push(dT(h,l,D));b={arrayValue:{values:A}}}else b=dT(h,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||hT(E,y),b=fL(f,c,E,y==="in"||y==="not-in");return Ct.create(p,y,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Cv extends Av{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cv(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const h of f)xA(c,h),c=Yy(c,h)}(e._query,n),new Us(e.firestore,e.converter,Yy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Iv extends TA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Iv(e,n)}_apply(e){const n=function(a,l,c){if(a.startAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bc(l,c)}(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new kl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function mL(t,e="asc"){const n=e,i=Sv("orderBy",t);return Iv._create(i,n)}function dT(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new ge(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wS(e)&&n.indexOf("/")!==-1)throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ot.fromString(n));if(!Ee.isDocumentKey(i))throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Aw(t,new Ee(i))}if(n instanceof fn)return Aw(t,n._key);throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fm(n)}.`)}function hT(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xA(t,e){const n=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pL{convertValue(e,n="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return js(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[ch].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Et(c.doubleValue));return new Ev(l)}convertGeoPoint(e){return new bv(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=tm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const n=Ns(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ot.fromString(e);Ye(HS(i));const a=new vc(i.get(1),i.get(3)),l=new Ee(i.popFirst(5));return a.isEqual(n)||ki(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AA extends EA{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Sv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class jd extends AA{data(e={}){return super.data(e)}}class RA{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new tc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new jd(this._firestore,this._userDataWriter,i.key,i,new tc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const h=new jd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new tc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const h=new jd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new tc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:gL(f.type),doc:h,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t){t=Cn(t,fn);const e=Cn(t.firestore,Pi);return eL(hm(e),t._key).then(n=>IA(e,t,n))}class Dv extends pL{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function mT(t){t=Cn(t,Us);const e=Cn(t.firestore,Pi),n=hm(e),i=new Dv(e);return wA(t._query),tL(n,t._query).then(a=>new RA(e,i,t,a))}function ry(t,e,n){t=Cn(t,fn);const i=Cn(t.firestore,Pi),a=SA(t.converter,e);return ym(i,[yA(pm(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,nr.none())])}function yL(t,e,n,...i){t=Cn(t,fn);const a=Cn(t.firestore,Pi),l=pm(a);let c;return c=typeof(e=Lt(e))=="string"||e instanceof mm?cL(l,"updateDoc",t._key,e,n,i):uL(l,"updateDoc",t._key,e),ym(a,[c.toMutation(t._key,nr.exists(!0))])}function CA(t){return ym(Cn(t.firestore,Pi),[new Z0(t._key,nr.none())])}function kv(t,e){const n=Cn(t.firestore,Pi),i=Ei(t),a=SA(t.converter,e);return ym(n,[yA(pm(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,nr.exists(!1))]).then(()=>i)}function vL(t,...e){var n,i,a;t=Lt(t);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||cT(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(cT(e[c])){const E=e[c];e[c]=(n=E.next)===null||n===void 0?void 0:n.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let h,p,y;if(t instanceof fn)p=Cn(t.firestore,Pi),y=nm(t._key.path),h={next:E=>{e[c]&&e[c](IA(p,t,E))},error:e[c+1],complete:e[c+2]};else{const E=Cn(t,Us);p=Cn(E.firestore,Pi),y=E._query;const b=new Dv(p);h={next:T=>{e[c]&&e[c](new RA(p,b,E,T))},error:e[c+1],complete:e[c+2]},wA(t._query)}return function(b,T,A,D){const C=new vv(D),P=new pv(T,C,A);return b.asyncQueue.enqueueAndForget(async()=>dv(await vh(b),P)),()=>{C.su(),b.asyncQueue.enqueueAndForget(async()=>hv(await vh(b),P))}}(hm(p),y,f,h)}function ym(t,e){return function(i,a){const l=new Ai;return i.asyncQueue.enqueueAndForget(async()=>F9(await J9(i),a,l)),l.promise}(hm(t),e)}function IA(t,e,n){const i=n.docs.get(e._key),a=new Dv(t);return new AA(t,a,e._key,i,new tc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Il=a})(Cl),dl(new Ba("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Pi(new dP(i.getProvider("auth-internal")),new pP(c,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Ts(mw,pw,e),Ts(mw,pw,"esm2017")})();var _L="firebase",bL="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(_L,bL,"app");function Ov(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function NA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EL=NA,DA=new Mc("auth","Firebase",NA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new F0("@firebase/auth");function wL(t,...e){bh.logLevel<=Ue.WARN&&bh.warn(`Auth (${Cl}): ${t}`,...e)}function Vd(t,...e){bh.logLevel<=Ue.ERROR&&bh.error(`Auth (${Cl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,...e){throw Pv(t,...e)}function Fr(t,...e){return Pv(t,...e)}function kA(t,e,n){const i=Object.assign(Object.assign({},EL()),{[e]:n});return new Mc("auth","Firebase",i).create(e,{appName:t.name})}function Ri(t){return kA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return DA.create(t,...e)}function Se(t,e,...n){if(!t)throw Pv(e,...n)}function wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function Mi(t,e){t||wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TL(){return pT()==="http:"||pT()==="https:"}function pT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TL()||B3()||"connection"in navigator)?navigator.onLine:!0}function SL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mi(n>e,"Short delay should be less than long delay!"),this.isMobile=z3()||H3()}get(){return xL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CL=new Fc(3e4,6e4);function zs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $s(t,e,n,i,a={}){return PA(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Lc(Object.assign({key:t.config.apiKey},c)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},l);return F3()||(p.referrerPolicy="no-referrer"),OA.fetch()(await MA(t,t.config.apiHost,n,f),p)})}async function PA(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},AL),e);try{const a=new NL(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Rd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[h,p]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rd(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Rd(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Rd(t,"user-disabled",c);const y=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw kA(t,y,p);gr(t,y)}}catch(a){if(a instanceof Li)throw a;gr(t,"network-request-failed",{message:String(a)})}}async function Bc(t,e,n,i,a={}){const l=await $s(t,e,n,i,a);return"mfaPendingCredential"in l&&gr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function MA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?Mv(t.config,a):`${t.config.apiScheme}://${a}`;return RL.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function IL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Fr(this.auth,"network-request-failed")),CL.get())})}}function Rd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Fr(t,e,i);return a.customData._tokenResponse=n,a}function gT(t){return t!==void 0&&t.enterprise!==void 0}class DL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kL(t,e){return $s(t,"GET","/v2/recaptchaConfig",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e){return $s(t,"POST","/v1/accounts:delete",e)}async function Eh(t,e){return $s(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PL(t,e=!1){const n=Lt(t),i=await n.getIdToken(e),a=Lv(i);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:lc(iy(a.auth_time)),issuedAtTime:lc(iy(a.iat)),expirationTime:lc(iy(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function iy(t){return Number(t)*1e3}function Lv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const a=$2(n);return a?JSON.parse(a):(Vd("Failed to decode base64 JWT payload"),null)}catch(a){return Vd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function yT(t){const e=Lv(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Li&&ML(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function ML({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t){var e;const n=t.auth,i=await t.getIdToken(),a=await Tc(t,Eh(n,{idToken:i}));Se(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?LA(l.providerUserInfo):[],f=VL(t.providerData,c),h=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),y=h?p:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new l0(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,E)}async function jL(t){const e=Lt(t);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VL(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function LA(t){return t.map(e=>{var{providerId:n}=e,i=Ov(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e){const n=await PA(t,{},async()=>{const i=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await MA(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",OA.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zL(t,e){return $s(t,"POST","/v2/accounts:revokeToken",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=yT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await UL(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new il;return i&&(Se(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fr{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new l0(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Tc(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PL(this,e)}reload(){return jL(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await Tc(this,OL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,f,h,p,y;const E=(i=n.displayName)!==null&&i!==void 0?i:void 0,b=(a=n.email)!==null&&a!==void 0?a:void 0,T=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,A=(c=n.photoURL)!==null&&c!==void 0?c:void 0,D=(f=n.tenantId)!==null&&f!==void 0?f:void 0,C=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,P=(p=n.createdAt)!==null&&p!==void 0?p:void 0,L=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:I,emailVerified:z,isAnonymous:q,providerData:te,stsTokenManager:O}=n;Se(I&&O,e,"internal-error");const N=il.fromJSON(this.name,O);Se(typeof I=="string",e,"internal-error"),ds(E,e.name),ds(b,e.name),Se(typeof z=="boolean",e,"internal-error"),Se(typeof q=="boolean",e,"internal-error"),ds(T,e.name),ds(A,e.name),ds(D,e.name),ds(C,e.name),ds(P,e.name),ds(L,e.name);const M=new fr({uid:I,auth:e,email:b,emailVerified:z,displayName:E,isAnonymous:q,photoURL:A,phoneNumber:T,tenantId:D,stsTokenManager:N,createdAt:P,lastLoginAt:L});return te&&Array.isArray(te)&&(M.providerData=te.map(V=>Object.assign({},V))),C&&(M._redirectEventId=C),M}static async _fromIdTokenResponse(e,n,i=!1){const a=new il;a.updateFromServerResponse(n);const l=new fr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await wh(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?LA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new il;f.updateFromIdToken(i);const h=new fr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new l0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;function Ti(t){Mi(t instanceof Function,"Expected a class definition");let e=vT.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jA.type="NONE";const _T=jA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t,e,n){return`firebase:${t}:${e}:${n}`}class sl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ud(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ud("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eh(this.auth,{idToken:e}).catch(()=>{});return n?fr._fromGetAccountInfoResponse(this.auth,n,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new sl(Ti(_T),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ti(_T);const c=Ud(i,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let E;if(typeof y=="string"){const b=await Eh(e,{idToken:y}).catch(()=>{});if(!b)break;E=await fr._fromGetAccountInfoResponse(e,b,y)}else E=fr._fromJSON(e,y);p!==l&&(f=E),l=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new sl(l,e,i):(l=h[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new sl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BA(e))return"Blackberry";if(HA(e))return"Webos";if(UA(e))return"Safari";if((e.includes("chrome/")||zA(e))&&!e.includes("edge/"))return"Chrome";if(FA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function VA(t=dn()){return/firefox\//i.test(t)}function UA(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zA(t=dn()){return/crios\//i.test(t)}function $A(t=dn()){return/iemobile/i.test(t)}function FA(t=dn()){return/android/i.test(t)}function BA(t=dn()){return/blackberry/i.test(t)}function HA(t=dn()){return/webos/i.test(t)}function jv(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $L(t=dn()){var e;return jv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FL(){return q3()&&document.documentMode===10}function qA(t=dn()){return jv(t)||FA(t)||HA(t)||BA(t)||/windows phone/i.test(t)||$A(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t,e=[]){let n;switch(t){case"Browser":n=bT(dn());break;case"Worker":n=`${bT(dn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,f)=>{try{const h=e(l);c(h)}catch(h){f(h)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e={}){return $s(t,"GET","/v2/passwordPolicy",zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=6;class GL{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:qL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsUppercaseLetter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ET(this),this.idTokenSubscription=new ET(this),this.beforeStateQueue=new BL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eh(this,{idToken:e}),i=await fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(tr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===f)&&(h!=null&&h.user)&&(a=h.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(Ri(this));const n=e?Lt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HL(this),n=new GL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await zL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ja(t){return Lt(t)}class ET{constructor(e){this.auth=e,this.observer=null,this.addObserver=J3(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QL(t){vm=t}function KA(t){return vm.loadJS(t)}function YL(){return vm.recaptchaEnterpriseScript}function WL(){return vm.gapiScript}function XL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZL{constructor(){this.enterprise=new JL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ej="recaptcha-enterprise",QA="NO_RECAPTCHA";class tj{constructor(e){this.type=ej,this.auth=Ja(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{kL(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new DL(h);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(h=>{f(h)})})}function a(l,c,f){const h=window.grecaptcha;gT(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(QA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZL().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!n&&gT(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=YL();h.length!==0&&(h+=f),KA(h).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function wT(t,e,n,i=!1,a=!1){const l=new tj(t);let c;if(a)c=QA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function u0(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wT(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await wT(t,e,n,n==="getOobCode");return i(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t,e){const n=H0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Fa(l,e??{}))return a;gr(a,"already-initialized")}return n.initialize({options:e})}function rj(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function ij(t,e,n){const i=Ja(t);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=YA(e),{host:c,port:f}=sj(e),h=f===null?"":`:${f}`,p={url:`${l}//${c}${h}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Fa(p,i.config.emulator)&&Fa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,aj()}function YA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sj(t){const e=YA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:TT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:TT(c)}}}function TT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wi("not implemented")}_getIdTokenResponse(e){return wi("not implemented")}_linkToIdToken(e,n){return wi("not implemented")}_getReauthenticationResolver(e){return wi("not implemented")}}async function oj(t,e){return $s(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return Bc(t,"POST","/v1/accounts:signInWithPassword",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,e){return Bc(t,"POST","/v1/accounts:signInWithEmailLink",zs(t,e))}async function cj(t,e){return Bc(t,"POST","/v1/accounts:signInWithEmailLink",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Vv{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new xc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new xc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u0(e,n,"signInWithPassword",lj);case"emailLink":return uj(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u0(e,i,"signUpPassword",oj);case"emailLink":return cj(e,{idToken:n,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e){return Bc(t,"POST","/v1/accounts:signInWithIdp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="http://localhost";class Ga extends Vv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Ov(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Ga(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return al(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,al(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,al(e,n)}buildRequest(){const e={requestUri:fj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hj(t){const e=Wu(Xu(t)).link,n=e?Wu(Xu(e)).deep_link_id:null,i=Wu(Xu(t)).deep_link_id;return(i?Wu(Xu(i)).link:null)||i||n||e||t}class Uv{constructor(e){var n,i,a,l,c,f;const h=Wu(Xu(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,y=(i=h.oobCode)!==null&&i!==void 0?i:null,E=dj((a=h.mode)!==null&&a!==void 0?a:null);Se(p&&y&&E,"argument-error"),this.apiKey=p,this.operation=E,this.code=y,this.continueUrl=(l=h.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=h.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=hj(e);try{return new Uv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.providerId=Pl.PROVIDER_ID}static credential(e,n){return xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Uv.parseLink(n);return Se(i,"argument-error"),xc._fromEmailAndCode(e,i.code,i.tenantId)}}Pl.PROVIDER_ID="password";Pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends WA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Hc{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ps.credential(n,i)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Hc{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Hc{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ys.credential(n,i)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e){return Bc(t,"POST","/v1/accounts:signUp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await fr._fromIdTokenResponse(e,i,a),c=xT(i);return new Ka({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=xT(i);return new Ka({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function xT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends Li{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Th(e,n,i,a)}}function XA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(t,l,e,i):l})}async function pj(t,e,n=!1){const i=await Tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ka._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e,n=!1){const{auth:i}=t;if(tr(i.app))return Promise.reject(Ri(i));const a="reauthenticate";try{const l=await Tc(t,XA(i,a,e,t),n);Se(l.idToken,i,"internal-error");const c=Lv(l.idToken);Se(c,i,"internal-error");const{sub:f}=c;return Se(t.uid===f,i,"user-mismatch"),Ka._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&gr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA(t,e,n=!1){if(tr(t.app))return Promise.reject(Ri(t));const i="signIn",a=await XA(t,i,e),l=await Ka._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function yj(t,e){return ZA(Ja(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(t){const e=Ja(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vj(t,e,n){if(tr(t.app))return Promise.reject(Ri(t));const i=Ja(t),c=await u0(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mj).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&JA(t),h}),f=await Ka._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function _j(t,e,n){return tr(t.app)?Promise.reject(Ri(t)):yj(Lt(t),Pl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&JA(t),i})}function bj(t,e,n,i){return Lt(t).onIdTokenChanged(e,n,i)}function Ej(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function wj(t,e,n,i){return Lt(t).onAuthStateChanged(e,n,i)}function Tj(t){return Lt(t).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=1e3,Sj=10;class tR extends eR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);FL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Sj):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},xj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tR.type="LOCAL";const Aj=tR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR extends eR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nR.type="SESSION";const rR=nR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new _m(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),h=await Rj(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,h)=>{const p=zv("",20);a.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(E){const b=E;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function Ij(t){Br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function Nj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kj(){return iR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebaseLocalStorageDb",Oj=1,Sh="firebaseLocalStorage",aR="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bm(t,e){return t.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function Pj(){const t=indexedDB.deleteDatabase(sR);return new qc(t).toPromise()}function c0(){const t=indexedDB.open(sR,Oj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Sh,{keyPath:aR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Sh)?e(i):(i.close(),await Pj(),e(await c0()))})})}async function ST(t,e,n){const i=bm(t,!0).put({[aR]:e,value:n});return new qc(i).toPromise()}async function Mj(t,e){const n=bm(t,!1).get(e),i=await new qc(n).toPromise();return i===void 0?null:i.value}function AT(t,e){const n=bm(t,!0).delete(e);return new qc(n).toPromise()}const Lj=800,jj=3;class oR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>jj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_m._getInstance(kj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Nj(),!this.activeServiceWorker)return;this.sender=new Cj(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c0();return await ST(e,xh,"1"),await AT(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ST(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Mj(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=bm(a,!1).getAll();return new qc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oR.type="LOCAL";const Vj=oR;new Fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t,e){return e?Ti(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends Vv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zj(t){return ZA(t.auth,new $v(t),t.bypassAuthState)}function $j(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),gj(n,new $v(t),t.bypassAuthState)}async function Fj(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),pj(n,new $v(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zj;case"linkViaPopup":case"linkViaRedirect":return Fj;case"reauthViaPopup":case"reauthViaRedirect":return $j;default:gr(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=new Fc(2e3,1e4);class Jo extends lR{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Mi(this.filter.length===1,"Popup operations only handle one event");const e=zv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bj.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="pendingRedirect",zd=new Map;class qj extends lR{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=zd.get(this.auth._key());if(!e){try{const i=await Gj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}zd.set(this.auth._key(),e)}return this.bypassAuthState||zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gj(t,e){const n=Yj(e),i=Qj(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function Kj(t,e){zd.set(t._key(),e)}function Qj(t){return Ti(t._redirectPersistence)}function Yj(t){return Ud(Hj,t.config.apiKey,t.name)}async function Wj(t,e,n=!1){if(tr(t.app))return Promise.reject(Ri(t));const i=Ja(t),a=Uj(i,e),c=await new qj(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=10*60*1e3;class Zj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!uR(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Fr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xj&&this.cachedEventUids.clear(),this.cachedEventUids.has(RT(e))}saveEventToCache(e){this.cachedEventUids.add(RT(e)),this.lastProcessedEventTime=Date.now()}}function RT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Jj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e={}){return $s(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nV=/^https?/;async function rV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eV(t);for(const n of e)try{if(iV(n))return}catch{}gr(t,"unauthorized-domain")}function iV(t){const e=o0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!nV.test(n))return!1;if(tV.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Fc(3e4,6e4);function CT(){const t=Br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aV(t){return new Promise((e,n)=>{var i,a,l;function c(){CT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CT(),n(Fr(t,"network-request-failed"))},timeout:sV.get()})}if(!((a=(i=Br().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Br().gapi)===null||l===void 0)&&l.load)c();else{const f=XL("iframefcb");return Br()[f]=()=>{gapi.load?c():n(Fr(t,"network-request-failed"))},KA(`${WL()}?onload=${f}`).catch(h=>n(h))}}).catch(e=>{throw $d=null,e})}let $d=null;function oV(t){return $d=$d||aV(t),$d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new Fc(5e3,15e3),uV="__/auth/iframe",cV="emulator/auth/iframe",fV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hV(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mv(e,cV):`https://${t.config.authDomain}/${uV}`,i={apiKey:e.apiKey,appName:t.name,v:Cl},a=dV.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Lc(i).slice(1)}`}async function mV(t){const e=await oV(t),n=Br().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:hV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fV,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Fr(t,"network-request-failed"),f=Br().setTimeout(()=>{l(c)},lV.get());function h(){Br().clearTimeout(f),a(i)}i.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gV=500,yV=600,vV="_blank",_V="http://localhost";class IT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bV(t,e,n,i=gV,a=yV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h=Object.assign(Object.assign({},pV),{width:i.toString(),height:a.toString(),top:l,left:c}),p=dn().toLowerCase();n&&(f=zA(p)?vV:n),VA(p)&&(e=e||_V,h.scrollbars="yes");const y=Object.entries(h).reduce((b,[T,A])=>`${b}${T}=${A},`,"");if($L(p)&&f!=="_self")return EV(e||"",f),new IT(null);const E=window.open(e||"",f,y);Se(E,t,"popup-blocked");try{E.focus()}catch{}return new IT(E)}function EV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="__/auth/handler",TV="emulator/auth/handler",xV=encodeURIComponent("fac");async function NT(t,e,n,i,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Cl,eventId:a};if(e instanceof WA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Z3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))c[y]=E}if(e instanceof Hc){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const h=await t._getAppCheckToken(),p=h?`#${xV}=${encodeURIComponent(h)}`:"";return`${SV(t)}?${Lc(f).slice(1)}${p}`}function SV({config:t}){return t.emulator?Mv(t,TV):`https://${t.authDomain}/${wV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="webStorageSupport";class AV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rR,this._completeRedirectFn=Wj,this._overrideRedirectResult=Kj}async _openPopup(e,n,i,a){var l;Mi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await NT(e,n,i,o0(),a);return bV(e,c,zv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await NT(e,n,i,o0(),a);return Ij(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Mi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await mV(e),i=new Zj(e);return n.register("authEvent",a=>(Se(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sy,{type:sy},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[sy];c!==void 0&&n(!!c),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qA()||UA()||jv()}}const RV=AV;var DT="@firebase/auth",kT="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NV(t){dl(new Ba("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GA(t)},p=new KL(i,a,l,h);return rj(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),dl(new Ba("auth-internal",e=>{const n=Ja(e.getProvider("auth").getImmediate());return(i=>new CV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(DT,kT,IV(t)),Ts(DT,kT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=5*60,kV=H2("authIdTokenMaxAge")||DV;let OT=null;const OV=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>kV)return;const a=n==null?void 0:n.token;OT!==a&&(OT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function PV(t=Q2()){const e=H0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nj(t,{popupRedirectResolver:RV,persistence:[Vj,Aj,rR]}),i=H2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=OV(l.toString());Ej(n,c,()=>c(n.currentUser)),bj(n,f=>c(f))}}const a=F2("auth");return a&&ij(n,`http://${a}`),n}function MV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Fr("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",MV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NV("Browser");const LV={apiKey:"AIzaSyC0UPA02g-WVuFowTjPCcDKfmIq6D0jmxA",authDomain:"testmode-214a4.firebaseapp.com",projectId:"testmode-214a4",storageBucket:"testmode-214a4.firebasestorage.app",messagingSenderId:"767394219829",appId:"1:767394219829:web:fbe3fc43636f4517e72e7c"},cR=K2(LV),An=iL(cR),Ah=PV(cR);function jV(){const t=w.useContext(jt),{mode:e}=t,n=Hh(),i=kc(L=>L.cart),a=L=>{n(tw(L)),we.success("Item Deleted",{position:"top-center"})};w.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(i))},[i]);const[l,c]=w.useState(0);w.useEffect(()=>{const L=i.reduce((I,z)=>I+parseInt(z.price),0);c(L)},[i]);const f=120,h=f+l,[p,y]=w.useState(""),[E,b]=w.useState(""),[T,A]=w.useState(""),[D,C]=w.useState(""),P=async()=>{if(!p||!E||!T||!D)return we.error("All fields are required",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});const L={name:p,address:E,pincode:T,phoneNumber:D,date:new Date().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"})},I={cartItems:i,addressInfo:L,paymentId:Math.floor(Math.random()*1e6),date:new Date().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"}),email:JSON.parse(localStorage.getItem("user")).user.email,userid:JSON.parse(localStorage.getItem("user")).user.uid,status:"Pending"};try{const z=Zo(An,"order");await kv(z,I),we.success("Order placed successfully!",{position:"top-center",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),i.forEach(q=>{n(tw(q))})}catch(z){console.error("Order Error:",z),we.error("Something went wrong! Please try again.")}};return v.jsx(Wa,{children:v.jsxs("div",{className:`h-screen pt-5 mb-[60%] transition-all ${e==="dark"?"bg-gray-900 text-white":"bg-gray-100"}`,children:[v.jsx("h1",{className:"mb-10 text-center text-3xl font-semibold",children:"Cart Items"}),v.jsxs("div",{className:"mx-auto max-w-7xl justify-center px-6 md:flex md:space-x-6 xl:px-0",children:[v.jsx("div",{className:"rounded-lg md:w-2/3 space-y-6",children:i.map((L,I)=>{const{title:z,price:q,description:te,imageUrl:O}=L;return v.jsxs("div",{className:`flex items-center justify-between rounded-lg border bg-white p-6 shadow-xl hover:shadow-2xl transition-all ${e==="dark"?"bg-gray-800 text-white":"bg-white"}`,children:[v.jsx("img",{src:O,alt:"product-image",className:"w-full sm:w-32 h-auto rounded-lg"}),v.jsxs("div",{className:"sm:ml-6 flex flex-col sm:space-y-3",children:[v.jsx("h2",{className:"text-lg font-semibold",children:z}),v.jsx("p",{className:"text-sm text-gray-500",children:te}),v.jsxs("p",{className:"mt-2 text-xl font-bold",children:[q," TK"]})]}),v.jsx("button",{onClick:()=>a(L),className:"ml-6 text-red-600 hover:text-red-800 focus:outline-none",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]},I)})}),v.jsxs("div",{className:`mt-6 rounded-lg p-6 shadow-md md:w-1/3 ${e==="dark"?"bg-gray-800 text-white":"bg-white"}`,children:[v.jsxs("div",{className:"mb-4 flex justify-between",children:[v.jsx("p",{className:"text-lg font-semibold",children:"Subtotal"}),v.jsxs("p",{className:"text-lg font-semibold",children:[l," TK"]})]}),v.jsxs("div",{className:"flex justify-between mb-4",children:[v.jsx("p",{className:"text-lg font-semibold",children:"Shipping"}),v.jsxs("p",{className:"text-lg font-semibold",children:[f," TK"]})]}),v.jsx("hr",{className:"my-4 border-gray-300"}),v.jsxs("div",{className:"flex justify-between mb-6",children:[v.jsx("p",{className:"text-xl font-bold",children:"Total"}),v.jsxs("p",{className:"text-xl font-bold",children:[h," TK"]})]}),v.jsx(C3,{name:p,address:E,pincode:T,phoneNumber:D,setName:y,setAddress:b,setPincode:A,setPhoneNumber:C,buyNow:P})]})]})]})})}function VV(t){return _r({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(t)}function UV(t){return _r({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z"},child:[]}]})(t)}function zV(t){return _r({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function $V(t){return _r({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function FV(t){return _r({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function BV(t){return _r({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}var ay={exports:{}},oy,PT;function HV(){if(PT)return oy;PT=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return oy=t,oy}var ly,MT;function qV(){if(MT)return ly;MT=1;var t=HV();function e(){}function n(){}return n.resetWarningCache=e,ly=function(){function i(c,f,h,p,y,E){if(E!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},ly}var LT;function GV(){return LT||(LT=1,ay.exports=qV()()),ay.exports}var fR=GV();function Fv(t){return e=>!!e.type&&e.type.tabsRole===t}const Gc=Fv("Tab"),Em=Fv("TabList"),wm=Fv("TabPanel");function KV(t){return Gc(t)||Em(t)||wm(t)}function f0(t,e){return w.Children.map(t,n=>n===null?null:KV(n)?e(n):n.props&&n.props.children&&typeof n.props.children=="object"?w.cloneElement(n,Object.assign({},n.props,{children:f0(n.props.children,e)})):n)}function Rh(t,e){return w.Children.forEach(t,n=>{n!==null&&(Gc(n)||wm(n)?e(n):n.props&&n.props.children&&typeof n.props.children=="object"&&(Em(n)&&e(n),Rh(n.props.children,e)))})}function dR(t,e,n){let i,a=0,l=0,c=!1;const f=[],h=t[e];return Rh(h,p=>{Em(p)&&(p.props&&p.props.children&&typeof p.props.children=="object"&&Rh(p.props.children,y=>f.push(y)),c&&(i=new Error("Found multiple 'TabList' components inside 'Tabs'. Only one is allowed.")),c=!0),Gc(p)?((!c||f.indexOf(p)===-1)&&(i=new Error("Found a 'Tab' component outside of the 'TabList' component. 'Tab' components have to be inside the 'TabList' component.")),a++):wm(p)&&l++}),!i&&a!==l&&(i=new Error(`There should be an equal number of 'Tab' and 'TabPanel' in \`${n}\`. Received ${a} 'Tab' and ${l} 'TabPanel'.`)),i}function QV(t,e,n,i,a){const l=t[e],c=a||e;let f=null;return l&&typeof l!="function"?f=new Error(`Invalid ${i} \`${c}\` of type \`${typeof l}\` supplied to \`${n}\`, expected \`function\`.`):t.selectedIndex!=null&&l==null&&(f=new Error(`The ${i} \`${c}\` is marked as required in \`${n}\`, but its value is \`undefined\` or \`null\`.
\`onSelect\` is required when \`selectedIndex\` is also set. Not doing so will make the tabs not do anything, as \`selectedIndex\` indicates that you want to handle the selected tab yourself.
If you only want to set the inital tab replace \`selectedIndex\` with \`defaultIndex\`.`)),f}function YV(t,e,n,i,a){const l=t[e],c=a||e;let f=null;if(l!=null&&typeof l!="number")f=new Error(`Invalid ${i} \`${c}\` of type \`${typeof l}\` supplied to \`${n}\`, expected \`number\`.`);else if(t.defaultIndex!=null&&l!=null)return new Error(`The ${i} \`${c}\` cannot be used together with \`defaultIndex\` in \`${n}\`.
Either remove \`${c}\` to let \`${n}\` handle the selected tab internally or remove \`defaultIndex\` to handle it yourself.`);return f}function hR(t){let e=0;return Rh(t,n=>{Gc(n)&&e++}),e}const WV=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function XV(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}function mR(t){return t&&"getAttribute"in t}function jT(t){return mR(t)&&t.getAttribute("data-rttab")}function Sa(t){return mR(t)&&t.getAttribute("aria-disabled")==="true"}let Ch;function ZV(t){const e=t||(typeof window<"u"?window:void 0);try{Ch=!!(typeof e<"u"&&e.document&&e.document.activeElement)}catch{Ch=!1}}const JV={className:"react-tabs",focus:!1},e7={children:dR},t7=t=>{fR.checkPropTypes(e7,t,"prop","UncontrolledTabs");let e=w.useRef([]),n=w.useRef([]);const i=w.useRef();function a(I,z){if(I<0||I>=p())return;const{onSelect:q,selectedIndex:te}=t;q(I,te,z)}function l(I){const z=p();for(let q=I+1;q<z;q++)if(!Sa(y(q)))return q;for(let q=0;q<I;q++)if(!Sa(y(q)))return q;return I}function c(I){let z=I;for(;z--;)if(!Sa(y(z)))return z;for(z=p();z-- >I;)if(!Sa(y(z)))return z;return I}function f(){const I=p();for(let z=0;z<I;z++)if(!Sa(y(z)))return z;return null}function h(){let I=p();for(;I--;)if(!Sa(y(I)))return I;return null}function p(){const{children:I}=t;return hR(I)}function y(I){return e.current[`tabs-${I}`]}function E(){let I=0;const{children:z,disabledTabClassName:q,focus:te,forceRenderTabPanel:O,selectedIndex:N,selectedTabClassName:M,selectedTabPanelClassName:V,environment:U}=t;n.current=n.current||[];let B=n.current.length-p();const j=w.useId();for(;B++<0;)n.current.push(`${j}${n.current.length}`);return f0(z,he=>{let ve=he;if(Em(he)){let K=0,ie=!1;Ch==null&&ZV(U);const ue=U||(typeof window<"u"?window:void 0);Ch&&ue&&(ie=de.Children.toArray(he.props.children).filter(Gc).some((ce,$)=>ue.document.activeElement===y($))),ve=w.cloneElement(he,{children:f0(he.props.children,ce=>{const $=`tabs-${K}`,ee=N===K,fe={tabRef:oe=>{e.current[$]=oe},id:n.current[K],selected:ee,focus:ee&&(te||ie)};return M&&(fe.selectedClassName=M),q&&(fe.disabledClassName=q),K++,w.cloneElement(ce,fe)})})}else if(wm(he)){const K={id:n.current[I],selected:N===I};O&&(K.forceRender=O),V&&(K.selectedClassName=V),I++,ve=w.cloneElement(he,K)}return ve})}function b(I){const{direction:z,disableUpDownKeys:q,disableLeftRightKeys:te}=t;if(A(I.target)){let{selectedIndex:O}=t,N=!1,M=!1;(I.code==="Space"||I.keyCode===32||I.code==="Enter"||I.keyCode===13)&&(N=!0,M=!1,T(I)),!te&&(I.keyCode===37||I.code==="ArrowLeft")||!q&&(I.keyCode===38||I.code==="ArrowUp")?(z==="rtl"?O=l(O):O=c(O),N=!0,M=!0):!te&&(I.keyCode===39||I.code==="ArrowRight")||!q&&(I.keyCode===40||I.code==="ArrowDown")?(z==="rtl"?O=c(O):O=l(O),N=!0,M=!0):I.keyCode===35||I.code==="End"?(O=h(),N=!0,M=!0):(I.keyCode===36||I.code==="Home")&&(O=f(),N=!0,M=!0),N&&I.preventDefault(),M&&a(O,I)}}function T(I){let z=I.target;do if(A(z)){if(Sa(z))return;const q=[].slice.call(z.parentNode.children).filter(jT).indexOf(z);a(q,I);return}while((z=z.parentNode)!=null)}function A(I){if(!jT(I))return!1;let z=I.parentElement;do{if(z===i.current)return!0;if(z.getAttribute("data-rttabs"))break;z=z.parentElement}while(z);return!1}const D=Object.assign({},JV,t),{className:C,domRef:P}=D,L=XV(D,WV);return de.createElement("div",Object.assign({},L,{className:dr(C),onClick:T,onKeyDown:b,ref:I=>{i.current=I,P&&P(I)},"data-rttabs":!0}),E())},n7=["children","defaultFocus","defaultIndex","focusTabOnClick","onSelect"];function r7(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}const i7=0,Fd=1,s7={children:dR,onSelect:QV,selectedIndex:YV},a7={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},o7=t=>t.selectedIndex===null?Fd:i7,pR=t=>{fR.checkPropTypes(s7,t,"prop","Tabs");const e=Object.assign({},a7,t),{children:n,defaultFocus:i,defaultIndex:a,focusTabOnClick:l,onSelect:c}=e,f=r7(e,n7),[h,p]=w.useState(i),[y]=w.useState(o7(f)),[E,b]=w.useState(y===Fd?a||0:null);if(w.useEffect(()=>{p(!1)},[]),y===Fd){const D=hR(n);w.useEffect(()=>{if(E!=null){const C=Math.max(0,D-1);b(Math.min(E,C))}},[D])}const T=(D,C,P)=>{typeof c=="function"&&c(D,C,P)===!1||(l&&p(!0),y===Fd&&b(D))};let A=Object.assign({},t,f);return A.focus=h,A.onSelect=T,E!=null&&(A.selectedIndex=E),delete A.defaultFocus,delete A.defaultIndex,delete A.focusTabOnClick,de.createElement(t7,A,n)};pR.tabsRole="Tabs";const l7=["children","className"];function u7(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}const c7={className:"react-tabs__tab-list"},gR=t=>{const e=Object.assign({},c7,t),{children:n,className:i}=e,a=u7(e,l7);return de.createElement("ul",Object.assign({},a,{className:dr(i),role:"tablist"}),n)};gR.tabsRole="TabList";const f7=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"];function d7(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}const uy="react-tabs__tab",h7={className:uy,disabledClassName:`${uy}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${uy}--selected`},Bd=t=>{let e=w.useRef();const n=Object.assign({},h7,t),{children:i,className:a,disabled:l,disabledClassName:c,focus:f,id:h,selected:p,selectedClassName:y,tabIndex:E,tabRef:b}=n,T=d7(n,f7);return w.useEffect(()=>{p&&f&&e.current.focus()},[p,f]),de.createElement("li",Object.assign({},T,{className:dr(a,{[y]:p,[c]:l}),ref:A=>{e.current=A,b&&b(A)},role:"tab",id:`tab${h}`,"aria-selected":p?"true":"false","aria-disabled":l?"true":"false","aria-controls":`panel${h}`,tabIndex:E||(p?"0":null),"data-rttab":!0}),i)};Bd.tabsRole="Tab";const m7=["children","className","forceRender","id","selected","selectedClassName"];function p7(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}const VT="react-tabs__tab-panel",g7={className:VT,forceRender:!1,selectedClassName:`${VT}--selected`},Hd=t=>{const e=Object.assign({},g7,t),{children:n,className:i,forceRender:a,id:l,selected:c,selectedClassName:f}=e,h=p7(e,m7);return de.createElement("div",Object.assign({},h,{className:dr(i,{[f]:c}),role:"tabpanel",id:`panel${l}`,"aria-labelledby":`tab${l}`}),a||c?n:null)};Hd.tabsRole="TabPanel";function y7(t){return _r({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 10h-2V8h2v2zm0-4h-2V1h2v5zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03L21 4.96 19.25 4l-3.7 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2z"},child:[]}]})(t)}function v7(t){return _r({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M832 312H696v-16c0-101.6-82.4-184-184-184s-184 82.4-184 184v16H192c-17.7 0-32 14.3-32 32v536c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V344c0-17.7-14.3-32-32-32zm-208 0H400v-16c0-61.9 50.1-112 112-112s112 50.1 112 112v16z"},child:[]}]})(t)}function _7(){const t=w.useContext(jt),{mode:e,product:n,edithandle:i,deleteProduct:a,order:l,user:c}=t;let[f,h]=w.useState(!1);const p=()=>{window.location.href="/addproduct"};return v.jsx(v.Fragment,{children:v.jsx("div",{className:"container mx-auto",children:v.jsx("div",{className:"tab container mx-auto ",children:v.jsxs(pR,{defaultIndex:0,className:" ",children:[v.jsxs(gR,{className:"md:flex md:space-x-8 bg-  grid grid-cols-2 text-center gap-4   md:justify-center mb-10 ",children:[v.jsx(Bd,{children:v.jsxs("button",{type:"button",className:"font-medium border-b-2 hover:shadow-purple-700 border-purple-500 text-purple-500 rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]  px-5 py-1.5 text-center bg-[#605d5d12] ",children:[v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx(y7,{}),"Products"]})," "]})}),v.jsx(Bd,{children:v.jsx("button",{type:"button",className:"font-medium border-b-2 border-pink-500 bg-[#605d5d12] text-pink-500  hover:shadow-pink-700  rounded-lg text-xl shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]    px-5 py-1.5 text-center ",children:v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx(v7,{})," Order"]})})}),v.jsx(Bd,{children:v.jsx("button",{type:"button",className:"font-medium border-b-2 border-green-500 bg-[#605d5d12] text-green-500 rounded-lg text-xl  hover:shadow-green-700 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]   px-5 py-1.5 text-center ",children:v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx(FV,{})," Users"]})})})]}),v.jsx(Hd,{children:v.jsxs("div",{className:"  px-4 md:px-0 mb-16",children:[v.jsx("h1",{className:" text-center mb-5 text-3xl font-semibold underline",style:{color:e==="dark"?"white":""},children:"Product Details"}),v.jsx("div",{className:" flex justify-end",children:v.jsxs("button",{onClick:p,type:"button",className:"focus:outline-none text-white cursor bg-orange-400 shadow-[inset_0_0_10px_rgba(0,0,0,0.6)] border hover:bg-orange-500 outline-0 font-medium rounded-lg text-sm px-5 py-2.5 mb-2",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[" ",v.jsxs("div",{className:"flex gap-2 items-center",children:["Add Product ",v.jsx(UV,{size:20})]})]})}),v.jsx("div",{className:"relative overflow-x-auto ",children:v.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400  ",children:[v.jsx("thead",{className:"text-xs border border-gray-600 text-black uppercase bg-gray-200 shadow-[inset_0_0_8px_rgba(0,0,0,0.6)]",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-6 py-3",children:"S.No"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Image"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Title"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Category"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Rating"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),n.map((y,E)=>{const{title:b,price:T,imageUrl:A,category:D,description:C,date:P}=y;return v.jsx("tbody",{className:"",children:v.jsxs("tr",{className:"bg-gray-50 border-b  dark:border-gray-700",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[v.jsxs("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:[E+1,"."]}),v.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-black whitespace-nowrap",children:v.jsx("img",{className:"w-16",src:A,alt:"img"})}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:b}),v.jsxs("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:[T,"TK"]}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:D}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:P}),v.jsx("td",{className:"px-6 py-4 text-black",style:{color:e==="dark"?"white":""},children:v.jsxs("div",{className:"flex items-center",children:[Array.from({length:5}).map((L,I)=>{const z=I+1;return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:z<=Math.round(y.rating||0)?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5 text-orange-400",children:v.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})},I)}),v.jsxs("span",{className:"text-gray-600 ml-2 text-sm",style:{color:e==="dark"?"white":""},children:["(",y.totalRatings||0," Reviews)"]})]})}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("div",{className:" flex gap-2",children:v.jsxs("div",{className:" flex gap-2 cursor-pointer text-black ",style:{color:e==="dark"?"white":""},children:[v.jsx("div",{onClick:()=>a(y),children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),v.jsx(at,{to:"/updateproduct",children:v.jsx("div",{onClick:()=>i(y),children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})})})]})})})]})})})]})})]})}),v.jsx(Hd,{children:v.jsxs("div",{className:"relative overflow-x-auto mb-16",children:[v.jsx("h1",{className:" text-center mb-5 text-3xl font-semibold underline",style:{color:e==="dark"?"white":""},children:"Order Details"}),l.map((y,E)=>v.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[v.jsx("thead",{className:"text-xs text-black uppercase bg-gray-200 ",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Payment Id"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Image"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Title"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Category"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Address"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Pincode"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Phone Number"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"})]})}),y.cartItems.map((b,T)=>{const{title:A,description:D,category:C,imageUrl:P,price:L}=b;return v.jsx("tbody",{children:v.jsxs("tr",{className:"bg-gray-50 border-b  dark:border-gray-700",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:y.paymentId}),v.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-black whitespace-nowrap",children:v.jsx("img",{className:"w-16",src:P,alt:"img"})}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:A}),v.jsxs("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:[L,"TK"]}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:C}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:y.addressInfo.name}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:y.addressInfo.address}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:y.addressInfo.pincode}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:y.addressInfo.phoneNumber}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:y.email}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:y.date})]})})})]}))]})}),v.jsx(Hd,{children:v.jsxs("div",{className:"relative overflow-x-auto mb-10",children:[v.jsx("h1",{className:" text-center mb-5 text-3xl font-semibold underline",style:{color:e==="dark"?"white":""},children:"User Details"}),v.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[v.jsx("thead",{className:"text-xs text-black uppercase bg-gray-200 ",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-6 py-3",children:"S.No"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Uid"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),v.jsx("th",{scope:"col",className:"px-6 py-3",children:"View Details"})]})}),c.map((y,E)=>{const{name:b,uid:T,email:A,time:D,id:C}=y;return v.jsx("tbody",{children:v.jsxs("tr",{className:"bg-gray-50 border-b  dark:border-gray-700",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[v.jsxs("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:[E+1,"."]}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:b}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:A}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:T}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:D.toDate().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"})}),v.jsx("td",{className:"px-6 py-4 text-black ",style:{color:e==="dark"?"white":""},children:v.jsx(at,{to:`/userdetails/${C}`,children:v.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"View Details"})})})]})})})]})]})})]})})})})}function b7(){const t=w.useContext(jt),{mode:e,user:n,order:i,product:a}=t;return v.jsx(Wa,{children:v.jsxs("section",{className:"mt-12 mb-10 px-5",children:[v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:`rounded-2xl p-6 shadow-xl flex flex-col items-center border ${e==="dark"?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[v.jsx(VV,{size:50,className:"text-purple-500 mb-4"}),v.jsx("h2",{className:`text-4xl font-bold mb-2 ${e==="dark"?"text-white":"text-gray-900"}`,children:a.length}),v.jsx("p",{className:`font-semibold tracking-wide ${e==="dark"?"text-purple-400":"text-purple-600"}`,children:"Total Products"})]}),v.jsxs("div",{className:`rounded-2xl p-6 shadow-xl flex flex-col items-center border ${e==="dark"?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[v.jsx($V,{size:50,className:"text-purple-500 mb-4"}),v.jsx("h2",{className:`text-4xl font-bold mb-2 ${e==="dark"?"text-white":"text-gray-900"}`,children:i.length}),v.jsx("p",{className:`font-semibold tracking-wide ${e==="dark"?"text-purple-400":"text-purple-600"}`,children:"Total Orders"})]}),v.jsxs("div",{className:`rounded-2xl p-6 shadow-xl flex flex-col items-center border ${e==="dark"?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[v.jsx(BV,{size:50,className:"text-purple-500 mb-4"}),v.jsx("h2",{className:`text-4xl font-bold mb-2 ${e==="dark"?"text-white":"text-gray-900"}`,children:n.length}),v.jsx("p",{className:`font-semibold tracking-wide ${e==="dark"?"text-purple-400":"text-purple-600"}`,children:"Total Users"})]})]}),v.jsx("div",{className:"mt-12",children:v.jsx(_7,{})})]})})}function E7(){return v.jsx("div",{className:"min-h-screen bg-[#95c2de] flex items-center justify-center",children:v.jsxs("div",{className:"relative w-[600px] h-[600px] bg-[#95c2de]",children:[v.jsx("div",{className:"absolute text-white text-[11rem] left-[20%] top-[8%] font-black",children:"4"}),v.jsx(zV,{className:"absolute text-white text-[8.5rem] left-[42%] top-[15%] animate-spin"}),v.jsx("div",{className:"absolute text-white text-[11rem] left-[68%] top-[8%] font-black",children:"4"}),v.jsxs("div",{className:"absolute text-center text-white text-[1.6rem] left-[16%] top-[45%] w-[75%] font-semibold",children:["Maybe this page moved? Got deleted? Is hiding out in quarantine? Never existed in the first place?",v.jsxs("p",{className:"mt-4",children:["Let's go ",v.jsx(at,{to:"/",className:"underline hover:no-underline",children:"home"})," and try from there."]})]})]})})}function w7(){const[t,e]=w.useState(""),[n,i]=w.useState(""),a=w.useContext(jt),{loading:l,setLoading:c}=a,f=async()=>{c(!0);try{const h=await _j(Ah,t,n);localStorage.setItem("user",JSON.stringify(h)),we.success("Signin Successfully"),window.location.href="/"}catch(h){switch(h.code){case"auth/user-not-found":we.error("You don't have any account. Redirecting to signup..."),setTimeout(()=>{window.location.href="/signup"},2e3);break;case"auth/wrong-password":we.error("Incorrect password. Please try again.");break;case"auth/invalid-email":we.error("Invalid email format.");break;default:we.error("Signin Failed. Please try again.")}}c(!1)};return v.jsxs("div",{className:" flex justify-center items-center h-screen",children:[l&&v.jsx($0,{}),v.jsxs("div",{className:" bg-gray-800 px-10 py-10 rounded-xl ",children:[v.jsx("div",{className:"",children:v.jsx("h1",{className:"text-center text-white text-xl mb-4 font-bold",children:"Login"})}),v.jsx("div",{children:v.jsx("input",{type:"email",name:"email",value:t,onChange:h=>e(h.target.value),className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Email"})}),v.jsx("div",{children:v.jsx("input",{type:"password",value:n,onChange:h=>i(h.target.value),className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Password"})}),v.jsx("div",{className:" flex justify-center mb-3",children:v.jsx("button",{onClick:f,className:" bg-yellow-500 w-full text-black font-bold  px-2 py-2 rounded-lg cursor-pointer hover:bg-yellow-600 transition-all duration-300 ease-in-out",children:"Login"})}),v.jsx("div",{children:v.jsxs("h2",{className:"text-white",children:["Don't have an account ",v.jsx(at,{className:" text-yellow-500 font-bold",to:"/signup",children:"Signup"})]})})]})]})}const Wt=[];for(let t=0;t<256;++t)Wt.push((t+256).toString(16).slice(1));function T7(t,e=0){return(Wt[t[e+0]]+Wt[t[e+1]]+Wt[t[e+2]]+Wt[t[e+3]]+"-"+Wt[t[e+4]]+Wt[t[e+5]]+"-"+Wt[t[e+6]]+Wt[t[e+7]]+"-"+Wt[t[e+8]]+Wt[t[e+9]]+"-"+Wt[t[e+10]]+Wt[t[e+11]]+Wt[t[e+12]]+Wt[t[e+13]]+Wt[t[e+14]]+Wt[t[e+15]]).toLowerCase()}let cy;const x7=new Uint8Array(16);function S7(){if(!cy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");cy=crypto.getRandomValues.bind(crypto)}return cy(x7)}const A7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),UT={randomUUID:A7};function ol(t,e,n){var a;if(UT.randomUUID&&!t)return UT.randomUUID();t=t||{};const i=t.random??((a=t.rng)==null?void 0:a.call(t))??S7();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,T7(i)}const R7=()=>ol()+ol()+ol()+"--",C7=()=>"--"+ol()+ol()+ol();function I7(){const[t,e]=w.useState(""),[n,i]=w.useState(""),[a,l]=w.useState(""),[c,f]=w.useState(""),[h,p]=w.useState(""),y=w.useContext(jt),{loading:E,setLoading:b}=y,T=async()=>{if(b(!0),t===""||n===""||a===""||c===""||h==="")return b(!1),we.error("All fields are required");if(c!==h)return b(!1),we.error("Passwords do not match");try{const A=await vj(Ah,a,c),D={logo:`https://ui-avatars.com/api/?name=${t}&background=random`,name:t,number:n,uid:A.user.uid,email:A.user.email,hashedPasword:R7()+h+C7(),time:wt.now()},C=Zo(An,"usersInfo");await kv(C,D),we.success("Signup Successfully"),e(""),i(""),l(""),f(""),p(""),window.location.href="/login",b(!1)}catch(A){b(!1),A.code==="auth/email-already-in-use"?we.error("Email already exists"):(we.error("Signup failed  try again"),console.log(A))}};return v.jsxs("div",{className:" flex justify-center items-center h-screen",children:[E&&v.jsx($0,{}),v.jsxs("div",{className:" bg-gray-800 px-10 py-10 rounded-xl ",children:[v.jsx("div",{className:"",children:v.jsx("h1",{className:"text-center text-white text-xl mb-4 font-bold",children:"Signup"})}),v.jsx("div",{children:v.jsx("input",{type:"text",value:t,onChange:A=>e(A.target.value),name:"name",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Name"})}),v.jsx("div",{children:v.jsx("input",{type:"tel",value:n,onChange:A=>i(A.target.value),name:"number",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Phone number"})}),v.jsx("div",{children:v.jsx("input",{type:"email",value:a,onChange:A=>l(A.target.value),name:"email",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Email"})}),v.jsx("div",{children:v.jsx("input",{type:"password",value:c,onChange:A=>f(A.target.value),className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Password"})}),v.jsx("div",{children:v.jsx("input",{type:"password",value:h,onChange:A=>p(A.target.value),className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Confirm Password"})}),v.jsx("div",{className:" flex justify-center mb-3",children:v.jsx("button",{onClick:T,className:" bg-red-500 w-full text-white font-bold  px-2 py-2 rounded-lg cursor-pointer",children:"Signup"})}),v.jsx("div",{children:v.jsxs("h2",{className:"text-white",children:["Have an account ",v.jsx(at,{className:" text-red-500 font-bold",to:"/login",children:"Login"})]})})]})]})}function N7(){const t=w.useContext(jt),{setLoading:e,mode:n}=t,[i,a]=w.useState(""),l=YT(),c=async()=>{e(!0);try{const y=await Nv(Ei(An,"products",l.id));a(y.data()),e(!1)}catch(y){console.log(y),e(!1)}};w.useEffect(()=>{c()},[]);const f=Hh(),h=kc(y=>y.cart),p=y=>{f(z0(y)),we.success("Added to cart",{position:"top-center"})};return w.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(h))},[h]),v.jsx(Wa,{children:v.jsx("section",{className:"text-gray-600 body-font overflow-hidden",children:v.jsx("div",{className:"container px-5 py-10 mx-auto",children:i&&v.jsxs("div",{className:"lg:w-4/5 mx-auto flex flex-wrap",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("img",{alt:"ecommerce",className:"w-120 h-120 object-cover object-center rounded-4xl border border-gray-200 p-10",src:i.imageUrl}),v.jsxs("div",{className:"flex justify-around mt-5",children:[v.jsxs("span",{className:"title-font font-bold text-2xl",style:{color:n==="dark"?"white":""},children:[i.price," TK"]}),v.jsx("div",{className:"flex mb-4",children:v.jsxs("span",{className:"flex items-center",children:[Array.from({length:5}).map((y,E)=>{const b=E+1;return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:b<=Math.round(i.rating)?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5 text-orange-400",children:v.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})},E)}),v.jsxs("span",{className:"text-gray-600 ml-2",style:{color:n==="dark"?"white":""},children:["(",i.totalRatings," Reviews)"]})]})})]})]}),v.jsxs("div",{className:"lg:w-1/2 w-full lg:pl-10 lg:py-6 mt-6 lg:mt-0",children:[v.jsx("h2",{className:"text-sm title-font text-gray-500 tracking-widest",children:"E- MART"}),v.jsx("h1",{className:"text-2xl title-font font-medium mb-1",style:{color:n==="dark"?"white":""},children:i.title}),v.jsx("span",{className:"text-gray-400 mt-28",children:"Description"}),v.jsx("p",{className:"leading-relaxed text-[12px] border-b-2 mb-5 pb-5",style:{color:n==="dark"?"white":""},children:i.description}),v.jsx("div",{className:"flex mt-6",children:v.jsx("button",{onClick:()=>p(i),className:"flex ml-auto text-white bg-orange-500 border-0 py-2 px-6 focus:outline-none hover:bg-orange-600 rounded",children:"Add To Cart"})})]})]})})})})}function D7(){const t=w.useContext(jt),{products:e,setProducts:n,addProduct:i}=t;return v.jsxs("div",{children:[v.jsx("div",{className:" flex justify-center items-center h-screen",children:v.jsxs("div",{className:" bg-gray-800 px-10 py-10 rounded-xl ",children:[v.jsx("div",{className:"",children:v.jsx("h1",{className:"text-center text-white text-xl mb-4 font-bold",children:"Add Product"})}),v.jsx("div",{children:v.jsx("input",{type:"text",onChange:a=>n({...e,title:a.target.value}),value:e.title,name:"title",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product title"})}),v.jsx("div",{children:v.jsx("input",{type:"text",name:"price",onChange:a=>n({...e,price:a.target.value}),value:e.price,className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product price"})}),v.jsx("div",{children:v.jsx("input",{type:"text",name:"imageurl",onChange:a=>n({...e,imageUrl:a.target.value}),value:e.imageUrl,className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product imageUrl"})}),v.jsx("div",{children:v.jsx("input",{type:"text",name:"category",onChange:a=>n({...e,category:a.target.value}),value:e.category,className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product category"})}),v.jsx("div",{children:v.jsx("textarea",{cols:"30",rows:"10",name:"description",onChange:a=>n({...e,description:a.target.value}),className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product title"})}),v.jsx("div",{className:" flex justify-center mb-3",children:v.jsx("button",{onClick:i,className:" bg-yellow-500 w-full cursor text-black font-bold  px-2 py-2 rounded-lg hover:bg-green-600",children:"Add Product"})})]})}),"z"]})}function k7(){const t=w.useContext(jt),{products:e,setProducts:n,updateProduct:i}=t;return v.jsx("div",{children:v.jsx("div",{className:" flex justify-center items-center h-screen",children:v.jsxs("div",{className:" bg-gray-800 px-10 py-10 rounded-xl ",children:[v.jsx("div",{className:"",children:v.jsx("h1",{className:"text-center text-white text-xl mb-4 font-bold",children:"Update Product"})}),v.jsx("div",{children:v.jsx("input",{type:"text",value:e.title,onChange:a=>n({...e,title:a.target.value}),name:"title",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product title"})}),v.jsx("div",{children:v.jsx("input",{type:"text",value:e.price,onChange:a=>n({...e,price:a.target.value}),name:"price",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product price"})}),v.jsx("div",{children:v.jsx("input",{type:"text",value:e.imageUrl,onChange:a=>n({...e,imageUrl:a.target.value}),name:"imageurl",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product imageUrl"})}),v.jsx("div",{children:v.jsx("input",{type:"text",value:e.category,onChange:a=>n({...e,category:a.target.value}),name:"category",className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product category"})}),v.jsx("div",{children:v.jsx("textarea",{cols:"30",rows:"10",name:"title",value:e.description,onChange:a=>n({...e,description:a.target.value}),className:" bg-gray-600 mb-4 px-2 py-2 w-full lg:w-[20em] rounded-lg text-white placeholder:text-gray-200 outline-none",placeholder:"Product desc"})}),v.jsx("div",{className:" flex justify-center mb-3",children:v.jsx("button",{onClick:i,className:" bg-yellow-500 w-full cursor hover:bg-green-600 text-black font-bold  px-2 py-2 rounded-lg",children:"Update Product"})})]})})})}function O7(){const t=w.useContext(jt),{mode:e,product:n,searchkey:i,setSearchkey:a,filterType:l,setFilterType:c,filterPrice:f,setFilterPrice:h}=t,p=Hh(),y=kc(b=>b.cart),E=b=>{p(z0(b)),we.success("Add to cart",{position:"top-center"})};return w.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(y))},[y]),v.jsx(Wa,{children:v.jsxs("section",{className:"text-gray-600 body-font",children:[v.jsx(b2,{}),v.jsxs("div",{className:"container px-5 py-8 md:py-16 mx-auto",children:[v.jsxs("div",{className:"lg:w-1/2 w-full mb-6 lg:mb-10",children:[v.jsx("h1",{className:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900",style:{color:e==="dark"?"white":""},children:"Our Latest Collection"}),v.jsx("div",{className:"h-1 w-20 bg-orange-400 rounded"})]}),v.jsx("div",{className:"flex flex-wrap -m-4",children:n.filter(b=>b.title.toLowerCase().includes(i.toLowerCase())).filter(b=>b.category.toLowerCase().includes(l.toLowerCase())).filter(b=>{if(f){const T=f.split("-"),A=parseInt(T[0]),D=T[1]==="+"?1/0:parseInt(T[1]);return b.price>=A&&b.price<=D}return!0}).sort((b,T)=>{if(b.price&&T.price){if(f==="htl")return T.price-b.price;if(f==="lth")return b.price-T.price}return 0}).map((b,T)=>{const{title:A,price:D,imageUrl:C,id:P,rating:L=0,totalRatings:I=0}=b;return v.jsx("div",{className:"p-4 md:w-1/4 drop-shadow-lg",children:v.jsxs("div",{className:"h-full border-2 hover:shadow-gray-100 hover:shadow-2xl transition-shadow duration-300 ease-in-out border-gray-200 border-opacity-60 rounded-2xl overflow-hidden",style:{backgroundColor:e==="dark"?"rgb(46 49 55)":"",color:e==="dark"?"white":""},children:[v.jsx("div",{onClick:()=>window.location.href=`/productinfo/${P}`,className:"flex justify-center cursor-pointer",children:v.jsx("img",{className:"rounded-2xl w-full h-86 p-3 hover:scale-110 transition-transform duration-300 ease-in-out",src:C,alt:"product"})}),v.jsxs("div",{className:"p-5 border-t-2",children:[v.jsx("h2",{className:"tracking-widest text-xs title-font font-medium text-gray-400 mb-1",style:{color:e==="dark"?"white":""},children:"E- MART"}),v.jsx("h1",{className:"title-font text-lg hideExtra font-medium text-gray-900 mb-3",style:{color:e==="dark"?"white":""},children:A}),v.jsxs("p",{className:"leading-relaxed mb-3 font-bold",style:{color:e==="dark"?"white":""},children:[D," TK"]}),v.jsxs("div",{className:"flex items-center mb-3",children:[Array.from({length:5}).map((z,q)=>{const te=q+1;return v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:te<=Math.round(L)?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5 text-orange-400",children:v.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})},q)}),v.jsxs("span",{className:"text-gray-600 ml-2",style:{color:e==="dark"?"white":""},children:["(",I," Reviews)"]})]}),v.jsx("div",{className:" flex justify-center",children:v.jsx("button",{type:"button",onClick:()=>E(b),className:"focus:outline-none text-white bg-orange-400 hover:bg-orange-500 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm w-full cursor py-2",children:"Add To Cart"})}),v.jsx("div",{className:"flex justify-center mt-2",children:v.jsx("button",{onClick:()=>window.location.href=`/productinfo/${P}`,className:"focus:outline-none text-white bg-blue-500 hover:bg-blue-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm w-full cursor py-2",children:"View"})})]})]})},T)})})]})]})})}const P7=()=>{var C;const{user:t,updateUser:e,logout:n,deleteUser:i}=w.useContext(jt),[a,l]=w.useState(null),[c,f]=w.useState({name:"",email:"",birth:"",country:"",address:""}),[h,p]=w.useState(!1);w.useEffect(()=>{var P,L,I,z,q;t.length>0&&f({name:((P=t[0])==null?void 0:P.name)||"",email:((L=t[0])==null?void 0:L.email)||"",birth:((I=t[0])==null?void 0:I.birth)||"",country:((z=t[0])==null?void 0:z.country)||"",address:((q=t[0])==null?void 0:q.address)||""})},[t]);const y=P=>l(P),E=P=>f({...c,[P.target.name]:P.target.value}),b=async P=>{if(!t[0]||!t[0].id){console.error("Missing user ID");return}const L={...t[0],...c};await e(L),l(null)},T=()=>{p(!0)},A=async()=>{var P;(P=t[0])!=null&&P.id&&await i(t[0].id),p(!1)},D=()=>{p(!1)};return v.jsx(Wa,{children:v.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gray-900 text-white px-4",children:v.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl w-full max-w-md space-y-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("img",{src:((C=t[0])==null?void 0:C.logo)||"https://via.placeholder.com/150",alt:"Profile",className:"w-24 h-24 rounded-full mx-auto mb-4"}),v.jsx("h2",{className:"text-2xl font-bold",children:"User Profile"})]}),["name","email","birth","country","address"].map(P=>v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("label",{className:"capitalize w-24",children:[P,":"]}),a===P?v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"text",name:P,value:c[P],onChange:E,className:"bg-gray-700 text-white px-2 py-1 rounded w-full mx-2"}),v.jsx("button",{onClick:()=>b(),className:"text-green-500 hover:underline",children:"Save"})]}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"text-gray-300 w-full mx-2",children:c[P]||"Not provided"}),v.jsx("button",{onClick:()=>y(P),className:"text-blue-500 hover:underline",children:"Edit"})]})]},P)),v.jsx("button",{onClick:T,className:"bg-red-500 text-white px-4 py-2 rounded-xl mt-4",children:"Delete Account"}),h&&v.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-black bg-opacity-50 z-50",children:v.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl w-1/3 space-y-4",children:[v.jsx("h3",{className:"text-lg font-bold text-center text-white",children:"Are you sure you want to delete your account?"}),v.jsxs("div",{className:"flex justify-around",children:[v.jsx("button",{onClick:A,className:"bg-red-500 text-white px-4 py-2 rounded-xl",children:"Yes, Delete"}),v.jsx("button",{onClick:D,className:"bg-gray-500 text-white px-4 py-2 rounded-xl",children:"Cancel"})]})]})}),v.jsx("div",{children:v.jsx("button",{onClick:n,className:"bg-red-500 text-white px-4 py-2 rounded-xl",children:"Logout"})})]})})})},M7=({currentUserId:t})=>{const{id:e}=YT(),[n,i]=w.useState(null),[a,l]=w.useState(!1),[c,f]=w.useState(!1),h=p0();w.useEffect(()=>{(async()=>{const D=Ei(An,"usersInfo",e),C=await Nv(D);C.exists()?(i({...C.data(),id:C.id}),f(C.data().status==="disabled")):console.log("No such user!")})()},[e]);const p=async()=>{const A=Ei(An,"usersInfo",e);await CA(A),alert("User deleted successfully"),h("/users")},y=async()=>{const A=Ei(An,"usersInfo",e),D=c?"enabled":"disabled";await yL(A,{status:D}),f(!c),alert(`User ${D} successfully`)},E=A=>{if(e==="KV9OrwuZJWbvzUzia6YnHV6fBQL2"){alert("You cannot delete or disable yourself.");return}A==="delete"?l(!0):A==="disable"&&y()},b=()=>{p(),l(!1)},T=()=>{l(!1)};return n?v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 to-blue-100 flex items-center justify-center p-6",children:v.jsxs("div",{className:"bg-white shadow-2xl rounded-3xl p-8 w-full max-w-4xl",children:[v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-purple-400 shadow-lg mb-6",children:v.jsx("img",{src:n.logo,alt:"User Avatar",className:"w-full h-full object-cover"})}),v.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n.name}),v.jsx("p",{className:"text-gray-500",children:n.email})]}),v.jsxs("div",{className:"mt-10 grid grid-cols-1 md:grid-cols-2 gap-8",children:[v.jsx(Aa,{label:"Phone",value:n.number}),v.jsx(Aa,{label:"Country",value:n.country}),v.jsx(Aa,{label:"Address",value:n.address}),v.jsx(Aa,{label:"Hashed Password",value:n.hashedPasword}),v.jsx(Aa,{label:"Id",value:n.id}),v.jsx(Aa,{label:"Uid",value:n.uid}),n.createdAt&&v.jsx(Aa,{label:"Account Created",value:n.createdAt.toDate().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"})})]}),v.jsxs("div",{className:"mt-6 flex justify-between",children:[v.jsx("button",{onClick:()=>E("delete"),className:"bg-red-600 text-white px-4 py-2 rounded-xl",children:"Delete User"}),v.jsx("button",{onClick:()=>E("disable"),className:`${c?"bg-green-600":"bg-yellow-600"} text-white px-4 py-2 rounded-xl`,children:c?"Enable User":"Disable User"})]}),a&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-xl",children:[v.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Are you sure you want to delete this user?"}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsx("button",{onClick:b,className:"bg-red-600 text-white px-4 py-2 rounded-xl",children:"Delete"}),v.jsx("button",{onClick:T,className:"bg-gray-600 text-white px-4 py-2 rounded-xl",children:"Cancel"})]})]})})]})}):v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:v.jsx("div",{className:"text-xl font-semibold animate-pulse",children:"Loading..."})})},Aa=({label:t,value:e})=>v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t}),v.jsx("p",{className:"text-lg font-semibold text-gray-800 break-words",children:e})]});function L7(t){const[e,n]=w.useState("light"),[i,a]=w.useState(!1),l=()=>{e==="light"?(n("dark"),document.body.style.backgroundColor="rgb(17, 24, 39)"):(n("light"),document.body.style.backgroundColor="white")},[c,f]=w.useState({title:null,price:null,imageUrl:null,category:null,description:null,time:wt.now(),date:new Date().toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric"})}),[h,p]=w.useState([]),y=async()=>{if(!c.title||!c.price||!c.imageUrl||!c.category||!c.description)return we.error("All fields are required");a(!0);try{const he=Zo(An,"products");await kv(he,c),we.success("Product added successfully!"),setTimeout(()=>{window.location.href="/dashboard"},800),E(),a(!1)}catch(he){console.log(he),a(!1)}},E=async()=>{a(!0);try{const he=fT(Zo(An,"products"),mL("time")),ve=vL(he,K=>{let ie=[];K.forEach(ue=>{ie.push({...ue.data(),id:ue.id})}),p(ie),a(!1)});return()=>ve}catch(he){console.log(he),a(!1)}};w.useEffect(()=>{E()},[]);const b=he=>{f(he)},T=async()=>{a(!0);try{await ry(Ei(An,"products",c.id),c),we.success("Product updated successfully!"),setTimeout(()=>{window.location.href="/dashboard"},800),E(),a(!1)}catch(he){console.log(he),a(!1)}},A=async he=>{a(!0);try{await CA(Ei(An,"products",he.id)),we.success("Product deleted successfully"),E(),a(!1)}catch(ve){console.log(ve),a(!1)}},D=async(he,ve)=>{a(!0);try{const K=Ei(An,"products",he),ie=await Nv(K);if(!ie.exists()){we.error("Product not found!"),a(!1);return}const ue=ie.data(),ce=ue.rating||0,$=ue.totalRatings||0,ee=$+1,fe=(ce*$+ve)/ee;await ry(K,{...ue,rating:fe,totalRatings:ee}),we.success("Thanks for your feedback!"),E(),a(!1)}catch(K){console.log(K),we.error("Failed to submit review"),a(!1)}},[C,P]=w.useState([]),L=async()=>{a(!0);try{const he=await mT(Zo(An,"order")),ve=[];he.forEach(K=>{ve.push(K.data())}),P(ve),a(!1)}catch(he){console.log(he),a(!1)}},[I,z]=w.useState([]),q=async()=>{a(!0);try{const he=fT(Zo(An,"usersInfo")),ve=await mT(he),K=[];ve.forEach(ie=>{K.push({...ie.data(),id:ie.id})}),z(K),a(!1)}catch(he){console.log(he),a(!1)}},te=async he=>{a(!0);try{const ve=Ei(An,"usersInfo",he.id);await ry(ve,he),we.success("Profile updated successfully!"),q(),a(!1)}catch{we.error("Failed to update profile"),a(!1)}};w.useEffect(()=>{const he=wj(Ah,ve=>{ve?q():z([])});return L(),()=>he()},[]);const O=()=>{Tj(Ah).then(()=>{localStorage.clear(),z([]),window.location.href="/"}).catch(he=>{console.log(he)})},[N,M]=w.useState(""),[V,U]=w.useState(""),[B,j]=w.useState("");return v.jsx(jt.Provider,{value:{mode:e,toggleMode:l,loading:i,setLoading:a,products:c,setProducts:f,addProduct:y,product:h,submitReview:D,edithandle:b,updateProduct:T,deleteProduct:A,order:C,user:I,updateUser:te,logout:O,searchkey:N,setSearchkey:M,filterType:V,setFilterType:U,filterPrice:B,setFilterPrice:j},children:t.children})}const j7=()=>{const[t,e]=w.useState(!1);w.useEffect(()=>{const i=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return v.jsx(v.Fragment,{children:t&&v.jsx("button",{onClick:n,className:"fixed bottom-6 right-6 p-3 rounded-full bg-blue-600 text-white shadow-lg hover:bg-blue-700 transition",children:v.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/4196/4196777.png",alt:"TOP",title:"TOP",className:"w-8"})})})},V7=()=>v.jsxs(L7,{children:[v.jsxs($I,{children:[v.jsx(xn,{path:"/",element:v.jsx(A3,{})}),v.jsx(xn,{path:"/order",element:v.jsx(zT,{children:v.jsx(R3,{})})}),v.jsx(xn,{path:"/cart",element:v.jsx(jV,{})}),v.jsx(xn,{path:"/dashboard",element:v.jsx(Cd,{children:v.jsx(b7,{})})}),v.jsx(xn,{path:"/login",element:v.jsx(w7,{})}),v.jsx(xn,{path:"/signup",element:v.jsx(I7,{})}),v.jsx(xn,{path:"/productinfo/:id",element:v.jsx(N7,{})}),v.jsx(xn,{path:"/addproduct",element:v.jsx(Cd,{children:v.jsx(D7,{})})}),v.jsx(xn,{path:"/updateproduct",element:v.jsx(Cd,{children:v.jsx(k7,{})})}),v.jsx(xn,{path:"/allproducts",element:v.jsx(O7,{})}),v.jsx(xn,{path:"/profile",element:v.jsx(zT,{children:v.jsx(P7,{})})}),v.jsx(xn,{path:"/userdetails/:id",element:v.jsx(Cd,{children:v.jsx(M7,{})})}),v.jsx(xn,{path:"/*",element:v.jsx(E7,{})})]}),v.jsx(j7,{}),v.jsx(w3,{})]}),zT=({children:t})=>localStorage.getItem("user")?t:v.jsx(ZT,{to:"/login"}),Cd=({children:t})=>JSON.parse(localStorage.getItem("user")).user.uid==="HQa0SbPtCbQt7TfbC9rCkoJ1muo1"?t:v.jsx(ZT,{to:"/login"}),U7=RO({reducer:{cart:$O},devTools:!0});XC.createRoot(document.getElementById("root")).render(v.jsx(cN,{children:v.jsx(w.StrictMode,{children:v.jsx(Yk,{store:U7,children:v.jsx(V7,{})})})}));
